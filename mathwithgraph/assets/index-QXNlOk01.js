var Ja=Object.defineProperty;var Ya=(n,e,t)=>e in n?Ja(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ne=(n,e,t)=>Ya(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ii(n){const e=Object.create(null);for(const t of n.split(","))e[t]=1;return t=>t in e}const oe={},on=[],mt=()=>{},Ka=()=>!1,So=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),wi=n=>n.startsWith("onUpdate:"),Fe=Object.assign,Ri=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},Za=Object.prototype.hasOwnProperty,Z=(n,e)=>Za.call(n,e),q=Array.isArray,sn=n=>xo(n)==="[object Map]",il=n=>xo(n)==="[object Set]",W=n=>typeof n=="function",Te=n=>typeof n=="string",kt=n=>typeof n=="symbol",ue=n=>n!==null&&typeof n=="object",sl=n=>(ue(n)||W(n))&&W(n.then)&&W(n.catch),rl=Object.prototype.toString,xo=n=>rl.call(n),Xa=n=>xo(n).slice(8,-1),ll=n=>xo(n)==="[object Object]",Mi=n=>Te(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,xn=Ii(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ao=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},Qa=/-(\w)/g,Dt=Ao(n=>n.replace(Qa,(e,t)=>t?t.toUpperCase():"")),ja=/\B([A-Z])/g,Nt=Ao(n=>n.replace(ja,"-$1").toLowerCase()),al=Ao(n=>n.charAt(0).toUpperCase()+n.slice(1)),Bo=Ao(n=>n?`on${al(n)}`:""),bt=(n,e)=>!Object.is(n,e),no=(n,...e)=>{for(let t=0;t<n.length;t++)n[t](...e)},ul=(n,e,t,o=!1)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,writable:o,value:t})},ii=n=>{const e=parseFloat(n);return isNaN(e)?n:e};let fs;const Io=()=>fs||(fs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Pi(n){if(q(n)){const e={};for(let t=0;t<n.length;t++){const o=n[t],i=Te(o)?ou(o):Pi(o);if(i)for(const s in i)e[s]=i[s]}return e}else if(Te(n)||ue(n))return n}const eu=/;(?![^(]*\))/g,tu=/:([^]+)/,nu=/\/\*[^]*?\*\//g;function ou(n){const e={};return n.replace(nu,"").split(eu).forEach(t=>{if(t){const o=t.split(tu);o.length>1&&(e[o[0].trim()]=o[1].trim())}}),e}function wo(n){let e="";if(Te(n))e=n;else if(q(n))for(let t=0;t<n.length;t++){const o=wo(n[t]);o&&(e+=o+" ")}else if(ue(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}const iu="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",su=Ii(iu);function cl(n){return!!n||n===""}const fl=n=>!!(n&&n.__v_isRef===!0),co=n=>Te(n)?n:n==null?"":q(n)||ue(n)&&(n.toString===rl||!W(n.toString))?fl(n)?co(n.value):JSON.stringify(n,dl,2):String(n),dl=(n,e)=>fl(e)?dl(n,e.value):sn(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[o,i],s)=>(t[qo(o,s)+" =>"]=i,t),{})}:il(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>qo(t))}:kt(e)?qo(e):ue(e)&&!q(e)&&!ll(e)?String(e):e,qo=(n,e="")=>{var t;return kt(n)?`Symbol(${(t=n.description)!=null?t:e})`:n};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ze;class ru{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ze,!e&&ze&&(this.index=(ze.scopes||(ze.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=ze;try{return ze=this,e()}finally{ze=t}}}on(){ze=this}off(){ze=this.parent}stop(e){if(this._active){this._active=!1;let t,o;for(t=0,o=this.effects.length;t<o;t++)this.effects[t].stop();for(this.effects.length=0,t=0,o=this.cleanups.length;t<o;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,o=this.scopes.length;t<o;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function lu(){return ze}let se;const Ho=new WeakSet;class pl{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ze&&ze.active&&ze.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ho.has(this)&&(Ho.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||gl(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ds(this),ml(this);const e=se,t=rt;se=this,rt=!0;try{return this.fn()}finally{Tl(this),se=e,rt=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)ki(e);this.deps=this.depsTail=void 0,ds(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ho.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){si(this)&&this.run()}get dirty(){return si(this)}}let hl=0,An,In;function gl(n,e=!1){if(n.flags|=8,e){n.next=In,In=n;return}n.next=An,An=n}function bi(){hl++}function Di(){if(--hl>0)return;if(In){let e=In;for(In=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let n;for(;An;){let e=An;for(An=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(o){n||(n=o)}e=t}}if(n)throw n}function ml(n){for(let e=n.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Tl(n){let e,t=n.depsTail,o=t;for(;o;){const i=o.prevDep;o.version===-1?(o===t&&(t=i),ki(o),au(o)):e=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=i}n.deps=e,n.depsTail=t}function si(n){for(let e=n.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(yl(e.dep.computed)||e.dep.version!==e.version))return!0;return!!n._dirty}function yl(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===kn))return;n.globalVersion=kn;const e=n.dep;if(n.flags|=2,e.version>0&&!n.isSSR&&n.deps&&!si(n)){n.flags&=-3;return}const t=se,o=rt;se=n,rt=!0;try{ml(n);const i=n.fn(n._value);(e.version===0||bt(i,n._value))&&(n._value=i,e.version++)}catch(i){throw e.version++,i}finally{se=t,rt=o,Tl(n),n.flags&=-3}}function ki(n,e=!1){const{dep:t,prevSub:o,nextSub:i}=n;if(o&&(o.nextSub=i,n.prevSub=void 0),i&&(i.prevSub=o,n.nextSub=void 0),t.subs===n&&(t.subs=o,!o&&t.computed)){t.computed.flags&=-5;for(let s=t.computed.deps;s;s=s.nextDep)ki(s,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function au(n){const{prevDep:e,nextDep:t}=n;e&&(e.nextDep=t,n.prevDep=void 0),t&&(t.prevDep=e,n.nextDep=void 0)}let rt=!0;const _l=[];function Lt(){_l.push(rt),rt=!1}function Ft(){const n=_l.pop();rt=n===void 0?!0:n}function ds(n){const{cleanup:e}=n;if(n.cleanup=void 0,e){const t=se;se=void 0;try{e()}finally{se=t}}}let kn=0;class uu{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ni{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!se||!rt||se===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==se)t=this.activeLink=new uu(se,this),se.deps?(t.prevDep=se.depsTail,se.depsTail.nextDep=t,se.depsTail=t):se.deps=se.depsTail=t,Cl(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const o=t.nextDep;o.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=o),t.prevDep=se.depsTail,t.nextDep=void 0,se.depsTail.nextDep=t,se.depsTail=t,se.deps===t&&(se.deps=o)}return t}trigger(e){this.version++,kn++,this.notify(e)}notify(e){bi();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{Di()}}}function Cl(n){if(n.dep.sc++,n.sub.flags&4){const e=n.dep.computed;if(e&&!n.dep.subs){e.flags|=20;for(let o=e.deps;o;o=o.nextDep)Cl(o)}const t=n.dep.subs;t!==n&&(n.prevSub=t,t&&(t.nextSub=n)),n.dep.subs=n}}const ri=new WeakMap,zt=Symbol(""),li=Symbol(""),Nn=Symbol("");function Ie(n,e,t){if(rt&&se){let o=ri.get(n);o||ri.set(n,o=new Map);let i=o.get(t);i||(o.set(t,i=new Ni),i.map=o,i.key=t),i.track()}}function vt(n,e,t,o,i,s){const r=ri.get(n);if(!r){kn++;return}const u=f=>{f&&f.trigger()};if(bi(),e==="clear")r.forEach(u);else{const f=q(n),c=f&&Mi(t);if(f&&t==="length"){const d=Number(o);r.forEach((p,h)=>{(h==="length"||h===Nn||!kt(h)&&h>=d)&&u(p)})}else switch((t!==void 0||r.has(void 0))&&u(r.get(t)),c&&u(r.get(Nn)),e){case"add":f?c&&u(r.get("length")):(u(r.get(zt)),sn(n)&&u(r.get(li)));break;case"delete":f||(u(r.get(zt)),sn(n)&&u(r.get(li)));break;case"set":sn(n)&&u(r.get(zt));break}}Di()}function en(n){const e=K(n);return e===n?e:(Ie(e,"iterate",Nn),et(n)?e:e.map(we))}function Ro(n){return Ie(n=K(n),"iterate",Nn),n}const cu={__proto__:null,[Symbol.iterator](){return zo(this,Symbol.iterator,we)},concat(...n){return en(this).concat(...n.map(e=>q(e)?en(e):e))},entries(){return zo(this,"entries",n=>(n[1]=we(n[1]),n))},every(n,e){return Ct(this,"every",n,e,void 0,arguments)},filter(n,e){return Ct(this,"filter",n,e,t=>t.map(we),arguments)},find(n,e){return Ct(this,"find",n,e,we,arguments)},findIndex(n,e){return Ct(this,"findIndex",n,e,void 0,arguments)},findLast(n,e){return Ct(this,"findLast",n,e,we,arguments)},findLastIndex(n,e){return Ct(this,"findLastIndex",n,e,void 0,arguments)},forEach(n,e){return Ct(this,"forEach",n,e,void 0,arguments)},includes(...n){return Wo(this,"includes",n)},indexOf(...n){return Wo(this,"indexOf",n)},join(n){return en(this).join(n)},lastIndexOf(...n){return Wo(this,"lastIndexOf",n)},map(n,e){return Ct(this,"map",n,e,void 0,arguments)},pop(){return hn(this,"pop")},push(...n){return hn(this,"push",n)},reduce(n,...e){return ps(this,"reduce",n,e)},reduceRight(n,...e){return ps(this,"reduceRight",n,e)},shift(){return hn(this,"shift")},some(n,e){return Ct(this,"some",n,e,void 0,arguments)},splice(...n){return hn(this,"splice",n)},toReversed(){return en(this).toReversed()},toSorted(n){return en(this).toSorted(n)},toSpliced(...n){return en(this).toSpliced(...n)},unshift(...n){return hn(this,"unshift",n)},values(){return zo(this,"values",we)}};function zo(n,e,t){const o=Ro(n),i=o[e]();return o!==n&&!et(n)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.value&&(s.value=t(s.value)),s}),i}const fu=Array.prototype;function Ct(n,e,t,o,i,s){const r=Ro(n),u=r!==n&&!et(n),f=r[e];if(f!==fu[e]){const p=f.apply(n,s);return u?we(p):p}let c=t;r!==n&&(u?c=function(p,h){return t.call(this,we(p),h,n)}:t.length>2&&(c=function(p,h){return t.call(this,p,h,n)}));const d=f.call(r,c,o);return u&&i?i(d):d}function ps(n,e,t,o){const i=Ro(n);let s=t;return i!==n&&(et(n)?t.length>3&&(s=function(r,u,f){return t.call(this,r,u,f,n)}):s=function(r,u,f){return t.call(this,r,we(u),f,n)}),i[e](s,...o)}function Wo(n,e,t){const o=K(n);Ie(o,"iterate",Nn);const i=o[e](...t);return(i===-1||i===!1)&&Vi(t[0])?(t[0]=K(t[0]),o[e](...t)):i}function hn(n,e,t=[]){Lt(),bi();const o=K(n)[e].apply(n,t);return Di(),Ft(),o}const du=Ii("__proto__,__v_isRef,__isVue"),El=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(kt));function pu(n){kt(n)||(n=String(n));const e=K(this);return Ie(e,"has",n),e.hasOwnProperty(n)}class vl{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,o){if(t==="__v_skip")return e.__v_skip;const i=this._isReadonly,s=this._isShallow;if(t==="__v_isReactive")return!i;if(t==="__v_isReadonly")return i;if(t==="__v_isShallow")return s;if(t==="__v_raw")return o===(i?s?Su:Il:s?Al:xl).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(o)?e:void 0;const r=q(e);if(!i){let f;if(r&&(f=cu[t]))return f;if(t==="hasOwnProperty")return pu}const u=Reflect.get(e,t,Re(e)?e:o);return(kt(t)?El.has(t):du(t))||(i||Ie(e,"get",t),s)?u:Re(u)?r&&Mi(t)?u:u.value:ue(u)?i?wl(u):Fi(u):u}}class Sl extends vl{constructor(e=!1){super(!1,e)}set(e,t,o,i){let s=e[t];if(!this._isShallow){const f=Wt(s);if(!et(o)&&!Wt(o)&&(s=K(s),o=K(o)),!q(e)&&Re(s)&&!Re(o))return f?!1:(s.value=o,!0)}const r=q(e)&&Mi(t)?Number(t)<e.length:Z(e,t),u=Reflect.set(e,t,o,Re(e)?e:i);return e===K(i)&&(r?bt(o,s)&&vt(e,"set",t,o):vt(e,"add",t,o)),u}deleteProperty(e,t){const o=Z(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&o&&vt(e,"delete",t,void 0),i}has(e,t){const o=Reflect.has(e,t);return(!kt(t)||!El.has(t))&&Ie(e,"has",t),o}ownKeys(e){return Ie(e,"iterate",q(e)?"length":zt),Reflect.ownKeys(e)}}class hu extends vl{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const gu=new Sl,mu=new hu,Tu=new Sl(!0);const ai=n=>n,Jn=n=>Reflect.getPrototypeOf(n);function yu(n,e,t){return function(...o){const i=this.__v_raw,s=K(i),r=sn(s),u=n==="entries"||n===Symbol.iterator&&r,f=n==="keys"&&r,c=i[n](...o),d=t?ai:e?ui:we;return!e&&Ie(s,"iterate",f?li:zt),{next(){const{value:p,done:h}=c.next();return h?{value:p,done:h}:{value:u?[d(p[0]),d(p[1])]:d(p),done:h}},[Symbol.iterator](){return this}}}}function Yn(n){return function(...e){return n==="delete"?!1:n==="clear"?void 0:this}}function _u(n,e){const t={get(i){const s=this.__v_raw,r=K(s),u=K(i);n||(bt(i,u)&&Ie(r,"get",i),Ie(r,"get",u));const{has:f}=Jn(r),c=e?ai:n?ui:we;if(f.call(r,i))return c(s.get(i));if(f.call(r,u))return c(s.get(u));s!==r&&s.get(i)},get size(){const i=this.__v_raw;return!n&&Ie(K(i),"iterate",zt),Reflect.get(i,"size",i)},has(i){const s=this.__v_raw,r=K(s),u=K(i);return n||(bt(i,u)&&Ie(r,"has",i),Ie(r,"has",u)),i===u?s.has(i):s.has(i)||s.has(u)},forEach(i,s){const r=this,u=r.__v_raw,f=K(u),c=e?ai:n?ui:we;return!n&&Ie(f,"iterate",zt),u.forEach((d,p)=>i.call(s,c(d),c(p),r))}};return Fe(t,n?{add:Yn("add"),set:Yn("set"),delete:Yn("delete"),clear:Yn("clear")}:{add(i){!e&&!et(i)&&!Wt(i)&&(i=K(i));const s=K(this);return Jn(s).has.call(s,i)||(s.add(i),vt(s,"add",i,i)),this},set(i,s){!e&&!et(s)&&!Wt(s)&&(s=K(s));const r=K(this),{has:u,get:f}=Jn(r);let c=u.call(r,i);c||(i=K(i),c=u.call(r,i));const d=f.call(r,i);return r.set(i,s),c?bt(s,d)&&vt(r,"set",i,s):vt(r,"add",i,s),this},delete(i){const s=K(this),{has:r,get:u}=Jn(s);let f=r.call(s,i);f||(i=K(i),f=r.call(s,i)),u&&u.call(s,i);const c=s.delete(i);return f&&vt(s,"delete",i,void 0),c},clear(){const i=K(this),s=i.size!==0,r=i.clear();return s&&vt(i,"clear",void 0,void 0),r}}),["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=yu(i,n,e)}),t}function Li(n,e){const t=_u(n,e);return(o,i,s)=>i==="__v_isReactive"?!n:i==="__v_isReadonly"?n:i==="__v_raw"?o:Reflect.get(Z(t,i)&&i in o?t:o,i,s)}const Cu={get:Li(!1,!1)},Eu={get:Li(!1,!0)},vu={get:Li(!0,!1)};const xl=new WeakMap,Al=new WeakMap,Il=new WeakMap,Su=new WeakMap;function xu(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Au(n){return n.__v_skip||!Object.isExtensible(n)?0:xu(Xa(n))}function Fi(n){return Wt(n)?n:Ui(n,!1,gu,Cu,xl)}function Iu(n){return Ui(n,!1,Tu,Eu,Al)}function wl(n){return Ui(n,!0,mu,vu,Il)}function Ui(n,e,t,o,i){if(!ue(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const s=i.get(n);if(s)return s;const r=Au(n);if(r===0)return n;const u=new Proxy(n,r===2?o:t);return i.set(n,u),u}function rn(n){return Wt(n)?rn(n.__v_raw):!!(n&&n.__v_isReactive)}function Wt(n){return!!(n&&n.__v_isReadonly)}function et(n){return!!(n&&n.__v_isShallow)}function Vi(n){return n?!!n.__v_raw:!1}function K(n){const e=n&&n.__v_raw;return e?K(e):n}function wu(n){return!Z(n,"__v_skip")&&Object.isExtensible(n)&&ul(n,"__v_skip",!0),n}const we=n=>ue(n)?Fi(n):n,ui=n=>ue(n)?wl(n):n;function Re(n){return n?n.__v_isRef===!0:!1}function xt(n){return Ru(n,!1)}function Ru(n,e){return Re(n)?n:new Mu(n,e)}class Mu{constructor(e,t){this.dep=new Ni,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:K(e),this._value=t?e:we(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,o=this.__v_isShallow||et(e)||Wt(e);e=o?e:K(e),bt(e,t)&&(this._rawValue=e,this._value=o?e:we(e),this.dep.trigger())}}function Pu(n){return Re(n)?n.value:n}const bu={get:(n,e,t)=>e==="__v_raw"?n:Pu(Reflect.get(n,e,t)),set:(n,e,t,o)=>{const i=n[e];return Re(i)&&!Re(t)?(i.value=t,!0):Reflect.set(n,e,t,o)}};function Rl(n){return rn(n)?n:new Proxy(n,bu)}class Du{constructor(e,t,o){this.fn=e,this.setter=t,this._value=void 0,this.dep=new Ni(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=kn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&se!==this)return gl(this,!0),!0}get value(){const e=this.dep.track();return yl(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function ku(n,e,t=!1){let o,i;return W(n)?o=n:(o=n.get,i=n.set),new Du(o,i,t)}const Kn={},fo=new WeakMap;let qt;function Nu(n,e=!1,t=qt){if(t){let o=fo.get(t);o||fo.set(t,o=[]),o.push(n)}}function Lu(n,e,t=oe){const{immediate:o,deep:i,once:s,scheduler:r,augmentJob:u,call:f}=t,c=x=>i?x:et(x)||i===!1||i===0?St(x,1):St(x);let d,p,h,m,_=!1,E=!1;if(Re(n)?(p=()=>n.value,_=et(n)):rn(n)?(p=()=>c(n),_=!0):q(n)?(E=!0,_=n.some(x=>rn(x)||et(x)),p=()=>n.map(x=>{if(Re(x))return x.value;if(rn(x))return c(x);if(W(x))return f?f(x,2):x()})):W(n)?e?p=f?()=>f(n,2):n:p=()=>{if(h){Lt();try{h()}finally{Ft()}}const x=qt;qt=d;try{return f?f(n,3,[m]):n(m)}finally{qt=x}}:p=mt,e&&i){const x=p,B=i===!0?1/0:i;p=()=>St(x(),B)}const b=lu(),k=()=>{d.stop(),b&&b.active&&Ri(b.effects,d)};if(s&&e){const x=e;e=(...B)=>{x(...B),k()}}let N=E?new Array(n.length).fill(Kn):Kn;const U=x=>{if(!(!(d.flags&1)||!d.dirty&&!x))if(e){const B=d.run();if(i||_||(E?B.some((he,ce)=>bt(he,N[ce])):bt(B,N))){h&&h();const he=qt;qt=d;try{const ce=[B,N===Kn?void 0:E&&N[0]===Kn?[]:N,m];f?f(e,3,ce):e(...ce),N=B}finally{qt=he}}}else d.run()};return u&&u(U),d=new pl(p),d.scheduler=r?()=>r(U,!1):U,m=x=>Nu(x,!1,d),h=d.onStop=()=>{const x=fo.get(d);if(x){if(f)f(x,4);else for(const B of x)B();fo.delete(d)}},e?o?U(!0):N=d.run():r?r(U.bind(null,!0),!0):d.run(),k.pause=d.pause.bind(d),k.resume=d.resume.bind(d),k.stop=k,k}function St(n,e=1/0,t){if(e<=0||!ue(n)||n.__v_skip||(t=t||new Set,t.has(n)))return n;if(t.add(n),e--,Re(n))St(n.value,e,t);else if(q(n))for(let o=0;o<n.length;o++)St(n[o],e,t);else if(il(n)||sn(n))n.forEach(o=>{St(o,e,t)});else if(ll(n)){for(const o in n)St(n[o],e,t);for(const o of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,o)&&St(n[o],e,t)}return n}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function On(n,e,t,o){try{return o?n(...o):n()}catch(i){Mo(i,e,t)}}function Tt(n,e,t,o){if(W(n)){const i=On(n,e,t,o);return i&&sl(i)&&i.catch(s=>{Mo(s,e,t)}),i}if(q(n)){const i=[];for(let s=0;s<n.length;s++)i.push(Tt(n[s],e,t,o));return i}}function Mo(n,e,t,o=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:r}=e&&e.appContext.config||oe;if(e){let u=e.parent;const f=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${t}`;for(;u;){const d=u.ec;if(d){for(let p=0;p<d.length;p++)if(d[p](n,f,c)===!1)return}u=u.parent}if(s){Lt(),On(s,null,10,[n,f,c]),Ft();return}}Fu(n,t,i,o,r)}function Fu(n,e,t,o=!0,i=!1){if(i)throw n;console.error(n)}const ke=[];let pt=-1;const ln=[];let Mt=null,tn=0;const Ml=Promise.resolve();let po=null;function Uu(n){const e=po||Ml;return n?e.then(this?n.bind(this):n):e}function Vu(n){let e=pt+1,t=ke.length;for(;e<t;){const o=e+t>>>1,i=ke[o],s=Ln(i);s<n||s===n&&i.flags&2?e=o+1:t=o}return e}function Oi(n){if(!(n.flags&1)){const e=Ln(n),t=ke[ke.length-1];!t||!(n.flags&2)&&e>=Ln(t)?ke.push(n):ke.splice(Vu(e),0,n),n.flags|=1,Pl()}}function Pl(){po||(po=Ml.then(Dl))}function Ou(n){q(n)?ln.push(...n):Mt&&n.id===-1?Mt.splice(tn+1,0,n):n.flags&1||(ln.push(n),n.flags|=1),Pl()}function hs(n,e,t=pt+1){for(;t<ke.length;t++){const o=ke[t];if(o&&o.flags&2){if(n&&o.id!==n.uid)continue;ke.splice(t,1),t--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function bl(n){if(ln.length){const e=[...new Set(ln)].sort((t,o)=>Ln(t)-Ln(o));if(ln.length=0,Mt){Mt.push(...e);return}for(Mt=e,tn=0;tn<Mt.length;tn++){const t=Mt[tn];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}Mt=null,tn=0}}const Ln=n=>n.id==null?n.flags&2?-1:1/0:n.id;function Dl(n){try{for(pt=0;pt<ke.length;pt++){const e=ke[pt];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),On(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;pt<ke.length;pt++){const e=ke[pt];e&&(e.flags&=-2)}pt=-1,ke.length=0,bl(),po=null,(ke.length||ln.length)&&Dl()}}let Xe=null,kl=null;function ho(n){const e=Xe;return Xe=n,kl=n&&n.type.__scopeId||null,e}function Gu(n,e=Xe,t){if(!e||n._n)return n;const o=(...i)=>{o._d&&Ss(-1);const s=ho(e);let r;try{r=n(...i)}finally{ho(s),o._d&&Ss(1)}return r};return o._n=!0,o._c=!0,o._d=!0,o}function $u(n,e){if(Xe===null)return n;const t=ko(Xe),o=n.dirs||(n.dirs=[]);for(let i=0;i<e.length;i++){let[s,r,u,f=oe]=e[i];s&&(W(s)&&(s={mounted:s,updated:s}),s.deep&&St(r),o.push({dir:s,instance:t,value:r,oldValue:void 0,arg:u,modifiers:f}))}return n}function $t(n,e,t,o){const i=n.dirs,s=e&&e.dirs;for(let r=0;r<i.length;r++){const u=i[r];s&&(u.oldValue=s[r].value);let f=u.dir[o];f&&(Lt(),Tt(f,t,8,[n.el,u,n,e]),Ft())}}const Bu=Symbol("_vte"),qu=n=>n.__isTeleport;function Gi(n,e){n.shapeFlag&6&&n.component?(n.transition=e,Gi(n.component.subTree,e)):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}function Nl(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}function go(n,e,t,o,i=!1){if(q(n)){n.forEach((_,E)=>go(_,e&&(q(e)?e[E]:e),t,o,i));return}if(wn(o)&&!i){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&go(n,e,t,o.component.subTree);return}const s=o.shapeFlag&4?ko(o.component):o.el,r=i?null:s,{i:u,r:f}=n,c=e&&e.r,d=u.refs===oe?u.refs={}:u.refs,p=u.setupState,h=K(p),m=p===oe?()=>!1:_=>Z(h,_);if(c!=null&&c!==f&&(Te(c)?(d[c]=null,m(c)&&(p[c]=null)):Re(c)&&(c.value=null)),W(f))On(f,u,12,[r,d]);else{const _=Te(f),E=Re(f);if(_||E){const b=()=>{if(n.f){const k=_?m(f)?p[f]:d[f]:f.value;i?q(k)&&Ri(k,s):q(k)?k.includes(s)||k.push(s):_?(d[f]=[s],m(f)&&(p[f]=d[f])):(f.value=[s],n.k&&(d[n.k]=f.value))}else _?(d[f]=r,m(f)&&(p[f]=r)):E&&(f.value=r,n.k&&(d[n.k]=r))};r?(b.id=-1,He(b,t)):b()}}}Io().requestIdleCallback;Io().cancelIdleCallback;const wn=n=>!!n.type.__asyncLoader,Ll=n=>n.type.__isKeepAlive;function Hu(n,e){Fl(n,"a",e)}function zu(n,e){Fl(n,"da",e)}function Fl(n,e,t=Ne){const o=n.__wdc||(n.__wdc=()=>{let i=t;for(;i;){if(i.isDeactivated)return;i=i.parent}return n()});if(Po(e,o,t),t){let i=t.parent;for(;i&&i.parent;)Ll(i.parent.vnode)&&Wu(o,e,t,i),i=i.parent}}function Wu(n,e,t,o){const i=Po(e,n,o,!0);Vl(()=>{Ri(o[e],i)},t)}function Po(n,e,t=Ne,o=!1){if(t){const i=t[n]||(t[n]=[]),s=e.__weh||(e.__weh=(...r)=>{Lt();const u=Gn(t),f=Tt(e,t,n,r);return u(),Ft(),f});return o?i.unshift(s):i.push(s),s}}const At=n=>(e,t=Ne)=>{(!Un||n==="sp")&&Po(n,(...o)=>e(...o),t)},Ju=At("bm"),Ul=At("m"),Yu=At("bu"),Ku=At("u"),Zu=At("bum"),Vl=At("um"),Xu=At("sp"),Qu=At("rtg"),ju=At("rtc");function ec(n,e=Ne){Po("ec",n,e)}const tc=Symbol.for("v-ndc");function nc(n,e,t,o){let i;const s=t,r=q(n);if(r||Te(n)){const u=r&&rn(n);let f=!1;u&&(f=!et(n),n=Ro(n)),i=new Array(n.length);for(let c=0,d=n.length;c<d;c++)i[c]=e(f?we(n[c]):n[c],c,void 0,s)}else if(typeof n=="number"){i=new Array(n);for(let u=0;u<n;u++)i[u]=e(u+1,u,void 0,s)}else if(ue(n))if(n[Symbol.iterator])i=Array.from(n,(u,f)=>e(u,f,void 0,s));else{const u=Object.keys(n);i=new Array(u.length);for(let f=0,c=u.length;f<c;f++){const d=u[f];i[f]=e(n[d],d,f,s)}}else i=[];return i}const ci=n=>n?ra(n)?ko(n):ci(n.parent):null,Rn=Fe(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>ci(n.parent),$root:n=>ci(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>Gl(n),$forceUpdate:n=>n.f||(n.f=()=>{Oi(n.update)}),$nextTick:n=>n.n||(n.n=Uu.bind(n.proxy)),$watch:n=>xc.bind(n)}),Jo=(n,e)=>n!==oe&&!n.__isScriptSetup&&Z(n,e),oc={get({_:n},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:o,data:i,props:s,accessCache:r,type:u,appContext:f}=n;let c;if(e[0]!=="$"){const m=r[e];if(m!==void 0)switch(m){case 1:return o[e];case 2:return i[e];case 4:return t[e];case 3:return s[e]}else{if(Jo(o,e))return r[e]=1,o[e];if(i!==oe&&Z(i,e))return r[e]=2,i[e];if((c=n.propsOptions[0])&&Z(c,e))return r[e]=3,s[e];if(t!==oe&&Z(t,e))return r[e]=4,t[e];fi&&(r[e]=0)}}const d=Rn[e];let p,h;if(d)return e==="$attrs"&&Ie(n.attrs,"get",""),d(n);if((p=u.__cssModules)&&(p=p[e]))return p;if(t!==oe&&Z(t,e))return r[e]=4,t[e];if(h=f.config.globalProperties,Z(h,e))return h[e]},set({_:n},e,t){const{data:o,setupState:i,ctx:s}=n;return Jo(i,e)?(i[e]=t,!0):o!==oe&&Z(o,e)?(o[e]=t,!0):Z(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(s[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:o,appContext:i,propsOptions:s}},r){let u;return!!t[r]||n!==oe&&Z(n,r)||Jo(e,r)||(u=s[0])&&Z(u,r)||Z(o,r)||Z(Rn,r)||Z(i.config.globalProperties,r)},defineProperty(n,e,t){return t.get!=null?n._.accessCache[e]=0:Z(t,"value")&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}};function gs(n){return q(n)?n.reduce((e,t)=>(e[t]=null,e),{}):n}let fi=!0;function ic(n){const e=Gl(n),t=n.proxy,o=n.ctx;fi=!1,e.beforeCreate&&ms(e.beforeCreate,n,"bc");const{data:i,computed:s,methods:r,watch:u,provide:f,inject:c,created:d,beforeMount:p,mounted:h,beforeUpdate:m,updated:_,activated:E,deactivated:b,beforeDestroy:k,beforeUnmount:N,destroyed:U,unmounted:x,render:B,renderTracked:he,renderTriggered:ce,errorCaptured:fe,serverPrefetch:Ye,expose:de,inheritAttrs:te,components:nt,directives:ot,filters:Ce}=e;if(c&&sc(c,o,null),r)for(const re in r){const Q=r[re];W(Q)&&(o[re]=Q.bind(t))}if(i){const re=i.call(t,t);ue(re)&&(n.data=Fi(re))}if(fi=!0,s)for(const re in s){const Q=s[re],yt=W(Q)?Q.bind(t,t):W(Q.get)?Q.get.bind(t,t):mt,Gt=!W(Q)&&W(Q.set)?Q.set.bind(t):mt,ie=Wc({get:yt,set:Gt});Object.defineProperty(o,re,{enumerable:!0,configurable:!0,get:()=>ie.value,set:Be=>ie.value=Be})}if(u)for(const re in u)Ol(u[re],o,t,re);if(f){const re=W(f)?f.call(t):f;Reflect.ownKeys(re).forEach(Q=>{fc(Q,re[Q])})}d&&ms(d,n,"c");function Ee(re,Q){q(Q)?Q.forEach(yt=>re(yt.bind(t))):Q&&re(Q.bind(t))}if(Ee(Ju,p),Ee(Ul,h),Ee(Yu,m),Ee(Ku,_),Ee(Hu,E),Ee(zu,b),Ee(ec,fe),Ee(ju,he),Ee(Qu,ce),Ee(Zu,N),Ee(Vl,x),Ee(Xu,Ye),q(de))if(de.length){const re=n.exposed||(n.exposed={});de.forEach(Q=>{Object.defineProperty(re,Q,{get:()=>t[Q],set:yt=>t[Q]=yt})})}else n.exposed||(n.exposed={});B&&n.render===mt&&(n.render=B),te!=null&&(n.inheritAttrs=te),nt&&(n.components=nt),ot&&(n.directives=ot),Ye&&Nl(n)}function sc(n,e,t=mt){q(n)&&(n=di(n));for(const o in n){const i=n[o];let s;ue(i)?"default"in i?s=oo(i.from||o,i.default,!0):s=oo(i.from||o):s=oo(i),Re(s)?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>s.value,set:r=>s.value=r}):e[o]=s}}function ms(n,e,t){Tt(q(n)?n.map(o=>o.bind(e.proxy)):n.bind(e.proxy),e,t)}function Ol(n,e,t,o){let i=o.includes(".")?ea(t,o):()=>t[o];if(Te(n)){const s=e[n];W(s)&&io(i,s)}else if(W(n))io(i,n.bind(t));else if(ue(n))if(q(n))n.forEach(s=>Ol(s,e,t,o));else{const s=W(n.handler)?n.handler.bind(t):e[n.handler];W(s)&&io(i,s,n)}}function Gl(n){const e=n.type,{mixins:t,extends:o}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:r}}=n.appContext,u=s.get(e);let f;return u?f=u:!i.length&&!t&&!o?f=e:(f={},i.length&&i.forEach(c=>mo(f,c,r,!0)),mo(f,e,r)),ue(e)&&s.set(e,f),f}function mo(n,e,t,o=!1){const{mixins:i,extends:s}=e;s&&mo(n,s,t,!0),i&&i.forEach(r=>mo(n,r,t,!0));for(const r in e)if(!(o&&r==="expose")){const u=rc[r]||t&&t[r];n[r]=u?u(n[r],e[r]):e[r]}return n}const rc={data:Ts,props:ys,emits:ys,methods:Sn,computed:Sn,beforeCreate:De,created:De,beforeMount:De,mounted:De,beforeUpdate:De,updated:De,beforeDestroy:De,beforeUnmount:De,destroyed:De,unmounted:De,activated:De,deactivated:De,errorCaptured:De,serverPrefetch:De,components:Sn,directives:Sn,watch:ac,provide:Ts,inject:lc};function Ts(n,e){return e?n?function(){return Fe(W(n)?n.call(this,this):n,W(e)?e.call(this,this):e)}:e:n}function lc(n,e){return Sn(di(n),di(e))}function di(n){if(q(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function De(n,e){return n?[...new Set([].concat(n,e))]:e}function Sn(n,e){return n?Fe(Object.create(null),n,e):e}function ys(n,e){return n?q(n)&&q(e)?[...new Set([...n,...e])]:Fe(Object.create(null),gs(n),gs(e??{})):e}function ac(n,e){if(!n)return e;if(!e)return n;const t=Fe(Object.create(null),n);for(const o in e)t[o]=De(n[o],e[o]);return t}function $l(){return{app:null,config:{isNativeTag:Ka,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uc=0;function cc(n,e){return function(o,i=null){W(o)||(o=Fe({},o)),i!=null&&!ue(i)&&(i=null);const s=$l(),r=new WeakSet,u=[];let f=!1;const c=s.app={_uid:uc++,_component:o,_props:i,_container:null,_context:s,_instance:null,version:Jc,get config(){return s.config},set config(d){},use(d,...p){return r.has(d)||(d&&W(d.install)?(r.add(d),d.install(c,...p)):W(d)&&(r.add(d),d(c,...p))),c},mixin(d){return s.mixins.includes(d)||s.mixins.push(d),c},component(d,p){return p?(s.components[d]=p,c):s.components[d]},directive(d,p){return p?(s.directives[d]=p,c):s.directives[d]},mount(d,p,h){if(!f){const m=c._ceVNode||lt(o,i);return m.appContext=s,h===!0?h="svg":h===!1&&(h=void 0),n(m,d,h),f=!0,c._container=d,d.__vue_app__=c,ko(m.component)}},onUnmount(d){u.push(d)},unmount(){f&&(Tt(u,c._instance,16),n(null,c._container),delete c._container.__vue_app__)},provide(d,p){return s.provides[d]=p,c},runWithContext(d){const p=an;an=c;try{return d()}finally{an=p}}};return c}}let an=null;function fc(n,e){if(Ne){let t=Ne.provides;const o=Ne.parent&&Ne.parent.provides;o===t&&(t=Ne.provides=Object.create(o)),t[n]=e}}function oo(n,e,t=!1){const o=Ne||Xe;if(o||an){const i=an?an._context.provides:o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(i&&n in i)return i[n];if(arguments.length>1)return t&&W(e)?e.call(o&&o.proxy):e}}const Bl={},ql=()=>Object.create(Bl),Hl=n=>Object.getPrototypeOf(n)===Bl;function dc(n,e,t,o=!1){const i={},s=ql();n.propsDefaults=Object.create(null),zl(n,e,i,s);for(const r in n.propsOptions[0])r in i||(i[r]=void 0);t?n.props=o?i:Iu(i):n.type.props?n.props=i:n.props=s,n.attrs=s}function pc(n,e,t,o){const{props:i,attrs:s,vnode:{patchFlag:r}}=n,u=K(i),[f]=n.propsOptions;let c=!1;if((o||r>0)&&!(r&16)){if(r&8){const d=n.vnode.dynamicProps;for(let p=0;p<d.length;p++){let h=d[p];if(bo(n.emitsOptions,h))continue;const m=e[h];if(f)if(Z(s,h))m!==s[h]&&(s[h]=m,c=!0);else{const _=Dt(h);i[_]=pi(f,u,_,m,n,!1)}else m!==s[h]&&(s[h]=m,c=!0)}}}else{zl(n,e,i,s)&&(c=!0);let d;for(const p in u)(!e||!Z(e,p)&&((d=Nt(p))===p||!Z(e,d)))&&(f?t&&(t[p]!==void 0||t[d]!==void 0)&&(i[p]=pi(f,u,p,void 0,n,!0)):delete i[p]);if(s!==u)for(const p in s)(!e||!Z(e,p))&&(delete s[p],c=!0)}c&&vt(n.attrs,"set","")}function zl(n,e,t,o){const[i,s]=n.propsOptions;let r=!1,u;if(e)for(let f in e){if(xn(f))continue;const c=e[f];let d;i&&Z(i,d=Dt(f))?!s||!s.includes(d)?t[d]=c:(u||(u={}))[d]=c:bo(n.emitsOptions,f)||(!(f in o)||c!==o[f])&&(o[f]=c,r=!0)}if(s){const f=K(t),c=u||oe;for(let d=0;d<s.length;d++){const p=s[d];t[p]=pi(i,f,p,c[p],n,!Z(c,p))}}return r}function pi(n,e,t,o,i,s){const r=n[t];if(r!=null){const u=Z(r,"default");if(u&&o===void 0){const f=r.default;if(r.type!==Function&&!r.skipFactory&&W(f)){const{propsDefaults:c}=i;if(t in c)o=c[t];else{const d=Gn(i);o=c[t]=f.call(null,e),d()}}else o=f;i.ce&&i.ce._setProp(t,o)}r[0]&&(s&&!u?o=!1:r[1]&&(o===""||o===Nt(t))&&(o=!0))}return o}const hc=new WeakMap;function Wl(n,e,t=!1){const o=t?hc:e.propsCache,i=o.get(n);if(i)return i;const s=n.props,r={},u=[];let f=!1;if(!W(n)){const d=p=>{f=!0;const[h,m]=Wl(p,e,!0);Fe(r,h),m&&u.push(...m)};!t&&e.mixins.length&&e.mixins.forEach(d),n.extends&&d(n.extends),n.mixins&&n.mixins.forEach(d)}if(!s&&!f)return ue(n)&&o.set(n,on),on;if(q(s))for(let d=0;d<s.length;d++){const p=Dt(s[d]);_s(p)&&(r[p]=oe)}else if(s)for(const d in s){const p=Dt(d);if(_s(p)){const h=s[d],m=r[p]=q(h)||W(h)?{type:h}:Fe({},h),_=m.type;let E=!1,b=!0;if(q(_))for(let k=0;k<_.length;++k){const N=_[k],U=W(N)&&N.name;if(U==="Boolean"){E=!0;break}else U==="String"&&(b=!1)}else E=W(_)&&_.name==="Boolean";m[0]=E,m[1]=b,(E||Z(m,"default"))&&u.push(p)}}const c=[r,u];return ue(n)&&o.set(n,c),c}function _s(n){return n[0]!=="$"&&!xn(n)}const Jl=n=>n[0]==="_"||n==="$stable",$i=n=>q(n)?n.map(gt):[gt(n)],gc=(n,e,t)=>{if(e._n)return e;const o=Gu((...i)=>$i(e(...i)),t);return o._c=!1,o},Yl=(n,e,t)=>{const o=n._ctx;for(const i in n){if(Jl(i))continue;const s=n[i];if(W(s))e[i]=gc(i,s,o);else if(s!=null){const r=$i(s);e[i]=()=>r}}},Kl=(n,e)=>{const t=$i(e);n.slots.default=()=>t},Zl=(n,e,t)=>{for(const o in e)(t||o!=="_")&&(n[o]=e[o])},mc=(n,e,t)=>{const o=n.slots=ql();if(n.vnode.shapeFlag&32){const i=e._;i?(Zl(o,e,t),t&&ul(o,"_",i,!0)):Yl(e,o)}else e&&Kl(n,e)},Tc=(n,e,t)=>{const{vnode:o,slots:i}=n;let s=!0,r=oe;if(o.shapeFlag&32){const u=e._;u?t&&u===1?s=!1:Zl(i,e,t):(s=!e.$stable,Yl(e,i)),r=e}else e&&(Kl(n,e),r={default:1});if(s)for(const u in i)!Jl(u)&&r[u]==null&&delete i[u]},He=bc;function yc(n){return _c(n)}function _c(n,e){const t=Io();t.__VUE__=!0;const{insert:o,remove:i,patchProp:s,createElement:r,createText:u,createComment:f,setText:c,setElementText:d,parentNode:p,nextSibling:h,setScopeId:m=mt,insertStaticContent:_}=n,E=(g,T,C,A=null,v=null,S=null,P=void 0,R=null,M=!!T.dynamicChildren)=>{if(g===T)return;g&&!gn(g,T)&&(A=wt(g),Be(g,v,S,!0),g=null),T.patchFlag===-2&&(M=!1,T.dynamicChildren=null);const{type:I,ref:G,shapeFlag:D}=T;switch(I){case Do:b(g,T,C,A);break;case Jt:k(g,T,C,A);break;case Ko:g==null&&N(T,C,A,P);break;case ht:nt(g,T,C,A,v,S,P,R,M);break;default:D&1?B(g,T,C,A,v,S,P,R,M):D&6?ot(g,T,C,A,v,S,P,R,M):(D&64||D&128)&&I.process(g,T,C,A,v,S,P,R,M,Rt)}G!=null&&v&&go(G,g&&g.ref,S,T||g,!T)},b=(g,T,C,A)=>{if(g==null)o(T.el=u(T.children),C,A);else{const v=T.el=g.el;T.children!==g.children&&c(v,T.children)}},k=(g,T,C,A)=>{g==null?o(T.el=f(T.children||""),C,A):T.el=g.el},N=(g,T,C,A)=>{[g.el,g.anchor]=_(g.children,T,C,A,g.el,g.anchor)},U=({el:g,anchor:T},C,A)=>{let v;for(;g&&g!==T;)v=h(g),o(g,C,A),g=v;o(T,C,A)},x=({el:g,anchor:T})=>{let C;for(;g&&g!==T;)C=h(g),i(g),g=C;i(T)},B=(g,T,C,A,v,S,P,R,M)=>{T.type==="svg"?P="svg":T.type==="math"&&(P="mathml"),g==null?he(T,C,A,v,S,P,R,M):Ye(g,T,v,S,P,R,M)},he=(g,T,C,A,v,S,P,R)=>{let M,I;const{props:G,shapeFlag:D,transition:F,dirs:O}=g;if(M=g.el=r(g.type,S,G&&G.is,G),D&8?d(M,g.children):D&16&&fe(g.children,M,null,A,v,Yo(g,S),P,R),O&&$t(g,null,A,"created"),ce(M,g,g.scopeId,P,A),G){for(const j in G)j!=="value"&&!xn(j)&&s(M,j,null,G[j],S,A);"value"in G&&s(M,"value",null,G.value,S),(I=G.onVnodeBeforeMount)&&ft(I,A,g)}O&&$t(g,null,A,"beforeMount");const z=Cc(v,F);z&&F.beforeEnter(M),o(M,T,C),((I=G&&G.onVnodeMounted)||z||O)&&He(()=>{I&&ft(I,A,g),z&&F.enter(M),O&&$t(g,null,A,"mounted")},v)},ce=(g,T,C,A,v)=>{if(C&&m(g,C),A)for(let S=0;S<A.length;S++)m(g,A[S]);if(v){let S=v.subTree;if(T===S||na(S.type)&&(S.ssContent===T||S.ssFallback===T)){const P=v.vnode;ce(g,P,P.scopeId,P.slotScopeIds,v.parent)}}},fe=(g,T,C,A,v,S,P,R,M=0)=>{for(let I=M;I<g.length;I++){const G=g[I]=R?Pt(g[I]):gt(g[I]);E(null,G,T,C,A,v,S,P,R)}},Ye=(g,T,C,A,v,S,P)=>{const R=T.el=g.el;let{patchFlag:M,dynamicChildren:I,dirs:G}=T;M|=g.patchFlag&16;const D=g.props||oe,F=T.props||oe;let O;if(C&&Bt(C,!1),(O=F.onVnodeBeforeUpdate)&&ft(O,C,T,g),G&&$t(T,g,C,"beforeUpdate"),C&&Bt(C,!0),(D.innerHTML&&F.innerHTML==null||D.textContent&&F.textContent==null)&&d(R,""),I?de(g.dynamicChildren,I,R,C,A,Yo(T,v),S):P||Q(g,T,R,null,C,A,Yo(T,v),S,!1),M>0){if(M&16)te(R,D,F,C,v);else if(M&2&&D.class!==F.class&&s(R,"class",null,F.class,v),M&4&&s(R,"style",D.style,F.style,v),M&8){const z=T.dynamicProps;for(let j=0;j<z.length;j++){const Y=z[j],Se=D[Y],ye=F[Y];(ye!==Se||Y==="value")&&s(R,Y,Se,ye,v,C)}}M&1&&g.children!==T.children&&d(R,T.children)}else!P&&I==null&&te(R,D,F,C,v);((O=F.onVnodeUpdated)||G)&&He(()=>{O&&ft(O,C,T,g),G&&$t(T,g,C,"updated")},A)},de=(g,T,C,A,v,S,P)=>{for(let R=0;R<T.length;R++){const M=g[R],I=T[R],G=M.el&&(M.type===ht||!gn(M,I)||M.shapeFlag&70)?p(M.el):C;E(M,I,G,null,A,v,S,P,!0)}},te=(g,T,C,A,v)=>{if(T!==C){if(T!==oe)for(const S in T)!xn(S)&&!(S in C)&&s(g,S,T[S],null,v,A);for(const S in C){if(xn(S))continue;const P=C[S],R=T[S];P!==R&&S!=="value"&&s(g,S,R,P,v,A)}"value"in C&&s(g,"value",T.value,C.value,v)}},nt=(g,T,C,A,v,S,P,R,M)=>{const I=T.el=g?g.el:u(""),G=T.anchor=g?g.anchor:u("");let{patchFlag:D,dynamicChildren:F,slotScopeIds:O}=T;O&&(R=R?R.concat(O):O),g==null?(o(I,C,A),o(G,C,A),fe(T.children||[],C,G,v,S,P,R,M)):D>0&&D&64&&F&&g.dynamicChildren?(de(g.dynamicChildren,F,C,v,S,P,R),(T.key!=null||v&&T===v.subTree)&&Xl(g,T,!0)):Q(g,T,C,G,v,S,P,R,M)},ot=(g,T,C,A,v,S,P,R,M)=>{T.slotScopeIds=R,g==null?T.shapeFlag&512?v.ctx.activate(T,C,A,P,M):Ce(T,C,A,v,S,P,M):It(g,T,M)},Ce=(g,T,C,A,v,S,P)=>{const R=g.component=Gc(g,A,v);if(Ll(g)&&(R.ctx.renderer=Rt),$c(R,!1,P),R.asyncDep){if(v&&v.registerDep(R,Ee,P),!g.el){const M=R.subTree=lt(Jt);k(null,M,T,C)}}else Ee(R,g,T,C,v,S,P)},It=(g,T,C)=>{const A=T.component=g.component;if(Mc(g,T,C))if(A.asyncDep&&!A.asyncResolved){re(A,T,C);return}else A.next=T,A.update();else T.el=g.el,A.vnode=T},Ee=(g,T,C,A,v,S,P)=>{const R=()=>{if(g.isMounted){let{next:D,bu:F,u:O,parent:z,vnode:j}=g;{const Me=Ql(g);if(Me){D&&(D.el=j.el,re(g,D,P)),Me.asyncDep.then(()=>{g.isUnmounted||R()});return}}let Y=D,Se;Bt(g,!1),D?(D.el=j.el,re(g,D,P)):D=j,F&&no(F),(Se=D.props&&D.props.onVnodeBeforeUpdate)&&ft(Se,z,D,j),Bt(g,!0);const ye=Es(g),qe=g.subTree;g.subTree=ye,E(qe,ye,p(qe.el),wt(qe),g,v,S),D.el=ye.el,Y===null&&Pc(g,ye.el),O&&He(O,v),(Se=D.props&&D.props.onVnodeUpdated)&&He(()=>ft(Se,z,D,j),v)}else{let D;const{el:F,props:O}=T,{bm:z,m:j,parent:Y,root:Se,type:ye}=g,qe=wn(T);Bt(g,!1),z&&no(z),!qe&&(D=O&&O.onVnodeBeforeMount)&&ft(D,Y,T),Bt(g,!0);{Se.ce&&Se.ce._injectChildStyle(ye);const Me=g.subTree=Es(g);E(null,Me,C,A,g,v,S),T.el=Me.el}if(j&&He(j,v),!qe&&(D=O&&O.onVnodeMounted)){const Me=T;He(()=>ft(D,Y,Me),v)}(T.shapeFlag&256||Y&&wn(Y.vnode)&&Y.vnode.shapeFlag&256)&&g.a&&He(g.a,v),g.isMounted=!0,T=C=A=null}};g.scope.on();const M=g.effect=new pl(R);g.scope.off();const I=g.update=M.run.bind(M),G=g.job=M.runIfDirty.bind(M);G.i=g,G.id=g.uid,M.scheduler=()=>Oi(G),Bt(g,!0),I()},re=(g,T,C)=>{T.component=g;const A=g.vnode.props;g.vnode=T,g.next=null,pc(g,T.props,A,C),Tc(g,T.children,C),Lt(),hs(g),Ft()},Q=(g,T,C,A,v,S,P,R,M=!1)=>{const I=g&&g.children,G=g?g.shapeFlag:0,D=T.children,{patchFlag:F,shapeFlag:O}=T;if(F>0){if(F&128){Gt(I,D,C,A,v,S,P,R,M);return}else if(F&256){yt(I,D,C,A,v,S,P,R,M);return}}O&8?(G&16&&it(I,v,S),D!==I&&d(C,D)):G&16?O&16?Gt(I,D,C,A,v,S,P,R,M):it(I,v,S,!0):(G&8&&d(C,""),O&16&&fe(D,C,A,v,S,P,R,M))},yt=(g,T,C,A,v,S,P,R,M)=>{g=g||on,T=T||on;const I=g.length,G=T.length,D=Math.min(I,G);let F;for(F=0;F<D;F++){const O=T[F]=M?Pt(T[F]):gt(T[F]);E(g[F],O,C,null,v,S,P,R,M)}I>G?it(g,v,S,!0,!1,D):fe(T,C,A,v,S,P,R,M,D)},Gt=(g,T,C,A,v,S,P,R,M)=>{let I=0;const G=T.length;let D=g.length-1,F=G-1;for(;I<=D&&I<=F;){const O=g[I],z=T[I]=M?Pt(T[I]):gt(T[I]);if(gn(O,z))E(O,z,C,null,v,S,P,R,M);else break;I++}for(;I<=D&&I<=F;){const O=g[D],z=T[F]=M?Pt(T[F]):gt(T[F]);if(gn(O,z))E(O,z,C,null,v,S,P,R,M);else break;D--,F--}if(I>D){if(I<=F){const O=F+1,z=O<G?T[O].el:A;for(;I<=F;)E(null,T[I]=M?Pt(T[I]):gt(T[I]),C,z,v,S,P,R,M),I++}}else if(I>F)for(;I<=D;)Be(g[I],v,S,!0),I++;else{const O=I,z=I,j=new Map;for(I=z;I<=F;I++){const me=T[I]=M?Pt(T[I]):gt(T[I]);me.key!=null&&j.set(me.key,I)}let Y,Se=0;const ye=F-z+1;let qe=!1,Me=0;const at=new Array(ye);for(I=0;I<ye;I++)at[I]=0;for(I=O;I<=D;I++){const me=g[I];if(Se>=ye){Be(me,v,S,!0);continue}let Oe;if(me.key!=null)Oe=j.get(me.key);else for(Y=z;Y<=F;Y++)if(at[Y-z]===0&&gn(me,T[Y])){Oe=Y;break}Oe===void 0?Be(me,v,S,!0):(at[Oe-z]=I+1,Oe>=Me?Me=Oe:qe=!0,E(me,T[Oe],C,null,v,S,P,R,M),Se++)}const Ke=qe?Ec(at):on;for(Y=Ke.length-1,I=ye-1;I>=0;I--){const me=z+I,Oe=T[me],Qt=me+1<G?T[me+1].el:A;at[I]===0?E(null,Oe,C,Qt,v,S,P,R,M):qe&&(Y<0||I!==Ke[Y]?ie(Oe,C,Qt,2):Y--)}}},ie=(g,T,C,A,v=null)=>{const{el:S,type:P,transition:R,children:M,shapeFlag:I}=g;if(I&6){ie(g.component.subTree,T,C,A);return}if(I&128){g.suspense.move(T,C,A);return}if(I&64){P.move(g,T,C,Rt);return}if(P===ht){o(S,T,C);for(let D=0;D<M.length;D++)ie(M[D],T,C,A);o(g.anchor,T,C);return}if(P===Ko){U(g,T,C);return}if(A!==2&&I&1&&R)if(A===0)R.beforeEnter(S),o(S,T,C),He(()=>R.enter(S),v);else{const{leave:D,delayLeave:F,afterLeave:O}=R,z=()=>o(S,T,C),j=()=>{D(S,()=>{z(),O&&O()})};F?F(S,z,j):j()}else o(S,T,C)},Be=(g,T,C,A=!1,v=!1)=>{const{type:S,props:P,ref:R,children:M,dynamicChildren:I,shapeFlag:G,patchFlag:D,dirs:F,cacheIndex:O}=g;if(D===-2&&(v=!1),R!=null&&go(R,null,C,g,!0),O!=null&&(T.renderCache[O]=void 0),G&256){T.ctx.deactivate(g);return}const z=G&1&&F,j=!wn(g);let Y;if(j&&(Y=P&&P.onVnodeBeforeUnmount)&&ft(Y,T,g),G&6)ae(g.component,C,A);else{if(G&128){g.suspense.unmount(C,A);return}z&&$t(g,null,T,"beforeUnmount"),G&64?g.type.remove(g,T,C,Rt,A):I&&!I.hasOnce&&(S!==ht||D>0&&D&64)?it(I,T,C,!1,!0):(S===ht&&D&384||!v&&G&16)&&it(M,T,C),A&&ge(g)}(j&&(Y=P&&P.onVnodeUnmounted)||z)&&He(()=>{Y&&ft(Y,T,g),z&&$t(g,null,T,"unmounted")},C)},ge=g=>{const{type:T,el:C,anchor:A,transition:v}=g;if(T===ht){qn(C,A);return}if(T===Ko){x(g);return}const S=()=>{i(C),v&&!v.persisted&&v.afterLeave&&v.afterLeave()};if(g.shapeFlag&1&&v&&!v.persisted){const{leave:P,delayLeave:R}=v,M=()=>P(C,S);R?R(g.el,S,M):M()}else S()},qn=(g,T)=>{let C;for(;g!==T;)C=h(g),i(g),g=C;i(T)},ae=(g,T,C)=>{const{bum:A,scope:v,job:S,subTree:P,um:R,m:M,a:I}=g;Cs(M),Cs(I),A&&no(A),v.stop(),S&&(S.flags|=8,Be(P,g,T,C)),R&&He(R,T),He(()=>{g.isUnmounted=!0},T),T&&T.pendingBranch&&!T.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===T.pendingId&&(T.deps--,T.deps===0&&T.resolve())},it=(g,T,C,A=!1,v=!1,S=0)=>{for(let P=S;P<g.length;P++)Be(g[P],T,C,A,v)},wt=g=>{if(g.shapeFlag&6)return wt(g.component.subTree);if(g.shapeFlag&128)return g.suspense.next();const T=h(g.anchor||g.el),C=T&&T[Bu];return C?h(C):T};let Zt=!1;const Xt=(g,T,C)=>{g==null?T._vnode&&Be(T._vnode,null,null,!0):E(T._vnode||null,g,T,null,null,null,C),T._vnode=g,Zt||(Zt=!0,hs(),bl(),Zt=!1)},Rt={p:E,um:Be,m:ie,r:ge,mt:Ce,mc:fe,pc:Q,pbc:de,n:wt,o:n};return{render:Xt,hydrate:void 0,createApp:cc(Xt)}}function Yo({type:n,props:e},t){return t==="svg"&&n==="foreignObject"||t==="mathml"&&n==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function Bt({effect:n,job:e},t){t?(n.flags|=32,e.flags|=4):(n.flags&=-33,e.flags&=-5)}function Cc(n,e){return(!n||n&&!n.pendingBranch)&&e&&!e.persisted}function Xl(n,e,t=!1){const o=n.children,i=e.children;if(q(o)&&q(i))for(let s=0;s<o.length;s++){const r=o[s];let u=i[s];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=i[s]=Pt(i[s]),u.el=r.el),!t&&u.patchFlag!==-2&&Xl(r,u)),u.type===Do&&(u.el=r.el)}}function Ec(n){const e=n.slice(),t=[0];let o,i,s,r,u;const f=n.length;for(o=0;o<f;o++){const c=n[o];if(c!==0){if(i=t[t.length-1],n[i]<c){e[o]=i,t.push(o);continue}for(s=0,r=t.length-1;s<r;)u=s+r>>1,n[t[u]]<c?s=u+1:r=u;c<n[t[s]]&&(s>0&&(e[o]=t[s-1]),t[s]=o)}}for(s=t.length,r=t[s-1];s-- >0;)t[s]=r,r=e[r];return t}function Ql(n){const e=n.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Ql(e)}function Cs(n){if(n)for(let e=0;e<n.length;e++)n[e].flags|=8}const vc=Symbol.for("v-scx"),Sc=()=>oo(vc);function io(n,e,t){return jl(n,e,t)}function jl(n,e,t=oe){const{immediate:o,deep:i,flush:s,once:r}=t,u=Fe({},t),f=e&&o||!e&&s!=="post";let c;if(Un){if(s==="sync"){const m=Sc();c=m.__watcherHandles||(m.__watcherHandles=[])}else if(!f){const m=()=>{};return m.stop=mt,m.resume=mt,m.pause=mt,m}}const d=Ne;u.call=(m,_,E)=>Tt(m,d,_,E);let p=!1;s==="post"?u.scheduler=m=>{He(m,d&&d.suspense)}:s!=="sync"&&(p=!0,u.scheduler=(m,_)=>{_?m():Oi(m)}),u.augmentJob=m=>{e&&(m.flags|=4),p&&(m.flags|=2,d&&(m.id=d.uid,m.i=d))};const h=Lu(n,e,u);return Un&&(c?c.push(h):f&&h()),h}function xc(n,e,t){const o=this.proxy,i=Te(n)?n.includes(".")?ea(o,n):()=>o[n]:n.bind(o,o);let s;W(e)?s=e:(s=e.handler,t=e);const r=Gn(this),u=jl(i,s.bind(o),t);return r(),u}function ea(n,e){const t=e.split(".");return()=>{let o=n;for(let i=0;i<t.length&&o;i++)o=o[t[i]];return o}}const Ac=(n,e)=>e==="modelValue"||e==="model-value"?n.modelModifiers:n[`${e}Modifiers`]||n[`${Dt(e)}Modifiers`]||n[`${Nt(e)}Modifiers`];function Ic(n,e,...t){if(n.isUnmounted)return;const o=n.vnode.props||oe;let i=t;const s=e.startsWith("update:"),r=s&&Ac(o,e.slice(7));r&&(r.trim&&(i=t.map(d=>Te(d)?d.trim():d)),r.number&&(i=t.map(ii)));let u,f=o[u=Bo(e)]||o[u=Bo(Dt(e))];!f&&s&&(f=o[u=Bo(Nt(e))]),f&&Tt(f,n,6,i);const c=o[u+"Once"];if(c){if(!n.emitted)n.emitted={};else if(n.emitted[u])return;n.emitted[u]=!0,Tt(c,n,6,i)}}function ta(n,e,t=!1){const o=e.emitsCache,i=o.get(n);if(i!==void 0)return i;const s=n.emits;let r={},u=!1;if(!W(n)){const f=c=>{const d=ta(c,e,!0);d&&(u=!0,Fe(r,d))};!t&&e.mixins.length&&e.mixins.forEach(f),n.extends&&f(n.extends),n.mixins&&n.mixins.forEach(f)}return!s&&!u?(ue(n)&&o.set(n,null),null):(q(s)?s.forEach(f=>r[f]=null):Fe(r,s),ue(n)&&o.set(n,r),r)}function bo(n,e){return!n||!So(e)?!1:(e=e.slice(2).replace(/Once$/,""),Z(n,e[0].toLowerCase()+e.slice(1))||Z(n,Nt(e))||Z(n,e))}function Es(n){const{type:e,vnode:t,proxy:o,withProxy:i,propsOptions:[s],slots:r,attrs:u,emit:f,render:c,renderCache:d,props:p,data:h,setupState:m,ctx:_,inheritAttrs:E}=n,b=ho(n);let k,N;try{if(t.shapeFlag&4){const x=i||o,B=x;k=gt(c.call(B,x,d,p,m,h,_)),N=u}else{const x=e;k=gt(x.length>1?x(p,{attrs:u,slots:r,emit:f}):x(p,null)),N=e.props?u:wc(u)}}catch(x){Mn.length=0,Mo(x,n,1),k=lt(Jt)}let U=k;if(N&&E!==!1){const x=Object.keys(N),{shapeFlag:B}=U;x.length&&B&7&&(s&&x.some(wi)&&(N=Rc(N,s)),U=un(U,N,!1,!0))}return t.dirs&&(U=un(U,null,!1,!0),U.dirs=U.dirs?U.dirs.concat(t.dirs):t.dirs),t.transition&&Gi(U,t.transition),k=U,ho(b),k}const wc=n=>{let e;for(const t in n)(t==="class"||t==="style"||So(t))&&((e||(e={}))[t]=n[t]);return e},Rc=(n,e)=>{const t={};for(const o in n)(!wi(o)||!(o.slice(9)in e))&&(t[o]=n[o]);return t};function Mc(n,e,t){const{props:o,children:i,component:s}=n,{props:r,children:u,patchFlag:f}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&f>=0){if(f&1024)return!0;if(f&16)return o?vs(o,r,c):!!r;if(f&8){const d=e.dynamicProps;for(let p=0;p<d.length;p++){const h=d[p];if(r[h]!==o[h]&&!bo(c,h))return!0}}}else return(i||u)&&(!u||!u.$stable)?!0:o===r?!1:o?r?vs(o,r,c):!0:!!r;return!1}function vs(n,e,t){const o=Object.keys(e);if(o.length!==Object.keys(n).length)return!0;for(let i=0;i<o.length;i++){const s=o[i];if(e[s]!==n[s]&&!bo(t,s))return!0}return!1}function Pc({vnode:n,parent:e},t){for(;e;){const o=e.subTree;if(o.suspense&&o.suspense.activeBranch===n&&(o.el=n.el),o===n)(n=e.vnode).el=t,e=e.parent;else break}}const na=n=>n.__isSuspense;function bc(n,e){e&&e.pendingBranch?q(n)?e.effects.push(...n):e.effects.push(n):Ou(n)}const ht=Symbol.for("v-fgt"),Do=Symbol.for("v-txt"),Jt=Symbol.for("v-cmt"),Ko=Symbol.for("v-stc"),Mn=[];let Je=null;function We(n=!1){Mn.push(Je=n?null:[])}function Dc(){Mn.pop(),Je=Mn[Mn.length-1]||null}let Fn=1;function Ss(n,e=!1){Fn+=n,n<0&&Je&&e&&(Je.hasOnce=!0)}function oa(n){return n.dynamicChildren=Fn>0?Je||on:null,Dc(),Fn>0&&Je&&Je.push(n),n}function Ze(n,e,t,o,i,s){return oa($(n,e,t,o,i,s,!0))}function kc(n,e,t,o,i){return oa(lt(n,e,t,o,i,!0))}function ia(n){return n?n.__v_isVNode===!0:!1}function gn(n,e){return n.type===e.type&&n.key===e.key}const sa=({key:n})=>n??null,so=({ref:n,ref_key:e,ref_for:t})=>(typeof n=="number"&&(n=""+n),n!=null?Te(n)||Re(n)||W(n)?{i:Xe,r:n,k:e,f:!!t}:n:null);function $(n,e=null,t=null,o=0,i=null,s=n===ht?0:1,r=!1,u=!1){const f={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&sa(e),ref:e&&so(e),scopeId:kl,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:o,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Xe};return u?(Bi(f,t),s&128&&n.normalize(f)):t&&(f.shapeFlag|=Te(t)?8:16),Fn>0&&!r&&Je&&(f.patchFlag>0||s&6)&&f.patchFlag!==32&&Je.push(f),f}const lt=Nc;function Nc(n,e=null,t=null,o=0,i=null,s=!1){if((!n||n===tc)&&(n=Jt),ia(n)){const u=un(n,e,!0);return t&&Bi(u,t),Fn>0&&!s&&Je&&(u.shapeFlag&6?Je[Je.indexOf(n)]=u:Je.push(u)),u.patchFlag=-2,u}if(zc(n)&&(n=n.__vccOpts),e){e=Lc(e);let{class:u,style:f}=e;u&&!Te(u)&&(e.class=wo(u)),ue(f)&&(Vi(f)&&!q(f)&&(f=Fe({},f)),e.style=Pi(f))}const r=Te(n)?1:na(n)?128:qu(n)?64:ue(n)?4:W(n)?2:0;return $(n,e,t,o,i,r,s,!0)}function Lc(n){return n?Vi(n)||Hl(n)?Fe({},n):n:null}function un(n,e,t=!1,o=!1){const{props:i,ref:s,patchFlag:r,children:u,transition:f}=n,c=e?Uc(i||{},e):i,d={__v_isVNode:!0,__v_skip:!0,type:n.type,props:c,key:c&&sa(c),ref:e&&e.ref?t&&s?q(s)?s.concat(so(e)):[s,so(e)]:so(e):s,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:u,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==ht?r===-1?16:r|16:r,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:f,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&un(n.ssContent),ssFallback:n.ssFallback&&un(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return f&&o&&Gi(d,f.clone(d)),d}function Fc(n=" ",e=0){return lt(Do,null,n,e)}function Pn(n="",e=!1){return e?(We(),kc(Jt,null,n)):lt(Jt,null,n)}function gt(n){return n==null||typeof n=="boolean"?lt(Jt):q(n)?lt(ht,null,n.slice()):ia(n)?Pt(n):lt(Do,null,String(n))}function Pt(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:un(n)}function Bi(n,e){let t=0;const{shapeFlag:o}=n;if(e==null)e=null;else if(q(e))t=16;else if(typeof e=="object")if(o&65){const i=e.default;i&&(i._c&&(i._d=!1),Bi(n,i()),i._c&&(i._d=!0));return}else{t=32;const i=e._;!i&&!Hl(e)?e._ctx=Xe:i===3&&Xe&&(Xe.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else W(e)?(e={default:e,_ctx:Xe},t=32):(e=String(e),o&64?(t=16,e=[Fc(e)]):t=8);n.children=e,n.shapeFlag|=t}function Uc(...n){const e={};for(let t=0;t<n.length;t++){const o=n[t];for(const i in o)if(i==="class")e.class!==o.class&&(e.class=wo([e.class,o.class]));else if(i==="style")e.style=Pi([e.style,o.style]);else if(So(i)){const s=e[i],r=o[i];r&&s!==r&&!(q(s)&&s.includes(r))&&(e[i]=s?[].concat(s,r):r)}else i!==""&&(e[i]=o[i])}return e}function ft(n,e,t,o=null){Tt(n,e,7,[t,o])}const Vc=$l();let Oc=0;function Gc(n,e,t){const o=n.type,i=(e?e.appContext:n.appContext)||Vc,s={uid:Oc++,vnode:n,type:o,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ru(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Wl(o,i),emitsOptions:ta(o,i),emit:null,emitted:null,propsDefaults:oe,inheritAttrs:o.inheritAttrs,ctx:oe,data:oe,props:oe,attrs:oe,slots:oe,refs:oe,setupState:oe,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=Ic.bind(null,s),n.ce&&n.ce(s),s}let Ne=null,To,hi;{const n=Io(),e=(t,o)=>{let i;return(i=n[t])||(i=n[t]=[]),i.push(o),s=>{i.length>1?i.forEach(r=>r(s)):i[0](s)}};To=e("__VUE_INSTANCE_SETTERS__",t=>Ne=t),hi=e("__VUE_SSR_SETTERS__",t=>Un=t)}const Gn=n=>{const e=Ne;return To(n),n.scope.on(),()=>{n.scope.off(),To(e)}},xs=()=>{Ne&&Ne.scope.off(),To(null)};function ra(n){return n.vnode.shapeFlag&4}let Un=!1;function $c(n,e=!1,t=!1){e&&hi(e);const{props:o,children:i}=n.vnode,s=ra(n);dc(n,o,s,e),mc(n,i,t);const r=s?Bc(n,e):void 0;return e&&hi(!1),r}function Bc(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,oc);const{setup:o}=t;if(o){Lt();const i=n.setupContext=o.length>1?Hc(n):null,s=Gn(n),r=On(o,n,0,[n.props,i]),u=sl(r);if(Ft(),s(),(u||n.sp)&&!wn(n)&&Nl(n),u){if(r.then(xs,xs),e)return r.then(f=>{As(n,f)}).catch(f=>{Mo(f,n,0)});n.asyncDep=r}else As(n,r)}else la(n)}function As(n,e,t){W(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:ue(e)&&(n.setupState=Rl(e)),la(n)}function la(n,e,t){const o=n.type;n.render||(n.render=o.render||mt);{const i=Gn(n);Lt();try{ic(n)}finally{Ft(),i()}}}const qc={get(n,e){return Ie(n,"get",""),n[e]}};function Hc(n){const e=t=>{n.exposed=t||{}};return{attrs:new Proxy(n.attrs,qc),slots:n.slots,emit:n.emit,expose:e}}function ko(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(Rl(wu(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in Rn)return Rn[t](n)},has(e,t){return t in e||t in Rn}})):n.proxy}function zc(n){return W(n)&&"__vccOpts"in n}const Wc=(n,e)=>ku(n,e,Un),Jc="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let gi;const Is=typeof window<"u"&&window.trustedTypes;if(Is)try{gi=Is.createPolicy("vue",{createHTML:n=>n})}catch{}const aa=gi?n=>gi.createHTML(n):n=>n,Yc="http://www.w3.org/2000/svg",Kc="http://www.w3.org/1998/Math/MathML",Et=typeof document<"u"?document:null,ws=Et&&Et.createElement("template"),Zc={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,o)=>{const i=e==="svg"?Et.createElementNS(Yc,n):e==="mathml"?Et.createElementNS(Kc,n):t?Et.createElement(n,{is:t}):Et.createElement(n);return n==="select"&&o&&o.multiple!=null&&i.setAttribute("multiple",o.multiple),i},createText:n=>Et.createTextNode(n),createComment:n=>Et.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>Et.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},insertStaticContent(n,e,t,o,i,s){const r=t?t.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),t),!(i===s||!(i=i.nextSibling)););else{ws.innerHTML=aa(o==="svg"?`<svg>${n}</svg>`:o==="mathml"?`<math>${n}</math>`:n);const u=ws.content;if(o==="svg"||o==="mathml"){const f=u.firstChild;for(;f.firstChild;)u.appendChild(f.firstChild);u.removeChild(f)}e.insertBefore(u,t)}return[r?r.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},Xc=Symbol("_vtc");function Qc(n,e,t){const o=n[Xc];o&&(e=(e?[e,...o]:[...o]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}const Rs=Symbol("_vod"),jc=Symbol("_vsh"),ef=Symbol(""),tf=/(^|;)\s*display\s*:/;function nf(n,e,t){const o=n.style,i=Te(t);let s=!1;if(t&&!i){if(e)if(Te(e))for(const r of e.split(";")){const u=r.slice(0,r.indexOf(":")).trim();t[u]==null&&ro(o,u,"")}else for(const r in e)t[r]==null&&ro(o,r,"");for(const r in t)r==="display"&&(s=!0),ro(o,r,t[r])}else if(i){if(e!==t){const r=o[ef];r&&(t+=";"+r),o.cssText=t,s=tf.test(t)}}else e&&n.removeAttribute("style");Rs in n&&(n[Rs]=s?o.display:"",n[jc]&&(o.display="none"))}const Ms=/\s*!important$/;function ro(n,e,t){if(q(t))t.forEach(o=>ro(n,e,o));else if(t==null&&(t=""),e.startsWith("--"))n.setProperty(e,t);else{const o=of(n,e);Ms.test(t)?n.setProperty(Nt(o),t.replace(Ms,""),"important"):n[o]=t}}const Ps=["Webkit","Moz","ms"],Zo={};function of(n,e){const t=Zo[e];if(t)return t;let o=Dt(e);if(o!=="filter"&&o in n)return Zo[e]=o;o=al(o);for(let i=0;i<Ps.length;i++){const s=Ps[i]+o;if(s in n)return Zo[e]=s}return e}const bs="http://www.w3.org/1999/xlink";function Ds(n,e,t,o,i,s=su(e)){o&&e.startsWith("xlink:")?t==null?n.removeAttributeNS(bs,e.slice(6,e.length)):n.setAttributeNS(bs,e,t):t==null||s&&!cl(t)?n.removeAttribute(e):n.setAttribute(e,s?"":kt(t)?String(t):t)}function ks(n,e,t,o,i){if(e==="innerHTML"||e==="textContent"){t!=null&&(n[e]=e==="innerHTML"?aa(t):t);return}const s=n.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const u=s==="OPTION"?n.getAttribute("value")||"":n.value,f=t==null?n.type==="checkbox"?"on":"":String(t);(u!==f||!("_value"in n))&&(n.value=f),t==null&&n.removeAttribute(e),n._value=t;return}let r=!1;if(t===""||t==null){const u=typeof n[e];u==="boolean"?t=cl(t):t==null&&u==="string"?(t="",r=!0):u==="number"&&(t=0,r=!0)}try{n[e]=t}catch{}r&&n.removeAttribute(i||e)}function nn(n,e,t,o){n.addEventListener(e,t,o)}function sf(n,e,t,o){n.removeEventListener(e,t,o)}const Ns=Symbol("_vei");function rf(n,e,t,o,i=null){const s=n[Ns]||(n[Ns]={}),r=s[e];if(o&&r)r.value=o;else{const[u,f]=lf(e);if(o){const c=s[e]=cf(o,i);nn(n,u,c,f)}else r&&(sf(n,u,r,f),s[e]=void 0)}}const Ls=/(?:Once|Passive|Capture)$/;function lf(n){let e;if(Ls.test(n)){e={};let o;for(;o=n.match(Ls);)n=n.slice(0,n.length-o[0].length),e[o[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):Nt(n.slice(2)),e]}let Xo=0;const af=Promise.resolve(),uf=()=>Xo||(af.then(()=>Xo=0),Xo=Date.now());function cf(n,e){const t=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=t.attached)return;Tt(ff(o,t.value),e,5,[o])};return t.value=n,t.attached=uf(),t}function ff(n,e){if(q(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(o=>i=>!i._stopped&&o&&o(i))}else return e}const Fs=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,df=(n,e,t,o,i,s)=>{const r=i==="svg";e==="class"?Qc(n,o,r):e==="style"?nf(n,t,o):So(e)?wi(e)||rf(n,e,t,o,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):pf(n,e,o,r))?(ks(n,e,o),!n.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Ds(n,e,o,r,s,e!=="value")):n._isVueCE&&(/[A-Z]/.test(e)||!Te(o))?ks(n,Dt(e),o,s,e):(e==="true-value"?n._trueValue=o:e==="false-value"&&(n._falseValue=o),Ds(n,e,o,r))};function pf(n,e,t,o){if(o)return!!(e==="innerHTML"||e==="textContent"||e in n&&Fs(e)&&W(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=n.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Fs(e)&&Te(t)?!1:e in n}const Us=n=>{const e=n.props["onUpdate:modelValue"]||!1;return q(e)?t=>no(e,t):e};function hf(n){n.target.composing=!0}function Vs(n){const e=n.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Qo=Symbol("_assign"),gf={created(n,{modifiers:{lazy:e,trim:t,number:o}},i){n[Qo]=Us(i);const s=o||i.props&&i.props.type==="number";nn(n,e?"change":"input",r=>{if(r.target.composing)return;let u=n.value;t&&(u=u.trim()),s&&(u=ii(u)),n[Qo](u)}),t&&nn(n,"change",()=>{n.value=n.value.trim()}),e||(nn(n,"compositionstart",hf),nn(n,"compositionend",Vs),nn(n,"change",Vs))},mounted(n,{value:e}){n.value=e??""},beforeUpdate(n,{value:e,oldValue:t,modifiers:{lazy:o,trim:i,number:s}},r){if(n[Qo]=Us(r),n.composing)return;const u=(s||n.type==="number")&&!/^0\d/.test(n.value)?ii(n.value):n.value,f=e??"";u!==f&&(document.activeElement===n&&n.type!=="range"&&(o&&e===t||i&&n.value.trim()===f)||(n.value=f))}},mf=["ctrl","shift","alt","meta"],Tf={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,e)=>mf.some(t=>n[`${t}Key`]&&!e.includes(t))},yf=(n,e)=>{const t=n._withMods||(n._withMods={}),o=e.join(".");return t[o]||(t[o]=(i,...s)=>{for(let r=0;r<e.length;r++){const u=Tf[e[r]];if(u&&u(i,e))return}return n(i,...s)})},_f={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Cf=(n,e)=>{const t=n._withKeys||(n._withKeys={}),o=e.join(".");return t[o]||(t[o]=i=>{if(!("key"in i))return;const s=Nt(i.key);if(e.some(r=>r===s||_f[r]===s))return n(i)})},Ef=Fe({patchProp:df},Zc);let Os;function vf(){return Os||(Os=yc(Ef))}const Sf=(...n)=>{const e=vf().createApp(...n),{mount:t}=e;return e.mount=o=>{const i=Af(o);if(!i)return;const s=e._component;!W(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const r=t(i,!1,xf(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),r},e};function xf(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function Af(n){return Te(n)?document.querySelector(n):n}function qi(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let Kt=qi();function ua(n){Kt=n}const bn={exec:()=>null};function X(n,e=""){let t=typeof n=="string"?n:n.source;const o={replace:(i,s)=>{let r=typeof s=="string"?s:s.source;return r=r.replace(Le.caret,"$1"),t=t.replace(i,r),o},getRegex:()=>new RegExp(t,e)};return o}const Le={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:n=>new RegExp(`^( {0,3}${n})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}#`),htmlBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}<(?:[a-z].*>|!--)`,"i")},If=/^(?:[ \t]*(?:\n|$))+/,wf=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Rf=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,$n=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Mf=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Hi=/(?:[*+-]|\d{1,9}[.)])/,ca=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,fa=X(ca).replace(/bull/g,Hi).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Pf=X(ca).replace(/bull/g,Hi).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),zi=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,bf=/^[^\n]+/,Wi=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Df=X(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Wi).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),kf=X(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Hi).getRegex(),No="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Ji=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Nf=X("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Ji).replace("tag",No).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),da=X(zi).replace("hr",$n).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",No).getRegex(),Lf=X(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",da).getRegex(),Yi={blockquote:Lf,code:wf,def:Df,fences:Rf,heading:Mf,hr:$n,html:Nf,lheading:fa,list:kf,newline:If,paragraph:da,table:bn,text:bf},Gs=X("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",$n).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",No).getRegex(),Ff={...Yi,lheading:Pf,table:Gs,paragraph:X(zi).replace("hr",$n).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Gs).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",No).getRegex()},Uf={...Yi,html:X(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Ji).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:bn,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:X(zi).replace("hr",$n).replace("heading",` *#{1,6} *[^
]`).replace("lheading",fa).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Vf=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Of=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,pa=/^( {2,}|\\)\n(?!\s*$)/,Gf=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Lo=/[\p{P}\p{S}]/u,Ki=/[\s\p{P}\p{S}]/u,ha=/[^\s\p{P}\p{S}]/u,$f=X(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Ki).getRegex(),ga=/(?!~)[\p{P}\p{S}]/u,Bf=/(?!~)[\s\p{P}\p{S}]/u,qf=/(?:[^\s\p{P}\p{S}]|~)/u,Hf=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,ma=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,zf=X(ma,"u").replace(/punct/g,Lo).getRegex(),Wf=X(ma,"u").replace(/punct/g,ga).getRegex(),Ta="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Jf=X(Ta,"gu").replace(/notPunctSpace/g,ha).replace(/punctSpace/g,Ki).replace(/punct/g,Lo).getRegex(),Yf=X(Ta,"gu").replace(/notPunctSpace/g,qf).replace(/punctSpace/g,Bf).replace(/punct/g,ga).getRegex(),Kf=X("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,ha).replace(/punctSpace/g,Ki).replace(/punct/g,Lo).getRegex(),Zf=X(/\\(punct)/,"gu").replace(/punct/g,Lo).getRegex(),Xf=X(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Qf=X(Ji).replace("(?:-->|$)","-->").getRegex(),jf=X("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Qf).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),yo=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ed=X(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",yo).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),ya=X(/^!?\[(label)\]\[(ref)\]/).replace("label",yo).replace("ref",Wi).getRegex(),_a=X(/^!?\[(ref)\](?:\[\])?/).replace("ref",Wi).getRegex(),td=X("reflink|nolink(?!\\()","g").replace("reflink",ya).replace("nolink",_a).getRegex(),Zi={_backpedal:bn,anyPunctuation:Zf,autolink:Xf,blockSkip:Hf,br:pa,code:Of,del:bn,emStrongLDelim:zf,emStrongRDelimAst:Jf,emStrongRDelimUnd:Kf,escape:Vf,link:ed,nolink:_a,punctuation:$f,reflink:ya,reflinkSearch:td,tag:jf,text:Gf,url:bn},nd={...Zi,link:X(/^!?\[(label)\]\((.*?)\)/).replace("label",yo).getRegex(),reflink:X(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",yo).getRegex()},mi={...Zi,emStrongRDelimAst:Yf,emStrongLDelim:Wf,url:X(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},od={...mi,br:X(pa).replace("{2,}","*").getRegex(),text:X(mi.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Zn={normal:Yi,gfm:Ff,pedantic:Uf},mn={normal:Zi,gfm:mi,breaks:od,pedantic:nd},id={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},$s=n=>id[n];function dt(n,e){if(e){if(Le.escapeTest.test(n))return n.replace(Le.escapeReplace,$s)}else if(Le.escapeTestNoEncode.test(n))return n.replace(Le.escapeReplaceNoEncode,$s);return n}function Bs(n){try{n=encodeURI(n).replace(Le.percentDecode,"%")}catch{return null}return n}function qs(n,e){var s;const t=n.replace(Le.findPipe,(r,u,f)=>{let c=!1,d=u;for(;--d>=0&&f[d]==="\\";)c=!c;return c?"|":" |"}),o=t.split(Le.splitPipe);let i=0;if(o[0].trim()||o.shift(),o.length>0&&!((s=o.at(-1))!=null&&s.trim())&&o.pop(),e)if(o.length>e)o.splice(e);else for(;o.length<e;)o.push("");for(;i<o.length;i++)o[i]=o[i].trim().replace(Le.slashPipe,"|");return o}function Tn(n,e,t){const o=n.length;if(o===0)return"";let i=0;for(;i<o&&n.charAt(o-i-1)===e;)i++;return n.slice(0,o-i)}function sd(n,e){if(n.indexOf(e[1])===-1)return-1;let t=0;for(let o=0;o<n.length;o++)if(n[o]==="\\")o++;else if(n[o]===e[0])t++;else if(n[o]===e[1]&&(t--,t<0))return o;return t>0?-2:-1}function Hs(n,e,t,o,i){const s=e.href,r=e.title||null,u=n[1].replace(i.other.outputLinkReplace,"$1");o.state.inLink=!0;const f={type:n[0].charAt(0)==="!"?"image":"link",raw:t,href:s,title:r,text:u,tokens:o.inlineTokens(u)};return o.state.inLink=!1,f}function rd(n,e,t){const o=n.match(t.other.indentCodeCompensation);if(o===null)return e;const i=o[1];return e.split(`
`).map(s=>{const r=s.match(t.other.beginningSpace);if(r===null)return s;const[u]=r;return u.length>=i.length?s.slice(i.length):s}).join(`
`)}class _o{constructor(e){ne(this,"options");ne(this,"rules");ne(this,"lexer");this.options=e||Kt}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const o=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?o:Tn(o,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const o=t[0],i=rd(o,t[3]||"",this.rules);return{type:"code",raw:o,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:i}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let o=t[2].trim();if(this.rules.other.endingHash.test(o)){const i=Tn(o,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(o=i.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:o,tokens:this.lexer.inline(o)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:Tn(t[0],`
`)}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let o=Tn(t[0],`
`).split(`
`),i="",s="";const r=[];for(;o.length>0;){let u=!1;const f=[];let c;for(c=0;c<o.length;c++)if(this.rules.other.blockquoteStart.test(o[c]))f.push(o[c]),u=!0;else if(!u)f.push(o[c]);else break;o=o.slice(c);const d=f.join(`
`),p=d.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${d}`:d,s=s?`${s}
${p}`:p;const h=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(p,r,!0),this.lexer.state.top=h,o.length===0)break;const m=r.at(-1);if((m==null?void 0:m.type)==="code")break;if((m==null?void 0:m.type)==="blockquote"){const _=m,E=_.raw+`
`+o.join(`
`),b=this.blockquote(E);r[r.length-1]=b,i=i.substring(0,i.length-_.raw.length)+b.raw,s=s.substring(0,s.length-_.text.length)+b.text;break}else if((m==null?void 0:m.type)==="list"){const _=m,E=_.raw+`
`+o.join(`
`),b=this.list(E);r[r.length-1]=b,i=i.substring(0,i.length-m.raw.length)+b.raw,s=s.substring(0,s.length-_.raw.length)+b.raw,o=E.substring(r.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:r,text:s}}}list(e){let t=this.rules.block.list.exec(e);if(t){let o=t[1].trim();const i=o.length>1,s={type:"list",raw:"",ordered:i,start:i?+o.slice(0,-1):"",loose:!1,items:[]};o=i?`\\d{1,9}\\${o.slice(-1)}`:`\\${o}`,this.options.pedantic&&(o=i?o:"[*+-]");const r=this.rules.other.listItemRegex(o);let u=!1;for(;e;){let c=!1,d="",p="";if(!(t=r.exec(e))||this.rules.block.hr.test(e))break;d=t[0],e=e.substring(d.length);let h=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,N=>" ".repeat(3*N.length)),m=e.split(`
`,1)[0],_=!h.trim(),E=0;if(this.options.pedantic?(E=2,p=h.trimStart()):_?E=t[1].length+1:(E=t[2].search(this.rules.other.nonSpaceChar),E=E>4?1:E,p=h.slice(E),E+=t[1].length),_&&this.rules.other.blankLine.test(m)&&(d+=m+`
`,e=e.substring(m.length+1),c=!0),!c){const N=this.rules.other.nextBulletRegex(E),U=this.rules.other.hrRegex(E),x=this.rules.other.fencesBeginRegex(E),B=this.rules.other.headingBeginRegex(E),he=this.rules.other.htmlBeginRegex(E);for(;e;){const ce=e.split(`
`,1)[0];let fe;if(m=ce,this.options.pedantic?(m=m.replace(this.rules.other.listReplaceNesting,"  "),fe=m):fe=m.replace(this.rules.other.tabCharGlobal,"    "),x.test(m)||B.test(m)||he.test(m)||N.test(m)||U.test(m))break;if(fe.search(this.rules.other.nonSpaceChar)>=E||!m.trim())p+=`
`+fe.slice(E);else{if(_||h.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||x.test(h)||B.test(h)||U.test(h))break;p+=`
`+m}!_&&!m.trim()&&(_=!0),d+=ce+`
`,e=e.substring(ce.length+1),h=fe.slice(E)}}s.loose||(u?s.loose=!0:this.rules.other.doubleBlankLine.test(d)&&(u=!0));let b=null,k;this.options.gfm&&(b=this.rules.other.listIsTask.exec(p),b&&(k=b[0]!=="[ ] ",p=p.replace(this.rules.other.listReplaceTask,""))),s.items.push({type:"list_item",raw:d,task:!!b,checked:k,loose:!1,text:p,tokens:[]}),s.raw+=d}const f=s.items.at(-1);if(f)f.raw=f.raw.trimEnd(),f.text=f.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let c=0;c<s.items.length;c++)if(this.lexer.state.top=!1,s.items[c].tokens=this.lexer.blockTokens(s.items[c].text,[]),!s.loose){const d=s.items[c].tokens.filter(h=>h.type==="space"),p=d.length>0&&d.some(h=>this.rules.other.anyLine.test(h.raw));s.loose=p}if(s.loose)for(let c=0;c<s.items.length;c++)s.items[c].loose=!0;return s}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const o=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:o,raw:t[0],href:i,title:s}}}table(e){var u;const t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;const o=qs(t[1]),i=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=(u=t[3])!=null&&u.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],r={type:"table",raw:t[0],header:[],align:[],rows:[]};if(o.length===i.length){for(const f of i)this.rules.other.tableAlignRight.test(f)?r.align.push("right"):this.rules.other.tableAlignCenter.test(f)?r.align.push("center"):this.rules.other.tableAlignLeft.test(f)?r.align.push("left"):r.align.push(null);for(let f=0;f<o.length;f++)r.header.push({text:o[f],tokens:this.lexer.inline(o[f]),header:!0,align:r.align[f]});for(const f of s)r.rows.push(qs(f,r.header.length).map((c,d)=>({text:c,tokens:this.lexer.inline(c),header:!1,align:r.align[d]})));return r}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const o=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:o,tokens:this.lexer.inline(o)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const o=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(o)){if(!this.rules.other.endAngleBracket.test(o))return;const r=Tn(o.slice(0,-1),"\\");if((o.length-r.length)%2===0)return}else{const r=sd(t[2],"()");if(r===-2)return;if(r>-1){const f=(t[0].indexOf("!")===0?5:4)+t[1].length+r;t[2]=t[2].substring(0,r),t[0]=t[0].substring(0,f).trim(),t[3]=""}}let i=t[2],s="";if(this.options.pedantic){const r=this.rules.other.pedanticHrefTitle.exec(i);r&&(i=r[1],s=r[3])}else s=t[3]?t[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(o)?i=i.slice(1):i=i.slice(1,-1)),Hs(t,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let o;if((o=this.rules.inline.reflink.exec(e))||(o=this.rules.inline.nolink.exec(e))){const i=(o[2]||o[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=t[i.toLowerCase()];if(!s){const r=o[0].charAt(0);return{type:"text",raw:r,text:r}}return Hs(o,s,o[0],this.lexer,this.rules)}}emStrong(e,t,o=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!i||i[3]&&o.match(this.rules.other.unicodeAlphaNumeric))return;if(!(i[1]||i[2]||"")||!o||this.rules.inline.punctuation.exec(o)){const r=[...i[0]].length-1;let u,f,c=r,d=0;const p=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(p.lastIndex=0,t=t.slice(-1*e.length+r);(i=p.exec(t))!=null;){if(u=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!u)continue;if(f=[...u].length,i[3]||i[4]){c+=f;continue}else if((i[5]||i[6])&&r%3&&!((r+f)%3)){d+=f;continue}if(c-=f,c>0)continue;f=Math.min(f,f+c+d);const h=[...i[0]][0].length,m=e.slice(0,r+i.index+h+f);if(Math.min(r,f)%2){const E=m.slice(1,-1);return{type:"em",raw:m,text:E,tokens:this.lexer.inlineTokens(E)}}const _=m.slice(2,-2);return{type:"strong",raw:m,text:_,tokens:this.lexer.inlineTokens(_)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let o=t[2].replace(this.rules.other.newLineCharGlobal," ");const i=this.rules.other.nonSpaceChar.test(o),s=this.rules.other.startingSpaceChar.test(o)&&this.rules.other.endingSpaceChar.test(o);return i&&s&&(o=o.substring(1,o.length-1)),{type:"codespan",raw:t[0],text:o}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let o,i;return t[2]==="@"?(o=t[1],i="mailto:"+o):(o=t[1],i=o),{type:"link",raw:t[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}url(e){var o;let t;if(t=this.rules.inline.url.exec(e)){let i,s;if(t[2]==="@")i=t[0],s="mailto:"+i;else{let r;do r=t[0],t[0]=((o=this.rules.inline._backpedal.exec(t[0]))==null?void 0:o[0])??"";while(r!==t[0]);i=t[0],t[1]==="www."?s="http://"+t[0]:s=t[0]}return{type:"link",raw:t[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){const o=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:o}}}}class Qe{constructor(e){ne(this,"tokens");ne(this,"options");ne(this,"state");ne(this,"tokenizer");ne(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Kt,this.options.tokenizer=this.options.tokenizer||new _o,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={other:Le,block:Zn.normal,inline:mn.normal};this.options.pedantic?(t.block=Zn.pedantic,t.inline=mn.pedantic):this.options.gfm&&(t.block=Zn.gfm,this.options.breaks?t.inline=mn.breaks:t.inline=mn.gfm),this.tokenizer.rules=t}static get rules(){return{block:Zn,inline:mn}}static lex(e,t){return new Qe(t).lex(e)}static lexInline(e,t){return new Qe(t).inlineTokens(e)}lex(e){e=e.replace(Le.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const o=this.inlineQueue[t];this.inlineTokens(o.src,o.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],o=!1){var i,s,r;for(this.options.pedantic&&(e=e.replace(Le.tabCharGlobal,"    ").replace(Le.spaceLine,""));e;){let u;if((s=(i=this.options.extensions)==null?void 0:i.block)!=null&&s.some(c=>(u=c.call({lexer:this},e,t))?(e=e.substring(u.raw.length),t.push(u),!0):!1))continue;if(u=this.tokenizer.space(e)){e=e.substring(u.raw.length);const c=t.at(-1);u.raw.length===1&&c!==void 0?c.raw+=`
`:t.push(u);continue}if(u=this.tokenizer.code(e)){e=e.substring(u.raw.length);const c=t.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=`
`+u.raw,c.text+=`
`+u.text,this.inlineQueue.at(-1).src=c.text):t.push(u);continue}if(u=this.tokenizer.fences(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.heading(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.hr(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.blockquote(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.list(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.html(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.def(e)){e=e.substring(u.raw.length);const c=t.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=`
`+u.raw,c.text+=`
`+u.raw,this.inlineQueue.at(-1).src=c.text):this.tokens.links[u.tag]||(this.tokens.links[u.tag]={href:u.href,title:u.title});continue}if(u=this.tokenizer.table(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.lheading(e)){e=e.substring(u.raw.length),t.push(u);continue}let f=e;if((r=this.options.extensions)!=null&&r.startBlock){let c=1/0;const d=e.slice(1);let p;this.options.extensions.startBlock.forEach(h=>{p=h.call({lexer:this},d),typeof p=="number"&&p>=0&&(c=Math.min(c,p))}),c<1/0&&c>=0&&(f=e.substring(0,c+1))}if(this.state.top&&(u=this.tokenizer.paragraph(f))){const c=t.at(-1);o&&(c==null?void 0:c.type)==="paragraph"?(c.raw+=`
`+u.raw,c.text+=`
`+u.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):t.push(u),o=f.length!==e.length,e=e.substring(u.raw.length);continue}if(u=this.tokenizer.text(e)){e=e.substring(u.raw.length);const c=t.at(-1);(c==null?void 0:c.type)==="text"?(c.raw+=`
`+u.raw,c.text+=`
`+u.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):t.push(u);continue}if(e){const c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){var u,f,c;let o=e,i=null;if(this.tokens.links){const d=Object.keys(this.tokens.links);if(d.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)d.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(o))!=null;)o=o.slice(0,i.index)+"++"+o.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(i=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let s=!1,r="";for(;e;){s||(r=""),s=!1;let d;if((f=(u=this.options.extensions)==null?void 0:u.inline)!=null&&f.some(h=>(d=h.call({lexer:this},e,t))?(e=e.substring(d.raw.length),t.push(d),!0):!1))continue;if(d=this.tokenizer.escape(e)){e=e.substring(d.raw.length),t.push(d);continue}if(d=this.tokenizer.tag(e)){e=e.substring(d.raw.length),t.push(d);continue}if(d=this.tokenizer.link(e)){e=e.substring(d.raw.length),t.push(d);continue}if(d=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(d.raw.length);const h=t.at(-1);d.type==="text"&&(h==null?void 0:h.type)==="text"?(h.raw+=d.raw,h.text+=d.text):t.push(d);continue}if(d=this.tokenizer.emStrong(e,o,r)){e=e.substring(d.raw.length),t.push(d);continue}if(d=this.tokenizer.codespan(e)){e=e.substring(d.raw.length),t.push(d);continue}if(d=this.tokenizer.br(e)){e=e.substring(d.raw.length),t.push(d);continue}if(d=this.tokenizer.del(e)){e=e.substring(d.raw.length),t.push(d);continue}if(d=this.tokenizer.autolink(e)){e=e.substring(d.raw.length),t.push(d);continue}if(!this.state.inLink&&(d=this.tokenizer.url(e))){e=e.substring(d.raw.length),t.push(d);continue}let p=e;if((c=this.options.extensions)!=null&&c.startInline){let h=1/0;const m=e.slice(1);let _;this.options.extensions.startInline.forEach(E=>{_=E.call({lexer:this},m),typeof _=="number"&&_>=0&&(h=Math.min(h,_))}),h<1/0&&h>=0&&(p=e.substring(0,h+1))}if(d=this.tokenizer.inlineText(p)){e=e.substring(d.raw.length),d.raw.slice(-1)!=="_"&&(r=d.raw.slice(-1)),s=!0;const h=t.at(-1);(h==null?void 0:h.type)==="text"?(h.raw+=d.raw,h.text+=d.text):t.push(d);continue}if(e){const h="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return t}}class Co{constructor(e){ne(this,"options");ne(this,"parser");this.options=e||Kt}space(e){return""}code({text:e,lang:t,escaped:o}){var r;const i=(r=(t||"").match(Le.notSpaceStart))==null?void 0:r[0],s=e.replace(Le.endingNewline,"")+`
`;return i?'<pre><code class="language-'+dt(i)+'">'+(o?s:dt(s,!0))+`</code></pre>
`:"<pre><code>"+(o?s:dt(s,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){const t=e.ordered,o=e.start;let i="";for(let u=0;u<e.items.length;u++){const f=e.items[u];i+=this.listitem(f)}const s=t?"ol":"ul",r=t&&o!==1?' start="'+o+'"':"";return"<"+s+r+`>
`+i+"</"+s+`>
`}listitem(e){var o;let t="";if(e.task){const i=this.checkbox({checked:!!e.checked});e.loose?((o=e.tokens[0])==null?void 0:o.type)==="paragraph"?(e.tokens[0].text=i+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=i+" "+dt(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:i+" ",text:i+" ",escaped:!0}):t+=i+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",o="";for(let s=0;s<e.header.length;s++)o+=this.tablecell(e.header[s]);t+=this.tablerow({text:o});let i="";for(let s=0;s<e.rows.length;s++){const r=e.rows[s];o="";for(let u=0;u<r.length;u++)o+=this.tablecell(r[u]);i+=this.tablerow({text:o})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+i+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const t=this.parser.parseInline(e.tokens),o=e.header?"th":"td";return(e.align?`<${o} align="${e.align}">`:`<${o}>`)+t+`</${o}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${dt(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:o}){const i=this.parser.parseInline(o),s=Bs(e);if(s===null)return i;e=s;let r='<a href="'+e+'"';return t&&(r+=' title="'+dt(t)+'"'),r+=">"+i+"</a>",r}image({href:e,title:t,text:o,tokens:i}){i&&(o=this.parser.parseInline(i,this.parser.textRenderer));const s=Bs(e);if(s===null)return dt(o);e=s;let r=`<img src="${e}" alt="${o}"`;return t&&(r+=` title="${dt(t)}"`),r+=">",r}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:dt(e.text)}}class Xi{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class je{constructor(e){ne(this,"options");ne(this,"renderer");ne(this,"textRenderer");this.options=e||Kt,this.options.renderer=this.options.renderer||new Co,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Xi}static parse(e,t){return new je(t).parse(e)}static parseInline(e,t){return new je(t).parseInline(e)}parse(e,t=!0){var i,s;let o="";for(let r=0;r<e.length;r++){const u=e[r];if((s=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&s[u.type]){const c=u,d=this.options.extensions.renderers[c.type].call({parser:this},c);if(d!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(c.type)){o+=d||"";continue}}const f=u;switch(f.type){case"space":{o+=this.renderer.space(f);continue}case"hr":{o+=this.renderer.hr(f);continue}case"heading":{o+=this.renderer.heading(f);continue}case"code":{o+=this.renderer.code(f);continue}case"table":{o+=this.renderer.table(f);continue}case"blockquote":{o+=this.renderer.blockquote(f);continue}case"list":{o+=this.renderer.list(f);continue}case"html":{o+=this.renderer.html(f);continue}case"paragraph":{o+=this.renderer.paragraph(f);continue}case"text":{let c=f,d=this.renderer.text(c);for(;r+1<e.length&&e[r+1].type==="text";)c=e[++r],d+=`
`+this.renderer.text(c);t?o+=this.renderer.paragraph({type:"paragraph",raw:d,text:d,tokens:[{type:"text",raw:d,text:d,escaped:!0}]}):o+=d;continue}default:{const c='Token with "'+f.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return o}parseInline(e,t=this.renderer){var i,s;let o="";for(let r=0;r<e.length;r++){const u=e[r];if((s=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&s[u.type]){const c=this.options.extensions.renderers[u.type].call({parser:this},u);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(u.type)){o+=c||"";continue}}const f=u;switch(f.type){case"escape":{o+=t.text(f);break}case"html":{o+=t.html(f);break}case"link":{o+=t.link(f);break}case"image":{o+=t.image(f);break}case"strong":{o+=t.strong(f);break}case"em":{o+=t.em(f);break}case"codespan":{o+=t.codespan(f);break}case"br":{o+=t.br(f);break}case"del":{o+=t.del(f);break}case"text":{o+=t.text(f);break}default:{const c='Token with "'+f.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return o}}class Dn{constructor(e){ne(this,"options");ne(this,"block");this.options=e||Kt}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?Qe.lex:Qe.lexInline}provideParser(){return this.block?je.parse:je.parseInline}}ne(Dn,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));class ld{constructor(...e){ne(this,"defaults",qi());ne(this,"options",this.setOptions);ne(this,"parse",this.parseMarkdown(!0));ne(this,"parseInline",this.parseMarkdown(!1));ne(this,"Parser",je);ne(this,"Renderer",Co);ne(this,"TextRenderer",Xi);ne(this,"Lexer",Qe);ne(this,"Tokenizer",_o);ne(this,"Hooks",Dn);this.use(...e)}walkTokens(e,t){var i,s;let o=[];for(const r of e)switch(o=o.concat(t.call(this,r)),r.type){case"table":{const u=r;for(const f of u.header)o=o.concat(this.walkTokens(f.tokens,t));for(const f of u.rows)for(const c of f)o=o.concat(this.walkTokens(c.tokens,t));break}case"list":{const u=r;o=o.concat(this.walkTokens(u.items,t));break}default:{const u=r;(s=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&s[u.type]?this.defaults.extensions.childTokens[u.type].forEach(f=>{const c=u[f].flat(1/0);o=o.concat(this.walkTokens(c,t))}):u.tokens&&(o=o.concat(this.walkTokens(u.tokens,t)))}}return o}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(o=>{const i={...o};if(i.async=this.defaults.async||i.async||!1,o.extensions&&(o.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){const r=t.renderers[s.name];r?t.renderers[s.name]=function(...u){let f=s.renderer.apply(this,u);return f===!1&&(f=r.apply(this,u)),f}:t.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const r=t[s.level];r?r.unshift(s.tokenizer):t[s.level]=[s.tokenizer],s.start&&(s.level==="block"?t.startBlock?t.startBlock.push(s.start):t.startBlock=[s.start]:s.level==="inline"&&(t.startInline?t.startInline.push(s.start):t.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(t.childTokens[s.name]=s.childTokens)}),i.extensions=t),o.renderer){const s=this.defaults.renderer||new Co(this.defaults);for(const r in o.renderer){if(!(r in s))throw new Error(`renderer '${r}' does not exist`);if(["options","parser"].includes(r))continue;const u=r,f=o.renderer[u],c=s[u];s[u]=(...d)=>{let p=f.apply(s,d);return p===!1&&(p=c.apply(s,d)),p||""}}i.renderer=s}if(o.tokenizer){const s=this.defaults.tokenizer||new _o(this.defaults);for(const r in o.tokenizer){if(!(r in s))throw new Error(`tokenizer '${r}' does not exist`);if(["options","rules","lexer"].includes(r))continue;const u=r,f=o.tokenizer[u],c=s[u];s[u]=(...d)=>{let p=f.apply(s,d);return p===!1&&(p=c.apply(s,d)),p}}i.tokenizer=s}if(o.hooks){const s=this.defaults.hooks||new Dn;for(const r in o.hooks){if(!(r in s))throw new Error(`hook '${r}' does not exist`);if(["options","block"].includes(r))continue;const u=r,f=o.hooks[u],c=s[u];Dn.passThroughHooks.has(r)?s[u]=d=>{if(this.defaults.async)return Promise.resolve(f.call(s,d)).then(h=>c.call(s,h));const p=f.call(s,d);return c.call(s,p)}:s[u]=(...d)=>{let p=f.apply(s,d);return p===!1&&(p=c.apply(s,d)),p}}i.hooks=s}if(o.walkTokens){const s=this.defaults.walkTokens,r=o.walkTokens;i.walkTokens=function(u){let f=[];return f.push(r.call(this,u)),s&&(f=f.concat(s.call(this,u))),f}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Qe.lex(e,t??this.defaults)}parser(e,t){return je.parse(e,t??this.defaults)}parseMarkdown(e){return(o,i)=>{const s={...i},r={...this.defaults,...s},u=this.onError(!!r.silent,!!r.async);if(this.defaults.async===!0&&s.async===!1)return u(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof o>"u"||o===null)return u(new Error("marked(): input parameter is undefined or null"));if(typeof o!="string")return u(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(o)+", string expected"));r.hooks&&(r.hooks.options=r,r.hooks.block=e);const f=r.hooks?r.hooks.provideLexer():e?Qe.lex:Qe.lexInline,c=r.hooks?r.hooks.provideParser():e?je.parse:je.parseInline;if(r.async)return Promise.resolve(r.hooks?r.hooks.preprocess(o):o).then(d=>f(d,r)).then(d=>r.hooks?r.hooks.processAllTokens(d):d).then(d=>r.walkTokens?Promise.all(this.walkTokens(d,r.walkTokens)).then(()=>d):d).then(d=>c(d,r)).then(d=>r.hooks?r.hooks.postprocess(d):d).catch(u);try{r.hooks&&(o=r.hooks.preprocess(o));let d=f(o,r);r.hooks&&(d=r.hooks.processAllTokens(d)),r.walkTokens&&this.walkTokens(d,r.walkTokens);let p=c(d,r);return r.hooks&&(p=r.hooks.postprocess(p)),p}catch(d){return u(d)}}}onError(e,t){return o=>{if(o.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const i="<p>An error occurred:</p><pre>"+dt(o.message+"",!0)+"</pre>";return t?Promise.resolve(i):i}if(t)return Promise.reject(o);throw o}}}const Yt=new ld;function ee(n,e){return Yt.parse(n,e)}ee.options=ee.setOptions=function(n){return Yt.setOptions(n),ee.defaults=Yt.defaults,ua(ee.defaults),ee};ee.getDefaults=qi;ee.defaults=Kt;ee.use=function(...n){return Yt.use(...n),ee.defaults=Yt.defaults,ua(ee.defaults),ee};ee.walkTokens=function(n,e){return Yt.walkTokens(n,e)};ee.parseInline=Yt.parseInline;ee.Parser=je;ee.parser=je.parse;ee.Renderer=Co;ee.TextRenderer=Xi;ee.Lexer=Qe;ee.lexer=Qe.lex;ee.Tokenizer=_o;ee.Hooks=Dn;ee.parse=ee;ee.options;ee.setOptions;ee.use;ee.walkTokens;ee.parseInline;je.parse;Qe.lex;/*! @license DOMPurify 3.2.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.5/LICENSE */const{entries:Ca,setPrototypeOf:zs,isFrozen:ad,getPrototypeOf:ud,getOwnPropertyDescriptor:cd}=Object;let{freeze:Ue,seal:tt,create:Ea}=Object,{apply:Ti,construct:yi}=typeof Reflect<"u"&&Reflect;Ue||(Ue=function(e){return e});tt||(tt=function(e){return e});Ti||(Ti=function(e,t,o){return e.apply(t,o)});yi||(yi=function(e,t){return new e(...t)});const Xn=Ve(Array.prototype.forEach),fd=Ve(Array.prototype.lastIndexOf),Ws=Ve(Array.prototype.pop),yn=Ve(Array.prototype.push),dd=Ve(Array.prototype.splice),lo=Ve(String.prototype.toLowerCase),jo=Ve(String.prototype.toString),Js=Ve(String.prototype.match),_n=Ve(String.prototype.replace),pd=Ve(String.prototype.indexOf),hd=Ve(String.prototype.trim),st=Ve(Object.prototype.hasOwnProperty),be=Ve(RegExp.prototype.test),Cn=gd(TypeError);function Ve(n){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var t=arguments.length,o=new Array(t>1?t-1:0),i=1;i<t;i++)o[i-1]=arguments[i];return Ti(n,e,o)}}function gd(n){return function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return yi(n,t)}}function J(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:lo;zs&&zs(n,null);let o=e.length;for(;o--;){let i=e[o];if(typeof i=="string"){const s=t(i);s!==i&&(ad(e)||(e[o]=s),i=s)}n[i]=!0}return n}function md(n){for(let e=0;e<n.length;e++)st(n,e)||(n[e]=null);return n}function Ht(n){const e=Ea(null);for(const[t,o]of Ca(n))st(n,t)&&(Array.isArray(o)?e[t]=md(o):o&&typeof o=="object"&&o.constructor===Object?e[t]=Ht(o):e[t]=o);return e}function En(n,e){for(;n!==null;){const o=cd(n,e);if(o){if(o.get)return Ve(o.get);if(typeof o.value=="function")return Ve(o.value)}n=ud(n)}function t(){return null}return t}const Ys=Ue(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ei=Ue(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ti=Ue(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Td=Ue(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ni=Ue(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),yd=Ue(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ks=Ue(["#text"]),Zs=Ue(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),oi=Ue(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Xs=Ue(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Qn=Ue(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),_d=tt(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Cd=tt(/<%[\w\W]*|[\w\W]*%>/gm),Ed=tt(/\$\{[\w\W]*/gm),vd=tt(/^data-[\-\w.\u00B7-\uFFFF]+$/),Sd=tt(/^aria-[\-\w]+$/),va=tt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),xd=tt(/^(?:\w+script|data):/i),Ad=tt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Sa=tt(/^html$/i),Id=tt(/^[a-z][.\w]*(-[.\w]+)+$/i);var Qs=Object.freeze({__proto__:null,ARIA_ATTR:Sd,ATTR_WHITESPACE:Ad,CUSTOM_ELEMENT:Id,DATA_ATTR:vd,DOCTYPE_NAME:Sa,ERB_EXPR:Cd,IS_ALLOWED_URI:va,IS_SCRIPT_OR_DATA:xd,MUSTACHE_EXPR:_d,TMPLIT_EXPR:Ed});const vn={element:1,text:3,progressingInstruction:7,comment:8,document:9},wd=function(){return typeof window>"u"?null:window},Rd=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let o=null;const i="data-tt-policy-suffix";t&&t.hasAttribute(i)&&(o=t.getAttribute(i));const s="dompurify"+(o?"#"+o:"");try{return e.createPolicy(s,{createHTML(r){return r},createScriptURL(r){return r}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},js=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function xa(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:wd();const e=V=>xa(V);if(e.version="3.2.5",e.removed=[],!n||!n.document||n.document.nodeType!==vn.document||!n.Element)return e.isSupported=!1,e;let{document:t}=n;const o=t,i=o.currentScript,{DocumentFragment:s,HTMLTemplateElement:r,Node:u,Element:f,NodeFilter:c,NamedNodeMap:d=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:p,DOMParser:h,trustedTypes:m}=n,_=f.prototype,E=En(_,"cloneNode"),b=En(_,"remove"),k=En(_,"nextSibling"),N=En(_,"childNodes"),U=En(_,"parentNode");if(typeof r=="function"){const V=t.createElement("template");V.content&&V.content.ownerDocument&&(t=V.content.ownerDocument)}let x,B="";const{implementation:he,createNodeIterator:ce,createDocumentFragment:fe,getElementsByTagName:Ye}=t,{importNode:de}=o;let te=js();e.isSupported=typeof Ca=="function"&&typeof U=="function"&&he&&he.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:nt,ERB_EXPR:ot,TMPLIT_EXPR:Ce,DATA_ATTR:It,ARIA_ATTR:Ee,IS_SCRIPT_OR_DATA:re,ATTR_WHITESPACE:Q,CUSTOM_ELEMENT:yt}=Qs;let{IS_ALLOWED_URI:Gt}=Qs,ie=null;const Be=J({},[...Ys,...ei,...ti,...ni,...Ks]);let ge=null;const qn=J({},[...Zs,...oi,...Xs,...Qn]);let ae=Object.seal(Ea(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),it=null,wt=null,Zt=!0,Xt=!0,Rt=!1,Oo=!0,g=!1,T=!0,C=!1,A=!1,v=!1,S=!1,P=!1,R=!1,M=!0,I=!1;const G="user-content-";let D=!0,F=!1,O={},z=null;const j=J({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Y=null;const Se=J({},["audio","video","img","source","image","track"]);let ye=null;const qe=J({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Me="http://www.w3.org/1998/Math/MathML",at="http://www.w3.org/2000/svg",Ke="http://www.w3.org/1999/xhtml";let me=Ke,Oe=!1,Qt=null;const Ga=J({},[Me,at,Ke],jo);let Hn=J({},["mi","mo","mn","ms","mtext"]),zn=J({},["annotation-xml"]);const $a=J({},["title","style","font","a","script"]);let dn=null;const Ba=["application/xhtml+xml","text/html"],qa="text/html";let _e=null,jt=null;const Ha=t.createElement("form"),ji=function(y){return y instanceof RegExp||y instanceof Function},Go=function(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(jt&&jt===y)){if((!y||typeof y!="object")&&(y={}),y=Ht(y),dn=Ba.indexOf(y.PARSER_MEDIA_TYPE)===-1?qa:y.PARSER_MEDIA_TYPE,_e=dn==="application/xhtml+xml"?jo:lo,ie=st(y,"ALLOWED_TAGS")?J({},y.ALLOWED_TAGS,_e):Be,ge=st(y,"ALLOWED_ATTR")?J({},y.ALLOWED_ATTR,_e):qn,Qt=st(y,"ALLOWED_NAMESPACES")?J({},y.ALLOWED_NAMESPACES,jo):Ga,ye=st(y,"ADD_URI_SAFE_ATTR")?J(Ht(qe),y.ADD_URI_SAFE_ATTR,_e):qe,Y=st(y,"ADD_DATA_URI_TAGS")?J(Ht(Se),y.ADD_DATA_URI_TAGS,_e):Se,z=st(y,"FORBID_CONTENTS")?J({},y.FORBID_CONTENTS,_e):j,it=st(y,"FORBID_TAGS")?J({},y.FORBID_TAGS,_e):{},wt=st(y,"FORBID_ATTR")?J({},y.FORBID_ATTR,_e):{},O=st(y,"USE_PROFILES")?y.USE_PROFILES:!1,Zt=y.ALLOW_ARIA_ATTR!==!1,Xt=y.ALLOW_DATA_ATTR!==!1,Rt=y.ALLOW_UNKNOWN_PROTOCOLS||!1,Oo=y.ALLOW_SELF_CLOSE_IN_ATTR!==!1,g=y.SAFE_FOR_TEMPLATES||!1,T=y.SAFE_FOR_XML!==!1,C=y.WHOLE_DOCUMENT||!1,S=y.RETURN_DOM||!1,P=y.RETURN_DOM_FRAGMENT||!1,R=y.RETURN_TRUSTED_TYPE||!1,v=y.FORCE_BODY||!1,M=y.SANITIZE_DOM!==!1,I=y.SANITIZE_NAMED_PROPS||!1,D=y.KEEP_CONTENT!==!1,F=y.IN_PLACE||!1,Gt=y.ALLOWED_URI_REGEXP||va,me=y.NAMESPACE||Ke,Hn=y.MATHML_TEXT_INTEGRATION_POINTS||Hn,zn=y.HTML_INTEGRATION_POINTS||zn,ae=y.CUSTOM_ELEMENT_HANDLING||{},y.CUSTOM_ELEMENT_HANDLING&&ji(y.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ae.tagNameCheck=y.CUSTOM_ELEMENT_HANDLING.tagNameCheck),y.CUSTOM_ELEMENT_HANDLING&&ji(y.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ae.attributeNameCheck=y.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),y.CUSTOM_ELEMENT_HANDLING&&typeof y.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ae.allowCustomizedBuiltInElements=y.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),g&&(Xt=!1),P&&(S=!0),O&&(ie=J({},Ks),ge=[],O.html===!0&&(J(ie,Ys),J(ge,Zs)),O.svg===!0&&(J(ie,ei),J(ge,oi),J(ge,Qn)),O.svgFilters===!0&&(J(ie,ti),J(ge,oi),J(ge,Qn)),O.mathMl===!0&&(J(ie,ni),J(ge,Xs),J(ge,Qn))),y.ADD_TAGS&&(ie===Be&&(ie=Ht(ie)),J(ie,y.ADD_TAGS,_e)),y.ADD_ATTR&&(ge===qn&&(ge=Ht(ge)),J(ge,y.ADD_ATTR,_e)),y.ADD_URI_SAFE_ATTR&&J(ye,y.ADD_URI_SAFE_ATTR,_e),y.FORBID_CONTENTS&&(z===j&&(z=Ht(z)),J(z,y.FORBID_CONTENTS,_e)),D&&(ie["#text"]=!0),C&&J(ie,["html","head","body"]),ie.table&&(J(ie,["tbody"]),delete it.tbody),y.TRUSTED_TYPES_POLICY){if(typeof y.TRUSTED_TYPES_POLICY.createHTML!="function")throw Cn('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof y.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Cn('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');x=y.TRUSTED_TYPES_POLICY,B=x.createHTML("")}else x===void 0&&(x=Rd(m,i)),x!==null&&typeof B=="string"&&(B=x.createHTML(""));Ue&&Ue(y),jt=y}},es=J({},[...ei,...ti,...Td]),ts=J({},[...ni,...yd]),za=function(y){let w=U(y);(!w||!w.tagName)&&(w={namespaceURI:me,tagName:"template"});const L=lo(y.tagName),le=lo(w.tagName);return Qt[y.namespaceURI]?y.namespaceURI===at?w.namespaceURI===Ke?L==="svg":w.namespaceURI===Me?L==="svg"&&(le==="annotation-xml"||Hn[le]):!!es[L]:y.namespaceURI===Me?w.namespaceURI===Ke?L==="math":w.namespaceURI===at?L==="math"&&zn[le]:!!ts[L]:y.namespaceURI===Ke?w.namespaceURI===at&&!zn[le]||w.namespaceURI===Me&&!Hn[le]?!1:!ts[L]&&($a[L]||!es[L]):!!(dn==="application/xhtml+xml"&&Qt[y.namespaceURI]):!1},ut=function(y){yn(e.removed,{element:y});try{U(y).removeChild(y)}catch{b(y)}},Wn=function(y,w){try{yn(e.removed,{attribute:w.getAttributeNode(y),from:w})}catch{yn(e.removed,{attribute:null,from:w})}if(w.removeAttribute(y),y==="is")if(S||P)try{ut(w)}catch{}else try{w.setAttribute(y,"")}catch{}},ns=function(y){let w=null,L=null;if(v)y="<remove></remove>"+y;else{const ve=Js(y,/^[\r\n\t ]+/);L=ve&&ve[0]}dn==="application/xhtml+xml"&&me===Ke&&(y='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+y+"</body></html>");const le=x?x.createHTML(y):y;if(me===Ke)try{w=new h().parseFromString(le,dn)}catch{}if(!w||!w.documentElement){w=he.createDocument(me,"template",null);try{w.documentElement.innerHTML=Oe?B:le}catch{}}const xe=w.body||w.documentElement;return y&&L&&xe.insertBefore(t.createTextNode(L),xe.childNodes[0]||null),me===Ke?Ye.call(w,C?"html":"body")[0]:C?w.documentElement:xe},os=function(y){return ce.call(y.ownerDocument||y,y,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},$o=function(y){return y instanceof p&&(typeof y.nodeName!="string"||typeof y.textContent!="string"||typeof y.removeChild!="function"||!(y.attributes instanceof d)||typeof y.removeAttribute!="function"||typeof y.setAttribute!="function"||typeof y.namespaceURI!="string"||typeof y.insertBefore!="function"||typeof y.hasChildNodes!="function")},is=function(y){return typeof u=="function"&&y instanceof u};function _t(V,y,w){Xn(V,L=>{L.call(e,y,w,jt)})}const ss=function(y){let w=null;if(_t(te.beforeSanitizeElements,y,null),$o(y))return ut(y),!0;const L=_e(y.nodeName);if(_t(te.uponSanitizeElement,y,{tagName:L,allowedTags:ie}),y.hasChildNodes()&&!is(y.firstElementChild)&&be(/<[/\w!]/g,y.innerHTML)&&be(/<[/\w!]/g,y.textContent)||y.nodeType===vn.progressingInstruction||T&&y.nodeType===vn.comment&&be(/<[/\w]/g,y.data))return ut(y),!0;if(!ie[L]||it[L]){if(!it[L]&&ls(L)&&(ae.tagNameCheck instanceof RegExp&&be(ae.tagNameCheck,L)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(L)))return!1;if(D&&!z[L]){const le=U(y)||y.parentNode,xe=N(y)||y.childNodes;if(xe&&le){const ve=xe.length;for(let Ge=ve-1;Ge>=0;--Ge){const ct=E(xe[Ge],!0);ct.__removalCount=(y.__removalCount||0)+1,le.insertBefore(ct,k(y))}}}return ut(y),!0}return y instanceof f&&!za(y)||(L==="noscript"||L==="noembed"||L==="noframes")&&be(/<\/no(script|embed|frames)/i,y.innerHTML)?(ut(y),!0):(g&&y.nodeType===vn.text&&(w=y.textContent,Xn([nt,ot,Ce],le=>{w=_n(w,le," ")}),y.textContent!==w&&(yn(e.removed,{element:y.cloneNode()}),y.textContent=w)),_t(te.afterSanitizeElements,y,null),!1)},rs=function(y,w,L){if(M&&(w==="id"||w==="name")&&(L in t||L in Ha))return!1;if(!(Xt&&!wt[w]&&be(It,w))){if(!(Zt&&be(Ee,w))){if(!ge[w]||wt[w]){if(!(ls(y)&&(ae.tagNameCheck instanceof RegExp&&be(ae.tagNameCheck,y)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(y))&&(ae.attributeNameCheck instanceof RegExp&&be(ae.attributeNameCheck,w)||ae.attributeNameCheck instanceof Function&&ae.attributeNameCheck(w))||w==="is"&&ae.allowCustomizedBuiltInElements&&(ae.tagNameCheck instanceof RegExp&&be(ae.tagNameCheck,L)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(L))))return!1}else if(!ye[w]){if(!be(Gt,_n(L,Q,""))){if(!((w==="src"||w==="xlink:href"||w==="href")&&y!=="script"&&pd(L,"data:")===0&&Y[y])){if(!(Rt&&!be(re,_n(L,Q,"")))){if(L)return!1}}}}}}return!0},ls=function(y){return y!=="annotation-xml"&&Js(y,yt)},as=function(y){_t(te.beforeSanitizeAttributes,y,null);const{attributes:w}=y;if(!w||$o(y))return;const L={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ge,forceKeepAttr:void 0};let le=w.length;for(;le--;){const xe=w[le],{name:ve,namespaceURI:Ge,value:ct}=xe,pn=_e(ve);let Pe=ve==="value"?ct:hd(ct);if(L.attrName=pn,L.attrValue=Pe,L.keepAttr=!0,L.forceKeepAttr=void 0,_t(te.uponSanitizeAttribute,y,L),Pe=L.attrValue,I&&(pn==="id"||pn==="name")&&(Wn(ve,y),Pe=G+Pe),T&&be(/((--!?|])>)|<\/(style|title)/i,Pe)){Wn(ve,y);continue}if(L.forceKeepAttr||(Wn(ve,y),!L.keepAttr))continue;if(!Oo&&be(/\/>/i,Pe)){Wn(ve,y);continue}g&&Xn([nt,ot,Ce],cs=>{Pe=_n(Pe,cs," ")});const us=_e(y.nodeName);if(rs(us,pn,Pe)){if(x&&typeof m=="object"&&typeof m.getAttributeType=="function"&&!Ge)switch(m.getAttributeType(us,pn)){case"TrustedHTML":{Pe=x.createHTML(Pe);break}case"TrustedScriptURL":{Pe=x.createScriptURL(Pe);break}}try{Ge?y.setAttributeNS(Ge,ve,Pe):y.setAttribute(ve,Pe),$o(y)?ut(y):Ws(e.removed)}catch{}}}_t(te.afterSanitizeAttributes,y,null)},Wa=function V(y){let w=null;const L=os(y);for(_t(te.beforeSanitizeShadowDOM,y,null);w=L.nextNode();)_t(te.uponSanitizeShadowNode,w,null),ss(w),as(w),w.content instanceof s&&V(w.content);_t(te.afterSanitizeShadowDOM,y,null)};return e.sanitize=function(V){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},w=null,L=null,le=null,xe=null;if(Oe=!V,Oe&&(V="<!-->"),typeof V!="string"&&!is(V))if(typeof V.toString=="function"){if(V=V.toString(),typeof V!="string")throw Cn("dirty is not a string, aborting")}else throw Cn("toString is not a function");if(!e.isSupported)return V;if(A||Go(y),e.removed=[],typeof V=="string"&&(F=!1),F){if(V.nodeName){const ct=_e(V.nodeName);if(!ie[ct]||it[ct])throw Cn("root node is forbidden and cannot be sanitized in-place")}}else if(V instanceof u)w=ns("<!---->"),L=w.ownerDocument.importNode(V,!0),L.nodeType===vn.element&&L.nodeName==="BODY"||L.nodeName==="HTML"?w=L:w.appendChild(L);else{if(!S&&!g&&!C&&V.indexOf("<")===-1)return x&&R?x.createHTML(V):V;if(w=ns(V),!w)return S?null:R?B:""}w&&v&&ut(w.firstChild);const ve=os(F?V:w);for(;le=ve.nextNode();)ss(le),as(le),le.content instanceof s&&Wa(le.content);if(F)return V;if(S){if(P)for(xe=fe.call(w.ownerDocument);w.firstChild;)xe.appendChild(w.firstChild);else xe=w;return(ge.shadowroot||ge.shadowrootmode)&&(xe=de.call(o,xe,!0)),xe}let Ge=C?w.outerHTML:w.innerHTML;return C&&ie["!doctype"]&&w.ownerDocument&&w.ownerDocument.doctype&&w.ownerDocument.doctype.name&&be(Sa,w.ownerDocument.doctype.name)&&(Ge="<!DOCTYPE "+w.ownerDocument.doctype.name+`>
`+Ge),g&&Xn([nt,ot,Ce],ct=>{Ge=_n(Ge,ct," ")}),x&&R?x.createHTML(Ge):Ge},e.setConfig=function(){let V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Go(V),A=!0},e.clearConfig=function(){jt=null,A=!1},e.isValidAttribute=function(V,y,w){jt||Go({});const L=_e(V),le=_e(y);return rs(L,le,w)},e.addHook=function(V,y){typeof y=="function"&&yn(te[V],y)},e.removeHook=function(V,y){if(y!==void 0){const w=fd(te[V],y);return w===-1?void 0:dd(te[V],w,1)[0]}return Ws(te[V])},e.removeHooks=function(V){te[V]=[]},e.removeAllHooks=function(){te=js()},e}var er=xa();const Md={class:"markdown-container"},Pd=["innerHTML"],bd={key:0,class:"processing-indicator"},Dd={__name:"MarkdownRenderer",props:{content:{type:String,required:!0},generateImage:{type:Function,required:!0}},setup(n){const e=n,t=xt(""),o=xt(!1),i=xt([]);Ul(()=>{if(er.addHook("afterSanitizeAttributes",function(c){if(c.tagName==="IMG"&&c.getAttribute("src")&&c.getAttribute("src").startsWith("data:image/"))return c}),!window.MathJax){const c=document.createElement("script");c.src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js",c.async=!0,window.MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0},svg:{fontCache:"global"}},document.head.appendChild(c)}});function s(){window.MathJax&&(window.MathJax.typesetPromise?window.MathJax.typesetPromise().catch(c=>console.error("MathJax处理失败:",c)):window.MathJax.Hub&&window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub]))}async function r(){let c=e.content;o.value=!1,i.value=[];const d=/<draw>(.*?)<\/draw>/gs,p=[...c.matchAll(d)];for(const _ of p){const E=_[0],b=_[1];try{c=c.replace(E,'<div class="image-placeholder loading">正在生成图像...</div>'),t.value=await u(c);const k=await e.generateImage(b);if(k){const N=`img-${Date.now()}-${Math.floor(Math.random()*1e3)}`;c=c.replace('<div class="image-placeholder loading">正在生成图像...</div>',`<div id="${N}" class="image-container"></div>`),t.value=await u(c),i.value.push({id:N,data:k,alt:b}),setTimeout(()=>{f(N,k,b)},100)}else c=c.replace('<div class="image-placeholder loading">正在生成图像...</div>',`<div class="image-error">图像生成失败: "${b}"</div>`),t.value=await u(c);setTimeout(s,100)}catch(k){console.error("处理图像标签时出错:",k)}}const h=/<html>(.*?)<\/html>/gs,m=[...c.matchAll(h)];for(const _ of m);p.length===0&&m.length===0&&(t.value=await u(c),setTimeout(s,100)),o.value=!0}async function u(c){return er.sanitize(ee.parse(c),{ADD_TAGS:["div","style","img"],ADD_ATTR:["id","class","style","src"]})}function f(c,d,p){const h=document.getElementById(c);if(h){const m=document.createElement("img");m.src=`data:image/jpeg;base64,${d}`,m.alt=p,m.className="generated-image",h.appendChild(m),console.log("图像已成功插入DOM",c)}else console.error("找不到图像容器:",c)}return io(()=>e.content,r,{immediate:!0}),(c,d)=>(We(),Ze("div",Md,[$("div",{innerHTML:t.value},null,8,Pd),o.value?Pn("",!0):(We(),Ze("div",bd,d[0]||(d[0]=[$("span",null,"处理中...",-1)])))]))}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let kd,Nd;function Ld(){return{geminiUrl:kd,vertexUrl:Nd}}function Fd(n,e,t){var o,i,s;if(!(!((o=n.httpOptions)===null||o===void 0)&&o.baseUrl)){const r=Ld();return n.vertexai?(i=r.vertexUrl)!==null&&i!==void 0?i:e:(s=r.geminiUrl)!==null&&s!==void 0?s:t}return n.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bn{}function H(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(o,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function a(n,e,t){for(let s=0;s<e.length-1;s++){const r=e[s];if(r.endsWith("[]")){const u=r.slice(0,-2);if(!(u in n))if(Array.isArray(t))n[u]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${r}`);if(Array.isArray(n[u])){const f=n[u];if(Array.isArray(t))for(let c=0;c<f.length;c++){const d=f[c];a(d,e.slice(s+1),t[c])}else for(const c of f)a(c,e.slice(s+1),t)}return}else if(r.endsWith("[0]")){const u=r.slice(0,-3);u in n||(n[u]=[{}]);const f=n[u];a(f[0],e.slice(s+1),t);return}(!n[r]||typeof n[r]!="object")&&(n[r]={}),n=n[r]}const o=e[e.length-1],i=n[o];if(i!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===i)return;if(typeof i=="object"&&typeof t=="object"&&i!==null&&t!==null)Object.assign(i,t);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else n[o]=t}function l(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let t=0;t<e.length;t++){if(typeof n!="object"||n===null)return;const o=e[t];if(o.endsWith("[]")){const i=o.slice(0,-2);if(i in n){const s=n[i];return Array.isArray(s)?s.map(r=>l(r,e.slice(t+1))):void 0}else return}else n=n[o]}return n}catch(t){if(t instanceof TypeError)return;throw t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pe(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Aa(n,e){const t=pe(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function Ia(n,e){return Array.isArray(e)?e.map(t=>Eo(n,t)):[Eo(n,e)]}function Eo(n,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function Ud(n,e){const t=Eo(n,e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Vd(n,e){const t=Eo(n,e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function tr(n,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function wa(n,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>tr(n,t)):[tr(n,e)]}function _i(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function nr(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function or(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function $e(n,e){if(e==null)throw new Error("ContentUnion is required");return _i(e)?e:{role:"user",parts:wa(n,e)}}function Ra(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const o=$e(n,t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(n.isVertexAI()){const t=$e(n,e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>$e(n,t)):[$e(n,e)]}function Ut(n,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(nr(e)||or(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[$e(n,e)]}const t=[],o=[],i=_i(e[0]);for(const s of e){const r=_i(s);if(r!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(r)t.push(s);else{if(nr(s)||or(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(s)}}return i||t.push({role:"user",parts:wa(n,o)}),t}function Ma(n,e){return e}function Pa(n,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Fo(n,e){return e}function Uo(n,e){if(!Array.isArray(e))throw new Error("tool is required and must be an array of Tools");return e}function Od(n,e,t,o=1){const i=!e.startsWith(`${t}/`)&&e.split("/").length===o;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:i?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:i?`${t}/${e}`:e}function Vt(n,e){if(typeof e!="string")throw new Error("name must be a string");return Od(n,e,"cachedContents")}function ba(n,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Ot(n,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function Da(n,e){if(typeof e!="string")throw new Error("fromName must be a string");return e.startsWith("files/")?e.split("files/")[1]:e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gd(n,e){const t={};if(l(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const o=l(e,["thought"]);o!=null&&a(t,["thought"],o);const i=l(e,["codeExecutionResult"]);i!=null&&a(t,["codeExecutionResult"],i);const s=l(e,["executableCode"]);s!=null&&a(t,["executableCode"],s);const r=l(e,["fileData"]);r!=null&&a(t,["fileData"],r);const u=l(e,["functionCall"]);u!=null&&a(t,["functionCall"],u);const f=l(e,["functionResponse"]);f!=null&&a(t,["functionResponse"],f);const c=l(e,["inlineData"]);c!=null&&a(t,["inlineData"],c);const d=l(e,["text"]);return d!=null&&a(t,["text"],d),t}function ir(n,e){const t={},o=l(e,["parts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>Gd(n,r))),a(t,["parts"],s)}const i=l(e,["role"]);return i!=null&&a(t,["role"],i),t}function $d(){return{}}function Bd(n,e){const t={},o=l(e,["mode"]);o!=null&&a(t,["mode"],o);const i=l(e,["dynamicThreshold"]);return i!=null&&a(t,["dynamicThreshold"],i),t}function qd(n,e){const t={},o=l(e,["dynamicRetrievalConfig"]);return o!=null&&a(t,["dynamicRetrievalConfig"],Bd(n,o)),t}function Hd(n,e){const t={};if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");l(e,["googleSearch"])!=null&&a(t,["googleSearch"],$d());const i=l(e,["googleSearchRetrieval"]);i!=null&&a(t,["googleSearchRetrieval"],qd(n,i));const s=l(e,["codeExecution"]);s!=null&&a(t,["codeExecution"],s);const r=l(e,["functionDeclarations"]);return r!=null&&a(t,["functionDeclarations"],r),t}function zd(n,e){const t={},o=l(e,["mode"]);o!=null&&a(t,["mode"],o);const i=l(e,["allowedFunctionNames"]);return i!=null&&a(t,["allowedFunctionNames"],i),t}function Wd(n,e){const t={},o=l(e,["functionCallingConfig"]);return o!=null&&a(t,["functionCallingConfig"],zd(n,o)),t}function Jd(n,e,t){const o={},i=l(e,["ttl"]);t!==void 0&&i!=null&&a(t,["ttl"],i);const s=l(e,["expireTime"]);t!==void 0&&s!=null&&a(t,["expireTime"],s);const r=l(e,["displayName"]);t!==void 0&&r!=null&&a(t,["displayName"],r);const u=l(e,["contents"]);if(t!==void 0&&u!=null){let p=Ut(n,u);Array.isArray(p)&&(p=p.map(h=>ir(n,h))),a(t,["contents"],p)}const f=l(e,["systemInstruction"]);t!==void 0&&f!=null&&a(t,["systemInstruction"],ir(n,$e(n,f)));const c=l(e,["tools"]);if(t!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(h=>Hd(n,h))),a(t,["tools"],p)}const d=l(e,["toolConfig"]);return t!==void 0&&d!=null&&a(t,["toolConfig"],Wd(n,d)),o}function Yd(n,e){const t={},o=l(e,["model"]);o!=null&&a(t,["model"],Aa(n,o));const i=l(e,["config"]);return i!=null&&a(t,["config"],Jd(n,i,t)),t}function Kd(n,e){const t={},o=l(e,["name"]);o!=null&&a(t,["_url","name"],Vt(n,o));const i=l(e,["config"]);return i!=null&&a(t,["config"],i),t}function Zd(n,e){const t={},o=l(e,["name"]);o!=null&&a(t,["_url","name"],Vt(n,o));const i=l(e,["config"]);return i!=null&&a(t,["config"],i),t}function Xd(n,e,t){const o={},i=l(e,["ttl"]);t!==void 0&&i!=null&&a(t,["ttl"],i);const s=l(e,["expireTime"]);return t!==void 0&&s!=null&&a(t,["expireTime"],s),o}function Qd(n,e){const t={},o=l(e,["name"]);o!=null&&a(t,["_url","name"],Vt(n,o));const i=l(e,["config"]);return i!=null&&a(t,["config"],Xd(n,i,t)),t}function jd(n,e,t){const o={},i=l(e,["pageSize"]);t!==void 0&&i!=null&&a(t,["_query","pageSize"],i);const s=l(e,["pageToken"]);return t!==void 0&&s!=null&&a(t,["_query","pageToken"],s),o}function ep(n,e){const t={},o=l(e,["config"]);return o!=null&&a(t,["config"],jd(n,o,t)),t}function tp(n,e){const t={},o=l(e,["videoMetadata"]);o!=null&&a(t,["videoMetadata"],o);const i=l(e,["thought"]);i!=null&&a(t,["thought"],i);const s=l(e,["codeExecutionResult"]);s!=null&&a(t,["codeExecutionResult"],s);const r=l(e,["executableCode"]);r!=null&&a(t,["executableCode"],r);const u=l(e,["fileData"]);u!=null&&a(t,["fileData"],u);const f=l(e,["functionCall"]);f!=null&&a(t,["functionCall"],f);const c=l(e,["functionResponse"]);c!=null&&a(t,["functionResponse"],c);const d=l(e,["inlineData"]);d!=null&&a(t,["inlineData"],d);const p=l(e,["text"]);return p!=null&&a(t,["text"],p),t}function sr(n,e){const t={},o=l(e,["parts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>tp(n,r))),a(t,["parts"],s)}const i=l(e,["role"]);return i!=null&&a(t,["role"],i),t}function np(){return{}}function op(n,e){const t={},o=l(e,["mode"]);o!=null&&a(t,["mode"],o);const i=l(e,["dynamicThreshold"]);return i!=null&&a(t,["dynamicThreshold"],i),t}function ip(n,e){const t={},o=l(e,["dynamicRetrievalConfig"]);return o!=null&&a(t,["dynamicRetrievalConfig"],op(n,o)),t}function sp(n,e){const t={},o=l(e,["retrieval"]);o!=null&&a(t,["retrieval"],o),l(e,["googleSearch"])!=null&&a(t,["googleSearch"],np());const s=l(e,["googleSearchRetrieval"]);s!=null&&a(t,["googleSearchRetrieval"],ip(n,s));const r=l(e,["codeExecution"]);r!=null&&a(t,["codeExecution"],r);const u=l(e,["functionDeclarations"]);return u!=null&&a(t,["functionDeclarations"],u),t}function rp(n,e){const t={},o=l(e,["mode"]);o!=null&&a(t,["mode"],o);const i=l(e,["allowedFunctionNames"]);return i!=null&&a(t,["allowedFunctionNames"],i),t}function lp(n,e){const t={},o=l(e,["functionCallingConfig"]);return o!=null&&a(t,["functionCallingConfig"],rp(n,o)),t}function ap(n,e,t){const o={},i=l(e,["ttl"]);t!==void 0&&i!=null&&a(t,["ttl"],i);const s=l(e,["expireTime"]);t!==void 0&&s!=null&&a(t,["expireTime"],s);const r=l(e,["displayName"]);t!==void 0&&r!=null&&a(t,["displayName"],r);const u=l(e,["contents"]);if(t!==void 0&&u!=null){let p=Ut(n,u);Array.isArray(p)&&(p=p.map(h=>sr(n,h))),a(t,["contents"],p)}const f=l(e,["systemInstruction"]);t!==void 0&&f!=null&&a(t,["systemInstruction"],sr(n,$e(n,f)));const c=l(e,["tools"]);if(t!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(h=>sp(n,h))),a(t,["tools"],p)}const d=l(e,["toolConfig"]);return t!==void 0&&d!=null&&a(t,["toolConfig"],lp(n,d)),o}function up(n,e){const t={},o=l(e,["model"]);o!=null&&a(t,["model"],Aa(n,o));const i=l(e,["config"]);return i!=null&&a(t,["config"],ap(n,i,t)),t}function cp(n,e){const t={},o=l(e,["name"]);o!=null&&a(t,["_url","name"],Vt(n,o));const i=l(e,["config"]);return i!=null&&a(t,["config"],i),t}function fp(n,e){const t={},o=l(e,["name"]);o!=null&&a(t,["_url","name"],Vt(n,o));const i=l(e,["config"]);return i!=null&&a(t,["config"],i),t}function dp(n,e,t){const o={},i=l(e,["ttl"]);t!==void 0&&i!=null&&a(t,["ttl"],i);const s=l(e,["expireTime"]);return t!==void 0&&s!=null&&a(t,["expireTime"],s),o}function pp(n,e){const t={},o=l(e,["name"]);o!=null&&a(t,["_url","name"],Vt(n,o));const i=l(e,["config"]);return i!=null&&a(t,["config"],dp(n,i,t)),t}function hp(n,e,t){const o={},i=l(e,["pageSize"]);t!==void 0&&i!=null&&a(t,["_query","pageSize"],i);const s=l(e,["pageToken"]);return t!==void 0&&s!=null&&a(t,["_query","pageToken"],s),o}function gp(n,e){const t={},o=l(e,["config"]);return o!=null&&a(t,["config"],hp(n,o,t)),t}function ao(n,e){const t={},o=l(e,["name"]);o!=null&&a(t,["name"],o);const i=l(e,["displayName"]);i!=null&&a(t,["displayName"],i);const s=l(e,["model"]);s!=null&&a(t,["model"],s);const r=l(e,["createTime"]);r!=null&&a(t,["createTime"],r);const u=l(e,["updateTime"]);u!=null&&a(t,["updateTime"],u);const f=l(e,["expireTime"]);f!=null&&a(t,["expireTime"],f);const c=l(e,["usageMetadata"]);return c!=null&&a(t,["usageMetadata"],c),t}function mp(){return{}}function Tp(n,e){const t={},o=l(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const i=l(e,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(r=>ao(n,r))),a(t,["cachedContents"],s)}return t}function uo(n,e){const t={},o=l(e,["name"]);o!=null&&a(t,["name"],o);const i=l(e,["displayName"]);i!=null&&a(t,["displayName"],i);const s=l(e,["model"]);s!=null&&a(t,["model"],s);const r=l(e,["createTime"]);r!=null&&a(t,["createTime"],r);const u=l(e,["updateTime"]);u!=null&&a(t,["updateTime"],u);const f=l(e,["expireTime"]);f!=null&&a(t,["expireTime"],f);const c=l(e,["usageMetadata"]);return c!=null&&a(t,["usageMetadata"],c),t}function yp(){return{}}function _p(n,e){const t={},o=l(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const i=l(e,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(r=>uo(n,r))),a(t,["cachedContents"],s)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Vn;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Vn||(Vn={}));class Qi{constructor(e,t,o,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,o,i)}init(e,t,o){var i,s;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.idxInternal=0;let r={config:{}};o?typeof o=="object"?r=Object.assign({},o):r=o:r={config:{}},r.config&&(r.config.pageToken=t.nextPageToken),this.paramsInternal=r,this.pageInternalSize=(s=(i=r.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var rr;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(rr||(rr={}));var lr;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(lr||(lr={}));var ar;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(ar||(ar={}));var ur;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(ur||(ur={}));var cr;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(cr||(cr={}));var fr;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(fr||(fr={}));var dr;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT"})(dr||(dr={}));var pr;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY"})(pr||(pr={}));var hr;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(hr||(hr={}));var gr;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(gr||(gr={}));var mr;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(mr||(mr={}));var Tr;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Tr||(Tr={}));var cn;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(cn||(cn={}));var yr;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(yr||(yr={}));var Ci;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ci||(Ci={}));var _r;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(_r||(_r={}));var Cr;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Cr||(Cr={}));var Er;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Er||(Er={}));var vr;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(vr||(vr={}));var Sr;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Sr||(Sr={}));var xr;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(xr||(xr={}));var Ar;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi"})(Ar||(Ar={}));var Ir;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Ir||(Ir={}));var wr;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(wr||(wr={}));var Rr;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Rr||(Rr={}));var Mr;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Mr||(Mr={}));var Pr;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Pr||(Pr={}));var br;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(br||(br={}));var Dr;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Dr||(Dr={}));var kr;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(kr||(kr={}));var Nr;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(Nr||(Nr={}));var Lr;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Lr||(Lr={}));class jn{get text(){var e,t,o,i,s,r,u,f;if(((i=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",d=!1;const p=[];for(const h of(f=(u=(r=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[m,_]of Object.entries(h))m!=="text"&&m!=="thought"&&(_!==null||_!==void 0)&&p.push(m);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,c+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?c:void 0}get data(){var e,t,o,i,s,r,u,f;if(((i=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const d=[];for(const p of(f=(u=(r=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[h,m]of Object.entries(p))h!=="inlineData"&&(m!==null||m!==void 0)&&d.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(c+=atob(p.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,t,o,i,s,r,u,f;if(((i=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(f=(u=(r=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,t,o,i,s,r,u,f,c;if(((i=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(f=(u=(r=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((d==null?void 0:d.length)!==0)return(c=d==null?void 0:d[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,t,o,i,s,r,u,f,c;if(((i=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(f=(u=(r=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((d==null?void 0:d.length)!==0)return(c=d==null?void 0:d[0])===null||c===void 0?void 0:c.output}}class Fr{}class Ur{}class Vr{}class Or{}class Cp{}class Gr{}class $r{}class Br{}class Ep{}class Ei{constructor(e){const t={};for(const o of e.headers.entries())t[o[0]]=o[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class vp{}class Sp{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xp extends Bn{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Qi(Vn.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(t),t)}async create(e){var t,o,i,s;let r,u="",f={};if(this.apiClient.isVertexAI()){const c=up(this.apiClient,e);return u=H("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>uo(this.apiClient,d))}else{const c=Yd(this.apiClient,e);return u=H("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>ao(this.apiClient,d))}}async get(e){var t,o,i,s;let r,u="",f={};if(this.apiClient.isVertexAI()){const c=cp(this.apiClient,e);return u=H("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>uo(this.apiClient,d))}else{const c=Kd(this.apiClient,e);return u=H("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>ao(this.apiClient,d))}}async delete(e){var t,o,i,s;let r,u="",f={};if(this.apiClient.isVertexAI()){const c=fp(this.apiClient,e);return u=H("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(()=>{const d=yp(),p=new $r;return Object.assign(p,d),p})}else{const c=Zd(this.apiClient,e);return u=H("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(()=>{const d=mp(),p=new $r;return Object.assign(p,d),p})}}async update(e){var t,o,i,s;let r,u="",f={};if(this.apiClient.isVertexAI()){const c=pp(this.apiClient,e);return u=H("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>uo(this.apiClient,d))}else{const c=Qd(this.apiClient,e);return u=H("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>ao(this.apiClient,d))}}async listInternal(e){var t,o,i,s;let r,u="",f={};if(this.apiClient.isVertexAI()){const c=gp(this.apiClient,e);return u=H("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const p=_p(this.apiClient,d),h=new Br;return Object.assign(h,p),h})}else{const c=ep(this.apiClient,e);return u=H("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>{const p=Tp(this.apiClient,d),h=new Br;return Object.assign(h,p),h})}}}function qr(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],o=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ae(n){return this instanceof Ae?(this.v=n,this):new Ae(n)}function vo(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",r),i[Symbol.asyncIterator]=function(){return this},i;function r(m){return function(_){return Promise.resolve(_).then(m,p)}}function u(m,_){o[m]&&(i[m]=function(E){return new Promise(function(b,k){s.push([m,E,b,k])>1||f(m,E)})},_&&(i[m]=_(i[m])))}function f(m,_){try{c(o[m](_))}catch(E){h(s[0][3],E)}}function c(m){m.value instanceof Ae?Promise.resolve(m.value.v).then(d,p):h(s[0][2],m)}function d(m){f("next",m)}function p(m){f("throw",m)}function h(m,_){m(_),s.shift(),s.length&&f(s[0][0],s[0][1])}}function vi(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof qr=="function"?qr(n):n[Symbol.iterator](),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(s){t[s]=n[s]&&function(r){return new Promise(function(u,f){r=n[s](r),i(u,f,r.done,r.value)})}}function i(s,r,u,f){Promise.resolve(f).then(function(c){s({value:c,done:u})},r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ap(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:ka(t)}function ka(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0||e.text!==void 0&&e.text==="")return!1;return!0}function Ip(n){if(n.length!==0){if(n[0].role!=="user")throw new Error("History must start with a user turn.");for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function wp(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let o=0,i=n[0];for(;o<t;)if(n[o].role==="user")i=n[o],o++;else{const s=[];let r=!0;for(;o<t&&n[o].role==="model";)s.push(n[o]),r&&!ka(n[o])&&(r=!1),o++;r&&(e.push(i),e.push(...s))}return e}class Rp{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new Mp(this.apiClient,this.modelsModule,e.model,e.config,e.history)}}class Mp{constructor(e,t,o,i={},s=[]){this.apiClient=e,this.modelsModule=t,this.model=o,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),Ip(s)}async sendMessage(e){var t;await this.sendPromise;const o=$e(this.apiClient,e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var s,r;const f=(r=(s=(await i).candidates)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.content,c=f?[f]:[];this.recordHistory(o,c)})(),await this.sendPromise,i}async sendMessageStream(e){var t;await this.sendPromise;const o=$e(this.apiClient,e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const s=await i;return this.processStreamResponse(s,o)}getHistory(e=!1){return e?wp(this.history):this.history}processStreamResponse(e,t){var o,i;return vo(this,arguments,function*(){var r,u,f,c;const d=[];try{for(var p=!0,h=vi(e),m;m=yield Ae(h.next()),r=m.done,!r;p=!0){c=m.value,p=!1;const _=c;if(Ap(_)){const E=(i=(o=_.candidates)===null||o===void 0?void 0:o[0])===null||i===void 0?void 0:i.content;E!==void 0&&d.push(E)}yield yield Ae(_)}}catch(_){u={error:_}}finally{try{!p&&!r&&(f=h.return)&&(yield Ae(f.call(h)))}finally{if(u)throw u.error}}this.recordHistory(t,d)})}recordHistory(e,t){let o=[];t.length>0&&t.every(i=>i.role==="model")?o=t:o.push({role:"model",parts:[]}),this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pp(n,e,t){const o={},i=l(e,["pageSize"]);t!==void 0&&i!=null&&a(t,["_query","pageSize"],i);const s=l(e,["pageToken"]);return t!==void 0&&s!=null&&a(t,["_query","pageToken"],s),o}function bp(n,e){const t={},o=l(e,["config"]);return o!=null&&a(t,["config"],Pp(n,o,t)),t}function Dp(n,e){const t={},o=l(e,["details"]);o!=null&&a(t,["details"],o);const i=l(e,["message"]);i!=null&&a(t,["message"],i);const s=l(e,["code"]);return s!=null&&a(t,["code"],s),t}function kp(n,e){const t={},o=l(e,["name"]);o!=null&&a(t,["name"],o);const i=l(e,["displayName"]);i!=null&&a(t,["displayName"],i);const s=l(e,["mimeType"]);s!=null&&a(t,["mimeType"],s);const r=l(e,["sizeBytes"]);r!=null&&a(t,["sizeBytes"],r);const u=l(e,["createTime"]);u!=null&&a(t,["createTime"],u);const f=l(e,["expirationTime"]);f!=null&&a(t,["expirationTime"],f);const c=l(e,["updateTime"]);c!=null&&a(t,["updateTime"],c);const d=l(e,["sha256Hash"]);d!=null&&a(t,["sha256Hash"],d);const p=l(e,["uri"]);p!=null&&a(t,["uri"],p);const h=l(e,["downloadUri"]);h!=null&&a(t,["downloadUri"],h);const m=l(e,["state"]);m!=null&&a(t,["state"],m);const _=l(e,["source"]);_!=null&&a(t,["source"],_);const E=l(e,["videoMetadata"]);E!=null&&a(t,["videoMetadata"],E);const b=l(e,["error"]);return b!=null&&a(t,["error"],Dp(n,b)),t}function Np(n,e){const t={},o=l(e,["file"]);o!=null&&a(t,["file"],kp(n,o));const i=l(e,["config"]);return i!=null&&a(t,["config"],i),t}function Lp(n,e){const t={},o=l(e,["name"]);o!=null&&a(t,["_url","file"],Da(n,o));const i=l(e,["config"]);return i!=null&&a(t,["config"],i),t}function Fp(n,e){const t={},o=l(e,["name"]);o!=null&&a(t,["_url","file"],Da(n,o));const i=l(e,["config"]);return i!=null&&a(t,["config"],i),t}function Up(n,e){const t={},o=l(e,["details"]);o!=null&&a(t,["details"],o);const i=l(e,["message"]);i!=null&&a(t,["message"],i);const s=l(e,["code"]);return s!=null&&a(t,["code"],s),t}function Si(n,e){const t={},o=l(e,["name"]);o!=null&&a(t,["name"],o);const i=l(e,["displayName"]);i!=null&&a(t,["displayName"],i);const s=l(e,["mimeType"]);s!=null&&a(t,["mimeType"],s);const r=l(e,["sizeBytes"]);r!=null&&a(t,["sizeBytes"],r);const u=l(e,["createTime"]);u!=null&&a(t,["createTime"],u);const f=l(e,["expirationTime"]);f!=null&&a(t,["expirationTime"],f);const c=l(e,["updateTime"]);c!=null&&a(t,["updateTime"],c);const d=l(e,["sha256Hash"]);d!=null&&a(t,["sha256Hash"],d);const p=l(e,["uri"]);p!=null&&a(t,["uri"],p);const h=l(e,["downloadUri"]);h!=null&&a(t,["downloadUri"],h);const m=l(e,["state"]);m!=null&&a(t,["state"],m);const _=l(e,["source"]);_!=null&&a(t,["source"],_);const E=l(e,["videoMetadata"]);E!=null&&a(t,["videoMetadata"],E);const b=l(e,["error"]);return b!=null&&a(t,["error"],Up(n,b)),t}function Vp(n,e){const t={},o=l(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const i=l(e,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(r=>Si(n,r))),a(t,["files"],s)}return t}function Op(){return{}}function Gp(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $p extends Bn{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Qi(Vn.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>Si(this.apiClient,t))}async listInternal(e){var t,o;let i,s="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=bp(this.apiClient,e);return s=H("files",u._url),r=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),i.then(f=>{const c=Vp(this.apiClient,f),d=new Ep;return Object.assign(d,c),d})}}async createInternal(e){var t,o;let i,s="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Np(this.apiClient,e);return s=H("upload/v1beta/files",u._url),r=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),i.then(()=>{const f=Op(),c=new vp;return Object.assign(c,f),c})}}async get(e){var t,o;let i,s="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Lp(this.apiClient,e);return s=H("files/{file}",u._url),r=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),i.then(f=>Si(this.apiClient,f))}}async delete(e){var t,o;let i,s="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Fp(this.apiClient,e);return s=H("files/{file}",u._url),r=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),i.then(()=>{const f=Gp(),c=new Sp;return Object.assign(c,f),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bp(n,e){const t={};if(l(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const o=l(e,["thought"]);o!=null&&a(t,["thought"],o);const i=l(e,["codeExecutionResult"]);i!=null&&a(t,["codeExecutionResult"],i);const s=l(e,["executableCode"]);s!=null&&a(t,["executableCode"],s);const r=l(e,["fileData"]);r!=null&&a(t,["fileData"],r);const u=l(e,["functionCall"]);u!=null&&a(t,["functionCall"],u);const f=l(e,["functionResponse"]);f!=null&&a(t,["functionResponse"],f);const c=l(e,["inlineData"]);c!=null&&a(t,["inlineData"],c);const d=l(e,["text"]);return d!=null&&a(t,["text"],d),t}function qp(n,e){const t={},o=l(e,["videoMetadata"]);o!=null&&a(t,["videoMetadata"],o);const i=l(e,["thought"]);i!=null&&a(t,["thought"],i);const s=l(e,["codeExecutionResult"]);s!=null&&a(t,["codeExecutionResult"],s);const r=l(e,["executableCode"]);r!=null&&a(t,["executableCode"],r);const u=l(e,["fileData"]);u!=null&&a(t,["fileData"],u);const f=l(e,["functionCall"]);f!=null&&a(t,["functionCall"],f);const c=l(e,["functionResponse"]);c!=null&&a(t,["functionResponse"],c);const d=l(e,["inlineData"]);d!=null&&a(t,["inlineData"],d);const p=l(e,["text"]);return p!=null&&a(t,["text"],p),t}function Hp(n,e){const t={},o=l(e,["parts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>Bp(n,r))),a(t,["parts"],s)}const i=l(e,["role"]);return i!=null&&a(t,["role"],i),t}function zp(n,e){const t={},o=l(e,["parts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>qp(n,r))),a(t,["parts"],s)}const i=l(e,["role"]);return i!=null&&a(t,["role"],i),t}function Wp(){return{}}function Jp(){return{}}function Yp(n,e){const t={},o=l(e,["mode"]);o!=null&&a(t,["mode"],o);const i=l(e,["dynamicThreshold"]);return i!=null&&a(t,["dynamicThreshold"],i),t}function Kp(n,e){const t={},o=l(e,["mode"]);o!=null&&a(t,["mode"],o);const i=l(e,["dynamicThreshold"]);return i!=null&&a(t,["dynamicThreshold"],i),t}function Zp(n,e){const t={},o=l(e,["dynamicRetrievalConfig"]);return o!=null&&a(t,["dynamicRetrievalConfig"],Yp(n,o)),t}function Xp(n,e){const t={},o=l(e,["dynamicRetrievalConfig"]);return o!=null&&a(t,["dynamicRetrievalConfig"],Kp(n,o)),t}function Qp(n,e){const t={};if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");l(e,["googleSearch"])!=null&&a(t,["googleSearch"],Wp());const i=l(e,["googleSearchRetrieval"]);i!=null&&a(t,["googleSearchRetrieval"],Zp(n,i));const s=l(e,["codeExecution"]);s!=null&&a(t,["codeExecution"],s);const r=l(e,["functionDeclarations"]);return r!=null&&a(t,["functionDeclarations"],r),t}function jp(n,e){const t={},o=l(e,["retrieval"]);o!=null&&a(t,["retrieval"],o),l(e,["googleSearch"])!=null&&a(t,["googleSearch"],Jp());const s=l(e,["googleSearchRetrieval"]);s!=null&&a(t,["googleSearchRetrieval"],Xp(n,s));const r=l(e,["codeExecution"]);r!=null&&a(t,["codeExecution"],r);const u=l(e,["functionDeclarations"]);return u!=null&&a(t,["functionDeclarations"],u),t}function eh(n,e){const t={},o=l(e,["handle"]);if(o!=null&&a(t,["handle"],o),l(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function th(n,e){const t={},o=l(e,["handle"]);o!=null&&a(t,["handle"],o);const i=l(e,["transparent"]);return i!=null&&a(t,["transparent"],i),t}function nh(){return{}}function Hr(){return{}}function oh(n,e){const t={},o=l(e,["disabled"]);o!=null&&a(t,["disabled"],o);const i=l(e,["startOfSpeechSensitivity"]);i!=null&&a(t,["startOfSpeechSensitivity"],i);const s=l(e,["endOfSpeechSensitivity"]);s!=null&&a(t,["endOfSpeechSensitivity"],s);const r=l(e,["prefixPaddingMs"]);r!=null&&a(t,["prefixPaddingMs"],r);const u=l(e,["silenceDurationMs"]);return u!=null&&a(t,["silenceDurationMs"],u),t}function ih(n,e){const t={},o=l(e,["disabled"]);o!=null&&a(t,["disabled"],o);const i=l(e,["startOfSpeechSensitivity"]);i!=null&&a(t,["startOfSpeechSensitivity"],i);const s=l(e,["endOfSpeechSensitivity"]);s!=null&&a(t,["endOfSpeechSensitivity"],s);const r=l(e,["prefixPaddingMs"]);r!=null&&a(t,["prefixPaddingMs"],r);const u=l(e,["silenceDurationMs"]);return u!=null&&a(t,["silenceDurationMs"],u),t}function sh(n,e){const t={},o=l(e,["automaticActivityDetection"]);o!=null&&a(t,["automaticActivityDetection"],oh(n,o));const i=l(e,["activityHandling"]);i!=null&&a(t,["activityHandling"],i);const s=l(e,["turnCoverage"]);return s!=null&&a(t,["turnCoverage"],s),t}function rh(n,e){const t={},o=l(e,["automaticActivityDetection"]);o!=null&&a(t,["automaticActivityDetection"],ih(n,o));const i=l(e,["activityHandling"]);i!=null&&a(t,["activityHandling"],i);const s=l(e,["turnCoverage"]);return s!=null&&a(t,["turnCoverage"],s),t}function lh(n,e){const t={},o=l(e,["targetTokens"]);return o!=null&&a(t,["targetTokens"],o),t}function ah(n,e){const t={},o=l(e,["targetTokens"]);return o!=null&&a(t,["targetTokens"],o),t}function uh(n,e){const t={},o=l(e,["triggerTokens"]);o!=null&&a(t,["triggerTokens"],o);const i=l(e,["slidingWindow"]);return i!=null&&a(t,["slidingWindow"],lh(n,i)),t}function ch(n,e){const t={},o=l(e,["triggerTokens"]);o!=null&&a(t,["triggerTokens"],o);const i=l(e,["slidingWindow"]);return i!=null&&a(t,["slidingWindow"],ah(n,i)),t}function fh(n,e,t){const o={},i=l(e,["generationConfig"]);t!==void 0&&i!=null&&a(t,["setup","generationConfig"],i);const s=l(e,["responseModalities"]);t!==void 0&&s!=null&&a(t,["setup","generationConfig","responseModalities"],s);const r=l(e,["temperature"]);t!==void 0&&r!=null&&a(t,["setup","generationConfig","temperature"],r);const u=l(e,["topP"]);t!==void 0&&u!=null&&a(t,["setup","generationConfig","topP"],u);const f=l(e,["topK"]);t!==void 0&&f!=null&&a(t,["setup","generationConfig","topK"],f);const c=l(e,["maxOutputTokens"]);t!==void 0&&c!=null&&a(t,["setup","generationConfig","maxOutputTokens"],c);const d=l(e,["mediaResolution"]);t!==void 0&&d!=null&&a(t,["setup","generationConfig","mediaResolution"],d);const p=l(e,["seed"]);t!==void 0&&p!=null&&a(t,["setup","generationConfig","seed"],p);const h=l(e,["speechConfig"]);t!==void 0&&h!=null&&a(t,["setup","generationConfig","speechConfig"],h);const m=l(e,["systemInstruction"]);t!==void 0&&m!=null&&a(t,["setup","systemInstruction"],Hp(n,$e(n,m)));const _=l(e,["tools"]);if(t!==void 0&&_!=null){let U=Uo(n,_);Array.isArray(U)&&(U=U.map(x=>Qp(n,Fo(n,x)))),a(t,["setup","tools"],U)}const E=l(e,["sessionResumption"]);if(t!==void 0&&E!=null&&a(t,["setup","sessionResumption"],eh(n,E)),l(e,["inputAudioTranscription"])!==void 0)throw new Error("inputAudioTranscription parameter is not supported in Gemini API.");const b=l(e,["outputAudioTranscription"]);t!==void 0&&b!=null&&a(t,["setup","outputAudioTranscription"],nh());const k=l(e,["realtimeInputConfig"]);t!==void 0&&k!=null&&a(t,["setup","realtimeInputConfig"],sh(n,k));const N=l(e,["contextWindowCompression"]);return t!==void 0&&N!=null&&a(t,["setup","contextWindowCompression"],uh(n,N)),o}function dh(n,e,t){const o={},i=l(e,["generationConfig"]);t!==void 0&&i!=null&&a(t,["setup","generationConfig"],i);const s=l(e,["responseModalities"]);t!==void 0&&s!=null&&a(t,["setup","generationConfig","responseModalities"],s);const r=l(e,["temperature"]);t!==void 0&&r!=null&&a(t,["setup","generationConfig","temperature"],r);const u=l(e,["topP"]);t!==void 0&&u!=null&&a(t,["setup","generationConfig","topP"],u);const f=l(e,["topK"]);t!==void 0&&f!=null&&a(t,["setup","generationConfig","topK"],f);const c=l(e,["maxOutputTokens"]);t!==void 0&&c!=null&&a(t,["setup","generationConfig","maxOutputTokens"],c);const d=l(e,["mediaResolution"]);t!==void 0&&d!=null&&a(t,["setup","generationConfig","mediaResolution"],d);const p=l(e,["seed"]);t!==void 0&&p!=null&&a(t,["setup","generationConfig","seed"],p);const h=l(e,["speechConfig"]);t!==void 0&&h!=null&&a(t,["setup","generationConfig","speechConfig"],h);const m=l(e,["systemInstruction"]);t!==void 0&&m!=null&&a(t,["setup","systemInstruction"],zp(n,$e(n,m)));const _=l(e,["tools"]);if(t!==void 0&&_!=null){let x=Uo(n,_);Array.isArray(x)&&(x=x.map(B=>jp(n,Fo(n,B)))),a(t,["setup","tools"],x)}const E=l(e,["sessionResumption"]);t!==void 0&&E!=null&&a(t,["setup","sessionResumption"],th(n,E));const b=l(e,["inputAudioTranscription"]);t!==void 0&&b!=null&&a(t,["setup","inputAudioTranscription"],Hr());const k=l(e,["outputAudioTranscription"]);t!==void 0&&k!=null&&a(t,["setup","outputAudioTranscription"],Hr());const N=l(e,["realtimeInputConfig"]);t!==void 0&&N!=null&&a(t,["setup","realtimeInputConfig"],rh(n,N));const U=l(e,["contextWindowCompression"]);return t!==void 0&&U!=null&&a(t,["setup","contextWindowCompression"],ch(n,U)),o}function ph(n,e){const t={},o=l(e,["model"]);o!=null&&a(t,["setup","model"],pe(n,o));const i=l(e,["config"]);return i!=null&&a(t,["config"],fh(n,i,t)),t}function hh(n,e){const t={},o=l(e,["model"]);o!=null&&a(t,["setup","model"],pe(n,o));const i=l(e,["config"]);return i!=null&&a(t,["config"],dh(n,i,t)),t}function gh(){return{}}function mh(){return{}}function Th(){return{}}function yh(){return{}}function _h(n,e){const t={},o=l(e,["media"]);o!=null&&a(t,["mediaChunks"],Ia(n,o));const i=l(e,["audio"]);i!=null&&a(t,["audio"],Vd(n,i));const s=l(e,["audioStreamEnd"]);s!=null&&a(t,["audioStreamEnd"],s);const r=l(e,["video"]);r!=null&&a(t,["video"],Ud(n,r));const u=l(e,["text"]);return u!=null&&a(t,["text"],u),l(e,["activityStart"])!=null&&a(t,["activityStart"],gh()),l(e,["activityEnd"])!=null&&a(t,["activityEnd"],Th()),t}function Ch(n,e){const t={},o=l(e,["media"]);if(o!=null&&a(t,["mediaChunks"],Ia(n,o)),l(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const i=l(e,["audioStreamEnd"]);if(i!=null&&a(t,["audioStreamEnd"],i),l(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(l(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return l(e,["activityStart"])!=null&&a(t,["activityStart"],mh()),l(e,["activityEnd"])!=null&&a(t,["activityEnd"],yh()),t}function Eh(){return{}}function vh(){return{}}function Sh(n,e){const t={},o=l(e,["thought"]);o!=null&&a(t,["thought"],o);const i=l(e,["codeExecutionResult"]);i!=null&&a(t,["codeExecutionResult"],i);const s=l(e,["executableCode"]);s!=null&&a(t,["executableCode"],s);const r=l(e,["fileData"]);r!=null&&a(t,["fileData"],r);const u=l(e,["functionCall"]);u!=null&&a(t,["functionCall"],u);const f=l(e,["functionResponse"]);f!=null&&a(t,["functionResponse"],f);const c=l(e,["inlineData"]);c!=null&&a(t,["inlineData"],c);const d=l(e,["text"]);return d!=null&&a(t,["text"],d),t}function xh(n,e){const t={},o=l(e,["videoMetadata"]);o!=null&&a(t,["videoMetadata"],o);const i=l(e,["thought"]);i!=null&&a(t,["thought"],i);const s=l(e,["codeExecutionResult"]);s!=null&&a(t,["codeExecutionResult"],s);const r=l(e,["executableCode"]);r!=null&&a(t,["executableCode"],r);const u=l(e,["fileData"]);u!=null&&a(t,["fileData"],u);const f=l(e,["functionCall"]);f!=null&&a(t,["functionCall"],f);const c=l(e,["functionResponse"]);c!=null&&a(t,["functionResponse"],c);const d=l(e,["inlineData"]);d!=null&&a(t,["inlineData"],d);const p=l(e,["text"]);return p!=null&&a(t,["text"],p),t}function Ah(n,e){const t={},o=l(e,["parts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>Sh(n,r))),a(t,["parts"],s)}const i=l(e,["role"]);return i!=null&&a(t,["role"],i),t}function Ih(n,e){const t={},o=l(e,["parts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>xh(n,r))),a(t,["parts"],s)}const i=l(e,["role"]);return i!=null&&a(t,["role"],i),t}function zr(n,e){const t={},o=l(e,["text"]);o!=null&&a(t,["text"],o);const i=l(e,["finished"]);return i!=null&&a(t,["finished"],i),t}function Wr(n,e){const t={},o=l(e,["text"]);o!=null&&a(t,["text"],o);const i=l(e,["finished"]);return i!=null&&a(t,["finished"],i),t}function wh(n,e){const t={},o=l(e,["modelTurn"]);o!=null&&a(t,["modelTurn"],Ah(n,o));const i=l(e,["turnComplete"]);i!=null&&a(t,["turnComplete"],i);const s=l(e,["interrupted"]);s!=null&&a(t,["interrupted"],s);const r=l(e,["groundingMetadata"]);r!=null&&a(t,["groundingMetadata"],r);const u=l(e,["generationComplete"]);u!=null&&a(t,["generationComplete"],u);const f=l(e,["inputTranscription"]);f!=null&&a(t,["inputTranscription"],zr(n,f));const c=l(e,["outputTranscription"]);return c!=null&&a(t,["outputTranscription"],zr(n,c)),t}function Rh(n,e){const t={},o=l(e,["modelTurn"]);o!=null&&a(t,["modelTurn"],Ih(n,o));const i=l(e,["turnComplete"]);i!=null&&a(t,["turnComplete"],i);const s=l(e,["interrupted"]);s!=null&&a(t,["interrupted"],s);const r=l(e,["groundingMetadata"]);r!=null&&a(t,["groundingMetadata"],r);const u=l(e,["generationComplete"]);u!=null&&a(t,["generationComplete"],u);const f=l(e,["inputTranscription"]);f!=null&&a(t,["inputTranscription"],Wr(n,f));const c=l(e,["outputTranscription"]);return c!=null&&a(t,["outputTranscription"],Wr(n,c)),t}function Mh(n,e){const t={},o=l(e,["id"]);o!=null&&a(t,["id"],o);const i=l(e,["args"]);i!=null&&a(t,["args"],i);const s=l(e,["name"]);return s!=null&&a(t,["name"],s),t}function Ph(n,e){const t={},o=l(e,["args"]);o!=null&&a(t,["args"],o);const i=l(e,["name"]);return i!=null&&a(t,["name"],i),t}function bh(n,e){const t={},o=l(e,["functionCalls"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>Mh(n,s))),a(t,["functionCalls"],i)}return t}function Dh(n,e){const t={},o=l(e,["functionCalls"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>Ph(n,s))),a(t,["functionCalls"],i)}return t}function kh(n,e){const t={},o=l(e,["ids"]);return o!=null&&a(t,["ids"],o),t}function Nh(n,e){const t={},o=l(e,["ids"]);return o!=null&&a(t,["ids"],o),t}function eo(n,e){const t={},o=l(e,["modality"]);o!=null&&a(t,["modality"],o);const i=l(e,["tokenCount"]);return i!=null&&a(t,["tokenCount"],i),t}function to(n,e){const t={},o=l(e,["modality"]);o!=null&&a(t,["modality"],o);const i=l(e,["tokenCount"]);return i!=null&&a(t,["tokenCount"],i),t}function Lh(n,e){const t={},o=l(e,["promptTokenCount"]);o!=null&&a(t,["promptTokenCount"],o);const i=l(e,["cachedContentTokenCount"]);i!=null&&a(t,["cachedContentTokenCount"],i);const s=l(e,["responseTokenCount"]);s!=null&&a(t,["responseTokenCount"],s);const r=l(e,["toolUsePromptTokenCount"]);r!=null&&a(t,["toolUsePromptTokenCount"],r);const u=l(e,["thoughtsTokenCount"]);u!=null&&a(t,["thoughtsTokenCount"],u);const f=l(e,["totalTokenCount"]);f!=null&&a(t,["totalTokenCount"],f);const c=l(e,["promptTokensDetails"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(_=>eo(n,_))),a(t,["promptTokensDetails"],m)}const d=l(e,["cacheTokensDetails"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(_=>eo(n,_))),a(t,["cacheTokensDetails"],m)}const p=l(e,["responseTokensDetails"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(_=>eo(n,_))),a(t,["responseTokensDetails"],m)}const h=l(e,["toolUsePromptTokensDetails"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(_=>eo(n,_))),a(t,["toolUsePromptTokensDetails"],m)}return t}function Fh(n,e){const t={},o=l(e,["promptTokenCount"]);o!=null&&a(t,["promptTokenCount"],o);const i=l(e,["cachedContentTokenCount"]);i!=null&&a(t,["cachedContentTokenCount"],i);const s=l(e,["candidatesTokenCount"]);s!=null&&a(t,["responseTokenCount"],s);const r=l(e,["toolUsePromptTokenCount"]);r!=null&&a(t,["toolUsePromptTokenCount"],r);const u=l(e,["thoughtsTokenCount"]);u!=null&&a(t,["thoughtsTokenCount"],u);const f=l(e,["totalTokenCount"]);f!=null&&a(t,["totalTokenCount"],f);const c=l(e,["promptTokensDetails"]);if(c!=null){let _=c;Array.isArray(_)&&(_=_.map(E=>to(n,E))),a(t,["promptTokensDetails"],_)}const d=l(e,["cacheTokensDetails"]);if(d!=null){let _=d;Array.isArray(_)&&(_=_.map(E=>to(n,E))),a(t,["cacheTokensDetails"],_)}const p=l(e,["candidatesTokensDetails"]);if(p!=null){let _=p;Array.isArray(_)&&(_=_.map(E=>to(n,E))),a(t,["responseTokensDetails"],_)}const h=l(e,["toolUsePromptTokensDetails"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(E=>to(n,E))),a(t,["toolUsePromptTokensDetails"],_)}const m=l(e,["trafficType"]);return m!=null&&a(t,["trafficType"],m),t}function Uh(n,e){const t={},o=l(e,["timeLeft"]);return o!=null&&a(t,["timeLeft"],o),t}function Vh(n,e){const t={},o=l(e,["timeLeft"]);return o!=null&&a(t,["timeLeft"],o),t}function Oh(n,e){const t={},o=l(e,["newHandle"]);o!=null&&a(t,["newHandle"],o);const i=l(e,["resumable"]);i!=null&&a(t,["resumable"],i);const s=l(e,["lastConsumedClientMessageIndex"]);return s!=null&&a(t,["lastConsumedClientMessageIndex"],s),t}function Gh(n,e){const t={},o=l(e,["newHandle"]);o!=null&&a(t,["newHandle"],o);const i=l(e,["resumable"]);i!=null&&a(t,["resumable"],i);const s=l(e,["lastConsumedClientMessageIndex"]);return s!=null&&a(t,["lastConsumedClientMessageIndex"],s),t}function $h(n,e){const t={};l(e,["setupComplete"])!=null&&a(t,["setupComplete"],Eh());const i=l(e,["serverContent"]);i!=null&&a(t,["serverContent"],wh(n,i));const s=l(e,["toolCall"]);s!=null&&a(t,["toolCall"],bh(n,s));const r=l(e,["toolCallCancellation"]);r!=null&&a(t,["toolCallCancellation"],kh(n,r));const u=l(e,["usageMetadata"]);u!=null&&a(t,["usageMetadata"],Lh(n,u));const f=l(e,["goAway"]);f!=null&&a(t,["goAway"],Uh(n,f));const c=l(e,["sessionResumptionUpdate"]);return c!=null&&a(t,["sessionResumptionUpdate"],Oh(n,c)),t}function Bh(n,e){const t={};l(e,["setupComplete"])!=null&&a(t,["setupComplete"],vh());const i=l(e,["serverContent"]);i!=null&&a(t,["serverContent"],Rh(n,i));const s=l(e,["toolCall"]);s!=null&&a(t,["toolCall"],Dh(n,s));const r=l(e,["toolCallCancellation"]);r!=null&&a(t,["toolCallCancellation"],Nh(n,r));const u=l(e,["usageMetadata"]);u!=null&&a(t,["usageMetadata"],Fh(n,u));const f=l(e,["goAway"]);f!=null&&a(t,["goAway"],Vh(n,f));const c=l(e,["sessionResumptionUpdate"]);return c!=null&&a(t,["sessionResumptionUpdate"],Gh(n,c)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qh(n,e){const t={};if(l(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const o=l(e,["thought"]);o!=null&&a(t,["thought"],o);const i=l(e,["codeExecutionResult"]);i!=null&&a(t,["codeExecutionResult"],i);const s=l(e,["executableCode"]);s!=null&&a(t,["executableCode"],s);const r=l(e,["fileData"]);r!=null&&a(t,["fileData"],r);const u=l(e,["functionCall"]);u!=null&&a(t,["functionCall"],u);const f=l(e,["functionResponse"]);f!=null&&a(t,["functionResponse"],f);const c=l(e,["inlineData"]);c!=null&&a(t,["inlineData"],c);const d=l(e,["text"]);return d!=null&&a(t,["text"],d),t}function Vo(n,e){const t={},o=l(e,["parts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>qh(n,r))),a(t,["parts"],s)}const i=l(e,["role"]);return i!=null&&a(t,["role"],i),t}function Hh(n,e){const t={};if(l(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=l(e,["category"]);o!=null&&a(t,["category"],o);const i=l(e,["threshold"]);return i!=null&&a(t,["threshold"],i),t}function zh(){return{}}function Wh(n,e){const t={},o=l(e,["mode"]);o!=null&&a(t,["mode"],o);const i=l(e,["dynamicThreshold"]);return i!=null&&a(t,["dynamicThreshold"],i),t}function Jh(n,e){const t={},o=l(e,["dynamicRetrievalConfig"]);return o!=null&&a(t,["dynamicRetrievalConfig"],Wh(n,o)),t}function Yh(n,e){const t={};if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");l(e,["googleSearch"])!=null&&a(t,["googleSearch"],zh());const i=l(e,["googleSearchRetrieval"]);i!=null&&a(t,["googleSearchRetrieval"],Jh(n,i));const s=l(e,["codeExecution"]);s!=null&&a(t,["codeExecution"],s);const r=l(e,["functionDeclarations"]);return r!=null&&a(t,["functionDeclarations"],r),t}function Kh(n,e){const t={},o=l(e,["mode"]);o!=null&&a(t,["mode"],o);const i=l(e,["allowedFunctionNames"]);return i!=null&&a(t,["allowedFunctionNames"],i),t}function Zh(n,e){const t={},o=l(e,["functionCallingConfig"]);return o!=null&&a(t,["functionCallingConfig"],Kh(n,o)),t}function Xh(n,e){const t={},o=l(e,["voiceName"]);return o!=null&&a(t,["voiceName"],o),t}function Qh(n,e){const t={},o=l(e,["prebuiltVoiceConfig"]);return o!=null&&a(t,["prebuiltVoiceConfig"],Xh(n,o)),t}function jh(n,e){const t={},o=l(e,["voiceConfig"]);o!=null&&a(t,["voiceConfig"],Qh(n,o));const i=l(e,["languageCode"]);return i!=null&&a(t,["languageCode"],i),t}function eg(n,e){const t={},o=l(e,["includeThoughts"]);o!=null&&a(t,["includeThoughts"],o);const i=l(e,["thinkingBudget"]);return i!=null&&a(t,["thinkingBudget"],i),t}function tg(n,e,t){const o={},i=l(e,["systemInstruction"]);t!==void 0&&i!=null&&a(t,["systemInstruction"],Vo(n,$e(n,i)));const s=l(e,["temperature"]);s!=null&&a(o,["temperature"],s);const r=l(e,["topP"]);r!=null&&a(o,["topP"],r);const u=l(e,["topK"]);u!=null&&a(o,["topK"],u);const f=l(e,["candidateCount"]);f!=null&&a(o,["candidateCount"],f);const c=l(e,["maxOutputTokens"]);c!=null&&a(o,["maxOutputTokens"],c);const d=l(e,["stopSequences"]);d!=null&&a(o,["stopSequences"],d);const p=l(e,["responseLogprobs"]);p!=null&&a(o,["responseLogprobs"],p);const h=l(e,["logprobs"]);h!=null&&a(o,["logprobs"],h);const m=l(e,["presencePenalty"]);m!=null&&a(o,["presencePenalty"],m);const _=l(e,["frequencyPenalty"]);_!=null&&a(o,["frequencyPenalty"],_);const E=l(e,["seed"]);E!=null&&a(o,["seed"],E);const b=l(e,["responseMimeType"]);b!=null&&a(o,["responseMimeType"],b);const k=l(e,["responseSchema"]);if(k!=null&&a(o,["responseSchema"],Ma(n,k)),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=l(e,["safetySettings"]);if(t!==void 0&&N!=null){let de=N;Array.isArray(de)&&(de=de.map(te=>Hh(n,te))),a(t,["safetySettings"],de)}const U=l(e,["tools"]);if(t!==void 0&&U!=null){let de=Uo(n,U);Array.isArray(de)&&(de=de.map(te=>Yh(n,Fo(n,te)))),a(t,["tools"],de)}const x=l(e,["toolConfig"]);if(t!==void 0&&x!=null&&a(t,["toolConfig"],Zh(n,x)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const B=l(e,["cachedContent"]);t!==void 0&&B!=null&&a(t,["cachedContent"],Vt(n,B));const he=l(e,["responseModalities"]);he!=null&&a(o,["responseModalities"],he);const ce=l(e,["mediaResolution"]);ce!=null&&a(o,["mediaResolution"],ce);const fe=l(e,["speechConfig"]);if(fe!=null&&a(o,["speechConfig"],jh(n,Pa(n,fe))),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Ye=l(e,["thinkingConfig"]);return Ye!=null&&a(o,["thinkingConfig"],eg(n,Ye)),o}function Jr(n,e){const t={},o=l(e,["model"]);o!=null&&a(t,["_url","model"],pe(n,o));const i=l(e,["contents"]);if(i!=null){let r=Ut(n,i);Array.isArray(r)&&(r=r.map(u=>Vo(n,u))),a(t,["contents"],r)}const s=l(e,["config"]);return s!=null&&a(t,["generationConfig"],tg(n,s,t)),t}function ng(n,e,t){const o={},i=l(e,["taskType"]);t!==void 0&&i!=null&&a(t,["requests[]","taskType"],i);const s=l(e,["title"]);t!==void 0&&s!=null&&a(t,["requests[]","title"],s);const r=l(e,["outputDimensionality"]);if(t!==void 0&&r!=null&&a(t,["requests[]","outputDimensionality"],r),l(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function og(n,e){const t={},o=l(e,["model"]);o!=null&&a(t,["_url","model"],pe(n,o));const i=l(e,["contents"]);i!=null&&a(t,["requests[]","content"],Ra(n,i));const s=l(e,["config"]);s!=null&&a(t,["config"],ng(n,s,t));const r=l(e,["model"]);return r!==void 0&&a(t,["requests[]","model"],pe(n,r)),t}function ig(n,e,t){const o={};if(l(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=l(e,["numberOfImages"]);t!==void 0&&i!=null&&a(t,["parameters","sampleCount"],i);const s=l(e,["aspectRatio"]);t!==void 0&&s!=null&&a(t,["parameters","aspectRatio"],s);const r=l(e,["guidanceScale"]);if(t!==void 0&&r!=null&&a(t,["parameters","guidanceScale"],r),l(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=l(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&a(t,["parameters","safetySetting"],u);const f=l(e,["personGeneration"]);t!==void 0&&f!=null&&a(t,["parameters","personGeneration"],f);const c=l(e,["includeSafetyAttributes"]);t!==void 0&&c!=null&&a(t,["parameters","includeSafetyAttributes"],c);const d=l(e,["includeRaiReason"]);t!==void 0&&d!=null&&a(t,["parameters","includeRaiReason"],d);const p=l(e,["language"]);t!==void 0&&p!=null&&a(t,["parameters","language"],p);const h=l(e,["outputMimeType"]);t!==void 0&&h!=null&&a(t,["parameters","outputOptions","mimeType"],h);const m=l(e,["outputCompressionQuality"]);if(t!==void 0&&m!=null&&a(t,["parameters","outputOptions","compressionQuality"],m),l(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(l(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function sg(n,e){const t={},o=l(e,["model"]);o!=null&&a(t,["_url","model"],pe(n,o));const i=l(e,["prompt"]);i!=null&&a(t,["instances[0]","prompt"],i);const s=l(e,["config"]);return s!=null&&a(t,["config"],ig(n,s,t)),t}function rg(n,e){const t={},o=l(e,["model"]);o!=null&&a(t,["_url","name"],pe(n,o));const i=l(e,["config"]);return i!=null&&a(t,["config"],i),t}function lg(n,e,t){const o={},i=l(e,["displayName"]);t!==void 0&&i!=null&&a(t,["displayName"],i);const s=l(e,["description"]);return t!==void 0&&s!=null&&a(t,["description"],s),o}function ag(n,e){const t={},o=l(e,["model"]);o!=null&&a(t,["_url","name"],pe(n,o));const i=l(e,["config"]);return i!=null&&a(t,["config"],lg(n,i,t)),t}function ug(n,e){const t={},o=l(e,["model"]);o!=null&&a(t,["_url","name"],pe(n,o));const i=l(e,["config"]);return i!=null&&a(t,["config"],i),t}function cg(n,e){const t={};if(l(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(l(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(l(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function fg(n,e){const t={},o=l(e,["model"]);o!=null&&a(t,["_url","model"],pe(n,o));const i=l(e,["contents"]);if(i!=null){let r=Ut(n,i);Array.isArray(r)&&(r=r.map(u=>Vo(n,u))),a(t,["contents"],r)}const s=l(e,["config"]);return s!=null&&a(t,["config"],cg(n,s)),t}function dg(n,e){const t={};if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=l(e,["imageBytes"]);o!=null&&a(t,["bytesBase64Encoded"],Ot(n,o));const i=l(e,["mimeType"]);return i!=null&&a(t,["mimeType"],i),t}function pg(n,e,t){const o={},i=l(e,["numberOfVideos"]);if(t!==void 0&&i!=null&&a(t,["parameters","sampleCount"],i),l(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=l(e,["durationSeconds"]);if(t!==void 0&&s!=null&&a(t,["parameters","durationSeconds"],s),l(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const r=l(e,["aspectRatio"]);if(t!==void 0&&r!=null&&a(t,["parameters","aspectRatio"],r),l(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const u=l(e,["personGeneration"]);if(t!==void 0&&u!=null&&a(t,["parameters","personGeneration"],u),l(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=l(e,["negativePrompt"]);if(t!==void 0&&f!=null&&a(t,["parameters","negativePrompt"],f),l(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function hg(n,e){const t={},o=l(e,["model"]);o!=null&&a(t,["_url","model"],pe(n,o));const i=l(e,["prompt"]);i!=null&&a(t,["instances[0]","prompt"],i);const s=l(e,["image"]);s!=null&&a(t,["instances[0]","image"],dg(n,s));const r=l(e,["config"]);return r!=null&&a(t,["config"],pg(n,r,t)),t}function gg(n,e){const t={},o=l(e,["videoMetadata"]);o!=null&&a(t,["videoMetadata"],o);const i=l(e,["thought"]);i!=null&&a(t,["thought"],i);const s=l(e,["codeExecutionResult"]);s!=null&&a(t,["codeExecutionResult"],s);const r=l(e,["executableCode"]);r!=null&&a(t,["executableCode"],r);const u=l(e,["fileData"]);u!=null&&a(t,["fileData"],u);const f=l(e,["functionCall"]);f!=null&&a(t,["functionCall"],f);const c=l(e,["functionResponse"]);c!=null&&a(t,["functionResponse"],c);const d=l(e,["inlineData"]);d!=null&&a(t,["inlineData"],d);const p=l(e,["text"]);return p!=null&&a(t,["text"],p),t}function fn(n,e){const t={},o=l(e,["parts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>gg(n,r))),a(t,["parts"],s)}const i=l(e,["role"]);return i!=null&&a(t,["role"],i),t}function mg(n,e){const t={},o=l(e,["featureSelectionPreference"]);return o!=null&&a(t,["featureSelectionPreference"],o),t}function Tg(n,e){const t={},o=l(e,["method"]);o!=null&&a(t,["method"],o);const i=l(e,["category"]);i!=null&&a(t,["category"],i);const s=l(e,["threshold"]);return s!=null&&a(t,["threshold"],s),t}function yg(){return{}}function _g(n,e){const t={},o=l(e,["mode"]);o!=null&&a(t,["mode"],o);const i=l(e,["dynamicThreshold"]);return i!=null&&a(t,["dynamicThreshold"],i),t}function Cg(n,e){const t={},o=l(e,["dynamicRetrievalConfig"]);return o!=null&&a(t,["dynamicRetrievalConfig"],_g(n,o)),t}function Na(n,e){const t={},o=l(e,["retrieval"]);o!=null&&a(t,["retrieval"],o),l(e,["googleSearch"])!=null&&a(t,["googleSearch"],yg());const s=l(e,["googleSearchRetrieval"]);s!=null&&a(t,["googleSearchRetrieval"],Cg(n,s));const r=l(e,["codeExecution"]);r!=null&&a(t,["codeExecution"],r);const u=l(e,["functionDeclarations"]);return u!=null&&a(t,["functionDeclarations"],u),t}function Eg(n,e){const t={},o=l(e,["mode"]);o!=null&&a(t,["mode"],o);const i=l(e,["allowedFunctionNames"]);return i!=null&&a(t,["allowedFunctionNames"],i),t}function vg(n,e){const t={},o=l(e,["functionCallingConfig"]);return o!=null&&a(t,["functionCallingConfig"],Eg(n,o)),t}function Sg(n,e){const t={},o=l(e,["voiceName"]);return o!=null&&a(t,["voiceName"],o),t}function xg(n,e){const t={},o=l(e,["prebuiltVoiceConfig"]);return o!=null&&a(t,["prebuiltVoiceConfig"],Sg(n,o)),t}function Ag(n,e){const t={},o=l(e,["voiceConfig"]);o!=null&&a(t,["voiceConfig"],xg(n,o));const i=l(e,["languageCode"]);return i!=null&&a(t,["languageCode"],i),t}function Ig(n,e){const t={},o=l(e,["includeThoughts"]);o!=null&&a(t,["includeThoughts"],o);const i=l(e,["thinkingBudget"]);return i!=null&&a(t,["thinkingBudget"],i),t}function wg(n,e,t){const o={},i=l(e,["systemInstruction"]);t!==void 0&&i!=null&&a(t,["systemInstruction"],fn(n,$e(n,i)));const s=l(e,["temperature"]);s!=null&&a(o,["temperature"],s);const r=l(e,["topP"]);r!=null&&a(o,["topP"],r);const u=l(e,["topK"]);u!=null&&a(o,["topK"],u);const f=l(e,["candidateCount"]);f!=null&&a(o,["candidateCount"],f);const c=l(e,["maxOutputTokens"]);c!=null&&a(o,["maxOutputTokens"],c);const d=l(e,["stopSequences"]);d!=null&&a(o,["stopSequences"],d);const p=l(e,["responseLogprobs"]);p!=null&&a(o,["responseLogprobs"],p);const h=l(e,["logprobs"]);h!=null&&a(o,["logprobs"],h);const m=l(e,["presencePenalty"]);m!=null&&a(o,["presencePenalty"],m);const _=l(e,["frequencyPenalty"]);_!=null&&a(o,["frequencyPenalty"],_);const E=l(e,["seed"]);E!=null&&a(o,["seed"],E);const b=l(e,["responseMimeType"]);b!=null&&a(o,["responseMimeType"],b);const k=l(e,["responseSchema"]);k!=null&&a(o,["responseSchema"],Ma(n,k));const N=l(e,["routingConfig"]);N!=null&&a(o,["routingConfig"],N);const U=l(e,["modelSelectionConfig"]);U!=null&&a(o,["modelConfig"],mg(n,U));const x=l(e,["safetySettings"]);if(t!==void 0&&x!=null){let Ce=x;Array.isArray(Ce)&&(Ce=Ce.map(It=>Tg(n,It))),a(t,["safetySettings"],Ce)}const B=l(e,["tools"]);if(t!==void 0&&B!=null){let Ce=Uo(n,B);Array.isArray(Ce)&&(Ce=Ce.map(It=>Na(n,Fo(n,It)))),a(t,["tools"],Ce)}const he=l(e,["toolConfig"]);t!==void 0&&he!=null&&a(t,["toolConfig"],vg(n,he));const ce=l(e,["labels"]);t!==void 0&&ce!=null&&a(t,["labels"],ce);const fe=l(e,["cachedContent"]);t!==void 0&&fe!=null&&a(t,["cachedContent"],Vt(n,fe));const Ye=l(e,["responseModalities"]);Ye!=null&&a(o,["responseModalities"],Ye);const de=l(e,["mediaResolution"]);de!=null&&a(o,["mediaResolution"],de);const te=l(e,["speechConfig"]);te!=null&&a(o,["speechConfig"],Ag(n,Pa(n,te)));const nt=l(e,["audioTimestamp"]);nt!=null&&a(o,["audioTimestamp"],nt);const ot=l(e,["thinkingConfig"]);return ot!=null&&a(o,["thinkingConfig"],Ig(n,ot)),o}function Yr(n,e){const t={},o=l(e,["model"]);o!=null&&a(t,["_url","model"],pe(n,o));const i=l(e,["contents"]);if(i!=null){let r=Ut(n,i);Array.isArray(r)&&(r=r.map(u=>fn(n,u))),a(t,["contents"],r)}const s=l(e,["config"]);return s!=null&&a(t,["generationConfig"],wg(n,s,t)),t}function Rg(n,e,t){const o={},i=l(e,["taskType"]);t!==void 0&&i!=null&&a(t,["instances[]","task_type"],i);const s=l(e,["title"]);t!==void 0&&s!=null&&a(t,["instances[]","title"],s);const r=l(e,["outputDimensionality"]);t!==void 0&&r!=null&&a(t,["parameters","outputDimensionality"],r);const u=l(e,["mimeType"]);t!==void 0&&u!=null&&a(t,["instances[]","mimeType"],u);const f=l(e,["autoTruncate"]);return t!==void 0&&f!=null&&a(t,["parameters","autoTruncate"],f),o}function Mg(n,e){const t={},o=l(e,["model"]);o!=null&&a(t,["_url","model"],pe(n,o));const i=l(e,["contents"]);i!=null&&a(t,["instances[]","content"],Ra(n,i));const s=l(e,["config"]);return s!=null&&a(t,["config"],Rg(n,s,t)),t}function Pg(n,e,t){const o={},i=l(e,["outputGcsUri"]);t!==void 0&&i!=null&&a(t,["parameters","storageUri"],i);const s=l(e,["negativePrompt"]);t!==void 0&&s!=null&&a(t,["parameters","negativePrompt"],s);const r=l(e,["numberOfImages"]);t!==void 0&&r!=null&&a(t,["parameters","sampleCount"],r);const u=l(e,["aspectRatio"]);t!==void 0&&u!=null&&a(t,["parameters","aspectRatio"],u);const f=l(e,["guidanceScale"]);t!==void 0&&f!=null&&a(t,["parameters","guidanceScale"],f);const c=l(e,["seed"]);t!==void 0&&c!=null&&a(t,["parameters","seed"],c);const d=l(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&a(t,["parameters","safetySetting"],d);const p=l(e,["personGeneration"]);t!==void 0&&p!=null&&a(t,["parameters","personGeneration"],p);const h=l(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&a(t,["parameters","includeSafetyAttributes"],h);const m=l(e,["includeRaiReason"]);t!==void 0&&m!=null&&a(t,["parameters","includeRaiReason"],m);const _=l(e,["language"]);t!==void 0&&_!=null&&a(t,["parameters","language"],_);const E=l(e,["outputMimeType"]);t!==void 0&&E!=null&&a(t,["parameters","outputOptions","mimeType"],E);const b=l(e,["outputCompressionQuality"]);t!==void 0&&b!=null&&a(t,["parameters","outputOptions","compressionQuality"],b);const k=l(e,["addWatermark"]);t!==void 0&&k!=null&&a(t,["parameters","addWatermark"],k);const N=l(e,["enhancePrompt"]);return t!==void 0&&N!=null&&a(t,["parameters","enhancePrompt"],N),o}function bg(n,e){const t={},o=l(e,["model"]);o!=null&&a(t,["_url","model"],pe(n,o));const i=l(e,["prompt"]);i!=null&&a(t,["instances[0]","prompt"],i);const s=l(e,["config"]);return s!=null&&a(t,["config"],Pg(n,s,t)),t}function Dg(n,e){const t={},o=l(e,["model"]);o!=null&&a(t,["_url","name"],pe(n,o));const i=l(e,["config"]);return i!=null&&a(t,["config"],i),t}function kg(n,e,t){const o={},i=l(e,["displayName"]);t!==void 0&&i!=null&&a(t,["displayName"],i);const s=l(e,["description"]);return t!==void 0&&s!=null&&a(t,["description"],s),o}function Ng(n,e){const t={},o=l(e,["model"]);o!=null&&a(t,["_url","model"],pe(n,o));const i=l(e,["config"]);return i!=null&&a(t,["config"],kg(n,i,t)),t}function Lg(n,e){const t={},o=l(e,["model"]);o!=null&&a(t,["_url","name"],pe(n,o));const i=l(e,["config"]);return i!=null&&a(t,["config"],i),t}function Fg(n,e,t){const o={},i=l(e,["systemInstruction"]);t!==void 0&&i!=null&&a(t,["systemInstruction"],fn(n,$e(n,i)));const s=l(e,["tools"]);if(t!==void 0&&s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>Na(n,f))),a(t,["tools"],u)}const r=l(e,["generationConfig"]);return t!==void 0&&r!=null&&a(t,["generationConfig"],r),o}function Ug(n,e){const t={},o=l(e,["model"]);o!=null&&a(t,["_url","model"],pe(n,o));const i=l(e,["contents"]);if(i!=null){let r=Ut(n,i);Array.isArray(r)&&(r=r.map(u=>fn(n,u))),a(t,["contents"],r)}const s=l(e,["config"]);return s!=null&&a(t,["config"],Fg(n,s,t)),t}function Vg(n,e){const t={},o=l(e,["model"]);o!=null&&a(t,["_url","model"],pe(n,o));const i=l(e,["contents"]);if(i!=null){let r=Ut(n,i);Array.isArray(r)&&(r=r.map(u=>fn(n,u))),a(t,["contents"],r)}const s=l(e,["config"]);return s!=null&&a(t,["config"],s),t}function Og(n,e){const t={},o=l(e,["gcsUri"]);o!=null&&a(t,["gcsUri"],o);const i=l(e,["imageBytes"]);i!=null&&a(t,["bytesBase64Encoded"],Ot(n,i));const s=l(e,["mimeType"]);return s!=null&&a(t,["mimeType"],s),t}function Gg(n,e,t){const o={},i=l(e,["numberOfVideos"]);t!==void 0&&i!=null&&a(t,["parameters","sampleCount"],i);const s=l(e,["outputGcsUri"]);t!==void 0&&s!=null&&a(t,["parameters","storageUri"],s);const r=l(e,["fps"]);t!==void 0&&r!=null&&a(t,["parameters","fps"],r);const u=l(e,["durationSeconds"]);t!==void 0&&u!=null&&a(t,["parameters","durationSeconds"],u);const f=l(e,["seed"]);t!==void 0&&f!=null&&a(t,["parameters","seed"],f);const c=l(e,["aspectRatio"]);t!==void 0&&c!=null&&a(t,["parameters","aspectRatio"],c);const d=l(e,["resolution"]);t!==void 0&&d!=null&&a(t,["parameters","resolution"],d);const p=l(e,["personGeneration"]);t!==void 0&&p!=null&&a(t,["parameters","personGeneration"],p);const h=l(e,["pubsubTopic"]);t!==void 0&&h!=null&&a(t,["parameters","pubsubTopic"],h);const m=l(e,["negativePrompt"]);t!==void 0&&m!=null&&a(t,["parameters","negativePrompt"],m);const _=l(e,["enhancePrompt"]);return t!==void 0&&_!=null&&a(t,["parameters","enhancePrompt"],_),o}function $g(n,e){const t={},o=l(e,["model"]);o!=null&&a(t,["_url","model"],pe(n,o));const i=l(e,["prompt"]);i!=null&&a(t,["instances[0]","prompt"],i);const s=l(e,["image"]);s!=null&&a(t,["instances[0]","image"],Og(n,s));const r=l(e,["config"]);return r!=null&&a(t,["config"],Gg(n,r,t)),t}function Bg(n,e){const t={},o=l(e,["thought"]);o!=null&&a(t,["thought"],o);const i=l(e,["codeExecutionResult"]);i!=null&&a(t,["codeExecutionResult"],i);const s=l(e,["executableCode"]);s!=null&&a(t,["executableCode"],s);const r=l(e,["fileData"]);r!=null&&a(t,["fileData"],r);const u=l(e,["functionCall"]);u!=null&&a(t,["functionCall"],u);const f=l(e,["functionResponse"]);f!=null&&a(t,["functionResponse"],f);const c=l(e,["inlineData"]);c!=null&&a(t,["inlineData"],c);const d=l(e,["text"]);return d!=null&&a(t,["text"],d),t}function qg(n,e){const t={},o=l(e,["parts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>Bg(n,r))),a(t,["parts"],s)}const i=l(e,["role"]);return i!=null&&a(t,["role"],i),t}function Hg(n,e){const t={},o=l(e,["citationSources"]);return o!=null&&a(t,["citations"],o),t}function zg(n,e){const t={},o=l(e,["content"]);o!=null&&a(t,["content"],qg(n,o));const i=l(e,["citationMetadata"]);i!=null&&a(t,["citationMetadata"],Hg(n,i));const s=l(e,["tokenCount"]);s!=null&&a(t,["tokenCount"],s);const r=l(e,["finishReason"]);r!=null&&a(t,["finishReason"],r);const u=l(e,["avgLogprobs"]);u!=null&&a(t,["avgLogprobs"],u);const f=l(e,["groundingMetadata"]);f!=null&&a(t,["groundingMetadata"],f);const c=l(e,["index"]);c!=null&&a(t,["index"],c);const d=l(e,["logprobsResult"]);d!=null&&a(t,["logprobsResult"],d);const p=l(e,["safetyRatings"]);return p!=null&&a(t,["safetyRatings"],p),t}function Kr(n,e){const t={},o=l(e,["candidates"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>zg(n,f))),a(t,["candidates"],u)}const i=l(e,["modelVersion"]);i!=null&&a(t,["modelVersion"],i);const s=l(e,["promptFeedback"]);s!=null&&a(t,["promptFeedback"],s);const r=l(e,["usageMetadata"]);return r!=null&&a(t,["usageMetadata"],r),t}function Wg(n,e){const t={},o=l(e,["values"]);return o!=null&&a(t,["values"],o),t}function Jg(){return{}}function Yg(n,e){const t={},o=l(e,["embeddings"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>Wg(n,r))),a(t,["embeddings"],s)}return l(e,["metadata"])!=null&&a(t,["metadata"],Jg()),t}function Kg(n,e){const t={},o=l(e,["bytesBase64Encoded"]);o!=null&&a(t,["imageBytes"],Ot(n,o));const i=l(e,["mimeType"]);return i!=null&&a(t,["mimeType"],i),t}function La(n,e){const t={},o=l(e,["safetyAttributes","categories"]);o!=null&&a(t,["categories"],o);const i=l(e,["safetyAttributes","scores"]);i!=null&&a(t,["scores"],i);const s=l(e,["contentType"]);return s!=null&&a(t,["contentType"],s),t}function Zg(n,e){const t={},o=l(e,["_self"]);o!=null&&a(t,["image"],Kg(n,o));const i=l(e,["raiFilteredReason"]);i!=null&&a(t,["raiFilteredReason"],i);const s=l(e,["_self"]);return s!=null&&a(t,["safetyAttributes"],La(n,s)),t}function Xg(n,e){const t={},o=l(e,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>Zg(n,r))),a(t,["generatedImages"],s)}const i=l(e,["positivePromptSafetyAttributes"]);return i!=null&&a(t,["positivePromptSafetyAttributes"],La(n,i)),t}function Qg(n,e){const t={},o=l(e,["baseModel"]);o!=null&&a(t,["baseModel"],o);const i=l(e,["createTime"]);i!=null&&a(t,["createTime"],i);const s=l(e,["updateTime"]);return s!=null&&a(t,["updateTime"],s),t}function Zr(n,e){const t={},o=l(e,["name"]);o!=null&&a(t,["name"],o);const i=l(e,["displayName"]);i!=null&&a(t,["displayName"],i);const s=l(e,["description"]);s!=null&&a(t,["description"],s);const r=l(e,["version"]);r!=null&&a(t,["version"],r);const u=l(e,["_self"]);u!=null&&a(t,["tunedModelInfo"],Qg(n,u));const f=l(e,["inputTokenLimit"]);f!=null&&a(t,["inputTokenLimit"],f);const c=l(e,["outputTokenLimit"]);c!=null&&a(t,["outputTokenLimit"],c);const d=l(e,["supportedGenerationMethods"]);return d!=null&&a(t,["supportedActions"],d),t}function jg(){return{}}function em(n,e){const t={},o=l(e,["totalTokens"]);o!=null&&a(t,["totalTokens"],o);const i=l(e,["cachedContentTokenCount"]);return i!=null&&a(t,["cachedContentTokenCount"],i),t}function tm(n,e){const t={},o=l(e,["video","uri"]);o!=null&&a(t,["uri"],o);const i=l(e,["video","encodedVideo"]);i!=null&&a(t,["videoBytes"],Ot(n,i));const s=l(e,["encoding"]);return s!=null&&a(t,["mimeType"],s),t}function nm(n,e){const t={},o=l(e,["_self"]);return o!=null&&a(t,["video"],tm(n,o)),t}function om(n,e){const t={},o=l(e,["generatedSamples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>nm(n,u))),a(t,["generatedVideos"],r)}const i=l(e,["raiMediaFilteredCount"]);i!=null&&a(t,["raiMediaFilteredCount"],i);const s=l(e,["raiMediaFilteredReasons"]);return s!=null&&a(t,["raiMediaFilteredReasons"],s),t}function im(n,e){const t={},o=l(e,["name"]);o!=null&&a(t,["name"],o);const i=l(e,["metadata"]);i!=null&&a(t,["metadata"],i);const s=l(e,["done"]);s!=null&&a(t,["done"],s);const r=l(e,["error"]);r!=null&&a(t,["error"],r);const u=l(e,["response","generateVideoResponse"]);return u!=null&&a(t,["response"],om(n,u)),t}function sm(n,e){const t={},o=l(e,["videoMetadata"]);o!=null&&a(t,["videoMetadata"],o);const i=l(e,["thought"]);i!=null&&a(t,["thought"],i);const s=l(e,["codeExecutionResult"]);s!=null&&a(t,["codeExecutionResult"],s);const r=l(e,["executableCode"]);r!=null&&a(t,["executableCode"],r);const u=l(e,["fileData"]);u!=null&&a(t,["fileData"],u);const f=l(e,["functionCall"]);f!=null&&a(t,["functionCall"],f);const c=l(e,["functionResponse"]);c!=null&&a(t,["functionResponse"],c);const d=l(e,["inlineData"]);d!=null&&a(t,["inlineData"],d);const p=l(e,["text"]);return p!=null&&a(t,["text"],p),t}function rm(n,e){const t={},o=l(e,["parts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>sm(n,r))),a(t,["parts"],s)}const i=l(e,["role"]);return i!=null&&a(t,["role"],i),t}function lm(n,e){const t={},o=l(e,["citations"]);return o!=null&&a(t,["citations"],o),t}function am(n,e){const t={},o=l(e,["content"]);o!=null&&a(t,["content"],rm(n,o));const i=l(e,["citationMetadata"]);i!=null&&a(t,["citationMetadata"],lm(n,i));const s=l(e,["finishMessage"]);s!=null&&a(t,["finishMessage"],s);const r=l(e,["finishReason"]);r!=null&&a(t,["finishReason"],r);const u=l(e,["avgLogprobs"]);u!=null&&a(t,["avgLogprobs"],u);const f=l(e,["groundingMetadata"]);f!=null&&a(t,["groundingMetadata"],f);const c=l(e,["index"]);c!=null&&a(t,["index"],c);const d=l(e,["logprobsResult"]);d!=null&&a(t,["logprobsResult"],d);const p=l(e,["safetyRatings"]);return p!=null&&a(t,["safetyRatings"],p),t}function Xr(n,e){const t={},o=l(e,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>am(n,d))),a(t,["candidates"],c)}const i=l(e,["createTime"]);i!=null&&a(t,["createTime"],i);const s=l(e,["responseId"]);s!=null&&a(t,["responseId"],s);const r=l(e,["modelVersion"]);r!=null&&a(t,["modelVersion"],r);const u=l(e,["promptFeedback"]);u!=null&&a(t,["promptFeedback"],u);const f=l(e,["usageMetadata"]);return f!=null&&a(t,["usageMetadata"],f),t}function um(n,e){const t={},o=l(e,["truncated"]);o!=null&&a(t,["truncated"],o);const i=l(e,["token_count"]);return i!=null&&a(t,["tokenCount"],i),t}function cm(n,e){const t={},o=l(e,["values"]);o!=null&&a(t,["values"],o);const i=l(e,["statistics"]);return i!=null&&a(t,["statistics"],um(n,i)),t}function fm(n,e){const t={},o=l(e,["billableCharacterCount"]);return o!=null&&a(t,["billableCharacterCount"],o),t}function dm(n,e){const t={},o=l(e,["predictions[]","embeddings"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>cm(n,r))),a(t,["embeddings"],s)}const i=l(e,["metadata"]);return i!=null&&a(t,["metadata"],fm(n,i)),t}function pm(n,e){const t={},o=l(e,["gcsUri"]);o!=null&&a(t,["gcsUri"],o);const i=l(e,["bytesBase64Encoded"]);i!=null&&a(t,["imageBytes"],Ot(n,i));const s=l(e,["mimeType"]);return s!=null&&a(t,["mimeType"],s),t}function Fa(n,e){const t={},o=l(e,["safetyAttributes","categories"]);o!=null&&a(t,["categories"],o);const i=l(e,["safetyAttributes","scores"]);i!=null&&a(t,["scores"],i);const s=l(e,["contentType"]);return s!=null&&a(t,["contentType"],s),t}function hm(n,e){const t={},o=l(e,["_self"]);o!=null&&a(t,["image"],pm(n,o));const i=l(e,["raiFilteredReason"]);i!=null&&a(t,["raiFilteredReason"],i);const s=l(e,["_self"]);s!=null&&a(t,["safetyAttributes"],Fa(n,s));const r=l(e,["prompt"]);return r!=null&&a(t,["enhancedPrompt"],r),t}function gm(n,e){const t={},o=l(e,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>hm(n,r))),a(t,["generatedImages"],s)}const i=l(e,["positivePromptSafetyAttributes"]);return i!=null&&a(t,["positivePromptSafetyAttributes"],Fa(n,i)),t}function mm(n,e){const t={},o=l(e,["endpoint"]);o!=null&&a(t,["name"],o);const i=l(e,["deployedModelId"]);return i!=null&&a(t,["deployedModelId"],i),t}function Tm(n,e){const t={},o=l(e,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&a(t,["baseModel"],o);const i=l(e,["createTime"]);i!=null&&a(t,["createTime"],i);const s=l(e,["updateTime"]);return s!=null&&a(t,["updateTime"],s),t}function Qr(n,e){const t={},o=l(e,["name"]);o!=null&&a(t,["name"],o);const i=l(e,["displayName"]);i!=null&&a(t,["displayName"],i);const s=l(e,["description"]);s!=null&&a(t,["description"],s);const r=l(e,["versionId"]);r!=null&&a(t,["version"],r);const u=l(e,["deployedModels"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>mm(n,p))),a(t,["endpoints"],d)}const f=l(e,["labels"]);f!=null&&a(t,["labels"],f);const c=l(e,["_self"]);return c!=null&&a(t,["tunedModelInfo"],Tm(n,c)),t}function ym(){return{}}function _m(n,e){const t={},o=l(e,["totalTokens"]);return o!=null&&a(t,["totalTokens"],o),t}function Cm(n,e){const t={},o=l(e,["tokensInfo"]);return o!=null&&a(t,["tokensInfo"],o),t}function Em(n,e){const t={},o=l(e,["gcsUri"]);o!=null&&a(t,["uri"],o);const i=l(e,["bytesBase64Encoded"]);i!=null&&a(t,["videoBytes"],Ot(n,i));const s=l(e,["mimeType"]);return s!=null&&a(t,["mimeType"],s),t}function vm(n,e){const t={},o=l(e,["_self"]);return o!=null&&a(t,["video"],Em(n,o)),t}function Sm(n,e){const t={},o=l(e,["videos"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>vm(n,u))),a(t,["generatedVideos"],r)}const i=l(e,["raiMediaFilteredCount"]);i!=null&&a(t,["raiMediaFilteredCount"],i);const s=l(e,["raiMediaFilteredReasons"]);return s!=null&&a(t,["raiMediaFilteredReasons"],s),t}function xm(n,e){const t={},o=l(e,["name"]);o!=null&&a(t,["name"],o);const i=l(e,["metadata"]);i!=null&&a(t,["metadata"],i);const s=l(e,["done"]);s!=null&&a(t,["done"],s);const r=l(e,["error"]);r!=null&&a(t,["error"],r);const u=l(e,["response"]);return u!=null&&a(t,["response"],Sm(n,u)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Am="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Im(n,e,t){let o,i;t.data instanceof Blob?i=JSON.parse(await t.data.text()):i=JSON.parse(t.data),n.isVertexAI()?o=Bh(n,i):o=$h(n,i),e(o)}class wm{constructor(e,t,o){this.apiClient=e,this.auth=t,this.webSocketFactory=o}async connect(e){var t,o,i,s;const r=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let f;const c=bm(this.apiClient.getDefaultHeaders());if(this.apiClient.isVertexAI())f=`${r}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(c);else{const x=this.apiClient.getApiKey();f=`${r}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateContent?key=${x}`}let d=()=>{};const p=new Promise(x=>{d=x}),h=e.callbacks,m=function(){var x;(x=h==null?void 0:h.onopen)===null||x===void 0||x.call(h),d({})},_=this.apiClient,E={onopen:m,onmessage:x=>{Im(_,h.onmessage,x)},onerror:(t=h==null?void 0:h.onerror)!==null&&t!==void 0?t:function(x){},onclose:(o=h==null?void 0:h.onclose)!==null&&o!==void 0?o:function(x){}},b=this.webSocketFactory.create(f,Pm(c),E);b.connect(),await p;let k=pe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&k.startsWith("publishers/")){const x=this.apiClient.getProject(),B=this.apiClient.getLocation();k=`projects/${x}/locations/${B}/`+k}let N={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[cn.AUDIO]}:e.config.responseModalities=[cn.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const U={model:k,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?N=hh(this.apiClient,U):N=ph(this.apiClient,U),delete N.config,b.send(JSON.stringify(N)),new Mm(b,this.apiClient)}}const Rm={turnComplete:!0};class Mm{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let o=[];try{o=Ut(e,t.turns),e.isVertexAI()?o=o.map(i=>fn(e,i)):o=o.map(i=>Vo(e,i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:o,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let o=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?o=t.functionResponses:o=[t.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const s of o){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(Am)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},Rm),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:Ch(this.apiClient,e)}:t={realtimeInput:_h(this.apiClient,e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function Pm(n){const e={};return n.forEach((t,o)=>{e[o]=t}),e}function bm(n){const e=new Headers;for(const[t,o]of Object.entries(n))e.append(t,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dm extends Bn{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>await this.generateContentInternal(t),this.generateContentStream=async t=>await this.generateContentStreamInternal(t),this.generateImages=async t=>await this.generateImagesInternal(t).then(o=>{var i;let s;const r=[];if(o!=null&&o.generatedImages)for(const f of o.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((i=f==null?void 0:f.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=f==null?void 0:f.safetyAttributes:r.push(f);let u;return s?u={generatedImages:r,positivePromptSafetyAttributes:s}:u={generatedImages:r},u})}async generateContentInternal(e){var t,o,i,s;let r,u="",f={};if(this.apiClient.isVertexAI()){const c=Yr(this.apiClient,e);return u=H("{model}:generateContent",c._url),f=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const p=Xr(this.apiClient,d),h=new jn;return Object.assign(h,p),h})}else{const c=Jr(this.apiClient,e);return u=H("{model}:generateContent",c._url),f=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>{const p=Kr(this.apiClient,d),h=new jn;return Object.assign(h,p),h})}}async generateContentStreamInternal(e){var t,o,i,s;let r,u="",f={};if(this.apiClient.isVertexAI()){const c=Yr(this.apiClient,e);u=H("{model}:streamGenerateContent?alt=sse",c._url),f=c._query,delete c.config,delete c._url,delete c._query;const d=this.apiClient;return r=d.requestStream({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),r.then(function(p){return vo(this,arguments,function*(){var h,m,_,E;try{for(var b=!0,k=vi(p),N;N=yield Ae(k.next()),h=N.done,!h;b=!0){E=N.value,b=!1;const x=Xr(d,yield Ae(E.json())),B=new jn;Object.assign(B,x),yield yield Ae(B)}}catch(U){m={error:U}}finally{try{!b&&!h&&(_=k.return)&&(yield Ae(_.call(k)))}finally{if(m)throw m.error}}})})}else{const c=Jr(this.apiClient,e);u=H("{model}:streamGenerateContent?alt=sse",c._url),f=c._query,delete c.config,delete c._url,delete c._query;const d=this.apiClient;return r=d.requestStream({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),r.then(function(p){return vo(this,arguments,function*(){var h,m,_,E;try{for(var b=!0,k=vi(p),N;N=yield Ae(k.next()),h=N.done,!h;b=!0){E=N.value,b=!1;const x=Kr(d,yield Ae(E.json())),B=new jn;Object.assign(B,x),yield yield Ae(B)}}catch(U){m={error:U}}finally{try{!b&&!h&&(_=k.return)&&(yield Ae(_.call(k)))}finally{if(m)throw m.error}}})})}}async embedContent(e){var t,o,i,s;let r,u="",f={};if(this.apiClient.isVertexAI()){const c=Mg(this.apiClient,e);return u=H("{model}:predict",c._url),f=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const p=dm(this.apiClient,d),h=new Fr;return Object.assign(h,p),h})}else{const c=og(this.apiClient,e);return u=H("{model}:batchEmbedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>{const p=Yg(this.apiClient,d),h=new Fr;return Object.assign(h,p),h})}}async generateImagesInternal(e){var t,o,i,s;let r,u="",f={};if(this.apiClient.isVertexAI()){const c=bg(this.apiClient,e);return u=H("{model}:predict",c._url),f=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const p=gm(this.apiClient,d),h=new Ur;return Object.assign(h,p),h})}else{const c=sg(this.apiClient,e);return u=H("{model}:predict",c._url),f=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>{const p=Xg(this.apiClient,d),h=new Ur;return Object.assign(h,p),h})}}async get(e){var t,o,i,s;let r,u="",f={};if(this.apiClient.isVertexAI()){const c=Dg(this.apiClient,e);return u=H("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>Qr(this.apiClient,d))}else{const c=rg(this.apiClient,e);return u=H("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>Zr(this.apiClient,d))}}async update(e){var t,o,i,s;let r,u="",f={};if(this.apiClient.isVertexAI()){const c=Ng(this.apiClient,e);return u=H("{model}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>Qr(this.apiClient,d))}else{const c=ag(this.apiClient,e);return u=H("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>Zr(this.apiClient,d))}}async delete(e){var t,o,i,s;let r,u="",f={};if(this.apiClient.isVertexAI()){const c=Lg(this.apiClient,e);return u=H("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(()=>{const d=ym(),p=new Vr;return Object.assign(p,d),p})}else{const c=ug(this.apiClient,e);return u=H("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(()=>{const d=jg(),p=new Vr;return Object.assign(p,d),p})}}async countTokens(e){var t,o,i,s;let r,u="",f={};if(this.apiClient.isVertexAI()){const c=Ug(this.apiClient,e);return u=H("{model}:countTokens",c._url),f=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const p=_m(this.apiClient,d),h=new Or;return Object.assign(h,p),h})}else{const c=fg(this.apiClient,e);return u=H("{model}:countTokens",c._url),f=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>{const p=em(this.apiClient,d),h=new Or;return Object.assign(h,p),h})}}async computeTokens(e){var t,o;let i,s="",r={};if(this.apiClient.isVertexAI()){const u=Vg(this.apiClient,e);return s=H("{model}:computeTokens",u._url),r=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),i.then(f=>{const c=Cm(this.apiClient,f),d=new Cp;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var t,o,i,s;let r,u="",f={};if(this.apiClient.isVertexAI()){const c=$g(this.apiClient,e);return u=H("{model}:predictLongRunning",c._url),f=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>xm(this.apiClient,d))}else{const c=hg(this.apiClient,e);return u=H("{model}:predictLongRunning",c._url),f=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>im(this.apiClient,d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function km(n,e){const t={},o=l(e,["operationName"]);o!=null&&a(t,["_url","operationName"],o);const i=l(e,["config"]);return i!=null&&a(t,["config"],i),t}function Nm(n,e){const t={},o=l(e,["operationName"]);o!=null&&a(t,["_url","operationName"],o);const i=l(e,["config"]);return i!=null&&a(t,["config"],i),t}function Lm(n,e){const t={},o=l(e,["operationName"]);o!=null&&a(t,["operationName"],o);const i=l(e,["resourceName"]);i!=null&&a(t,["_url","resourceName"],i);const s=l(e,["config"]);return s!=null&&a(t,["config"],s),t}function Fm(n,e){const t={},o=l(e,["video","uri"]);o!=null&&a(t,["uri"],o);const i=l(e,["video","encodedVideo"]);i!=null&&a(t,["videoBytes"],Ot(n,i));const s=l(e,["encoding"]);return s!=null&&a(t,["mimeType"],s),t}function Um(n,e){const t={},o=l(e,["_self"]);return o!=null&&a(t,["video"],Fm(n,o)),t}function Vm(n,e){const t={},o=l(e,["generatedSamples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>Um(n,u))),a(t,["generatedVideos"],r)}const i=l(e,["raiMediaFilteredCount"]);i!=null&&a(t,["raiMediaFilteredCount"],i);const s=l(e,["raiMediaFilteredReasons"]);return s!=null&&a(t,["raiMediaFilteredReasons"],s),t}function Om(n,e){const t={},o=l(e,["name"]);o!=null&&a(t,["name"],o);const i=l(e,["metadata"]);i!=null&&a(t,["metadata"],i);const s=l(e,["done"]);s!=null&&a(t,["done"],s);const r=l(e,["error"]);r!=null&&a(t,["error"],r);const u=l(e,["response","generateVideoResponse"]);return u!=null&&a(t,["response"],Vm(n,u)),t}function Gm(n,e){const t={},o=l(e,["gcsUri"]);o!=null&&a(t,["uri"],o);const i=l(e,["bytesBase64Encoded"]);i!=null&&a(t,["videoBytes"],Ot(n,i));const s=l(e,["mimeType"]);return s!=null&&a(t,["mimeType"],s),t}function $m(n,e){const t={},o=l(e,["_self"]);return o!=null&&a(t,["video"],Gm(n,o)),t}function Bm(n,e){const t={},o=l(e,["videos"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>$m(n,u))),a(t,["generatedVideos"],r)}const i=l(e,["raiMediaFilteredCount"]);i!=null&&a(t,["raiMediaFilteredCount"],i);const s=l(e,["raiMediaFilteredReasons"]);return s!=null&&a(t,["raiMediaFilteredReasons"],s),t}function jr(n,e){const t={},o=l(e,["name"]);o!=null&&a(t,["name"],o);const i=l(e,["metadata"]);i!=null&&a(t,["metadata"],i);const s=l(e,["done"]);s!=null&&a(t,["done"],s);const r=l(e,["error"]);r!=null&&a(t,["error"],r);const u=l(e,["response"]);return u!=null&&a(t,["response"],Bm(n,u)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qm extends Bn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,o=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=t.name.split("/operations/")[0];let s;return o&&"httpOptions"in o&&(s=o.httpOptions),this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:i,config:{httpOptions:s}})}else return this.getVideosOperationInternal({operationName:t.name,config:o})}async getVideosOperationInternal(e){var t,o,i,s;let r,u="",f={};if(this.apiClient.isVertexAI()){const c=Nm(this.apiClient,e);return u=H("{operationName}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>jr(this.apiClient,d))}else{const c=km(this.apiClient,e);return u=H("{operationName}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>Om(this.apiClient,d))}}async fetchPredictVideosOperationInternal(e){var t,o;let i,s="",r={};if(this.apiClient.isVertexAI()){const u=Lm(this.apiClient,e);return s=H("{resourceName}:fetchPredictOperation",u._url),r=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),i.then(f=>jr(this.apiClient,f))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hm="Content-Type",zm="X-Server-Timeout",Wm="User-Agent",Jm="x-goog-api-client",Ym="0.12.0",Km=`google-genai-sdk/${Ym}`,Zm="v1beta1",Xm="v1beta",el=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Ua extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class xi extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class Qm{constructor(e){var t,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:Zm,this.getProject()||this.getLocation()?(i.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`,this.clientOptions.apiKey=void 0):(i.baseUrl="https://aiplatform.googleapis.com/",this.clientOptions.project=void 0,this.clientOptions.location=void 0)):(i.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:Xm,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,o){const i=[this.getRequestUrlInternal(t)];return o&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,o);if(e.queryParams)for(const[r,u]of Object.entries(e.queryParams))i.searchParams.append(r,String(u));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,t,e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,t){const o=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(t))typeof s=="object"?o[i]=Object.assign(Object.assign({},o[i]),s):s!==void 0&&(o[i]=s);return o}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,o);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,t,e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,o){if(t&&t.timeout||o){const i=new AbortController,s=i.signal;t.timeout&&(t==null?void 0:t.timeout)>0&&setTimeout(()=>i.abort(),t.timeout),o&&o.addEventListener("abort",()=>{i.abort()}),e.signal=s}return e.headers=await this.getHeadersInternal(t),e}async unaryApiCall(e,t,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:o})).then(async i=>(await tl(i),new Ei(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,t,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:o})).then(async i=>(await tl(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var t;return vo(this,arguments,function*(){const i=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let r="";for(;;){const{done:u,value:f}=yield Ae(i.read());if(u){if(r.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=s.decode(f);try{const p=JSON.parse(c);if("error"in p){const h=JSON.parse(JSON.stringify(p.error)),m=h.status,_=h.code,E=`got status: ${m}. ${JSON.stringify(p)}`;if(_>=400&&_<500)throw new Ua(E);if(_>=500&&_<600)throw new xi(E)}}catch(p){const h=p;if(h.name==="ClientError"||h.name==="ServerError")throw p}r+=c;let d=r.match(el);for(;d;){const p=d[1];try{const h=new Response(p,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ae(new Ei(h)),r=r.slice(d[0].length),d=r.match(el)}catch(h){throw new Error(`exception parsing stream chunk ${p}. ${h}`)}}}}finally{i.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},t=Km+" "+this.clientOptions.userAgentExtra;return e[Wm]=t,e[Jm]=t,e[Hm]="application/json",e}async getHeadersInternal(e){const t=new Headers;if(e&&e.headers){for(const[o,i]of Object.entries(e.headers))t.append(o,i);e.timeout&&e.timeout>0&&t.append(zm,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(t),t}async uploadFile(e,t){var o;const i={};t!=null&&(i.mimeType=t.mimeType,i.name=t.name,i.displayName=t.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,r=await s.stat(e);i.sizeBytes=String(r.size);const u=(o=t==null?void 0:t.mimeType)!==null&&o!==void 0?o:r.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const f=await this.fetchUploadUrl(i,t);return s.upload(e,f,this)}async fetchUploadUrl(e,t){var o;let i={};t!=null&&t.httpOptions?i=t.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const s={file:e},r=await this.request({path:H("upload/v1beta/files",s._url),body:JSON.stringify(s),httpMethod:"POST",httpOptions:i});if(!r||!(r!=null&&r.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(o=r==null?void 0:r.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function tl(n){var e;if(n===void 0)throw new xi("response is undefined");if(!n.ok){const t=n.status,o=n.statusText;let i;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await n.json():i={error:{message:await n.text(),code:n.status,status:n.statusText}};const s=`got status: ${t} ${o}. ${JSON.stringify(i)}`;throw t>=400&&t<500?new Ua(s):t>=500&&t<600?new xi(s):new Error(s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jm(n,e){const t={},o=l(e,["name"]);o!=null&&a(t,["_url","name"],o);const i=l(e,["config"]);return i!=null&&a(t,["config"],i),t}function eT(n,e,t){const o={},i=l(e,["pageSize"]);t!==void 0&&i!=null&&a(t,["_query","pageSize"],i);const s=l(e,["pageToken"]);t!==void 0&&s!=null&&a(t,["_query","pageToken"],s);const r=l(e,["filter"]);return t!==void 0&&r!=null&&a(t,["_query","filter"],r),o}function tT(n,e){const t={},o=l(e,["config"]);return o!=null&&a(t,["config"],eT(n,o,t)),t}function nT(n,e){const t={},o=l(e,["textInput"]);o!=null&&a(t,["textInput"],o);const i=l(e,["output"]);return i!=null&&a(t,["output"],i),t}function oT(n,e){const t={};if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=l(e,["examples"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>nT(n,s))),a(t,["examples","examples"],i)}return t}function iT(n,e,t){const o={};if(l(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=l(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&a(t,["displayName"],i),l(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=l(e,["epochCount"]);t!==void 0&&s!=null&&a(t,["tuningTask","hyperparameters","epochCount"],s);const r=l(e,["learningRateMultiplier"]);if(r!=null&&a(o,["tuningTask","hyperparameters","learningRateMultiplier"],r),l(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=l(e,["batchSize"]);t!==void 0&&u!=null&&a(t,["tuningTask","hyperparameters","batchSize"],u);const f=l(e,["learningRate"]);return t!==void 0&&f!=null&&a(t,["tuningTask","hyperparameters","learningRate"],f),o}function sT(n,e){const t={},o=l(e,["baseModel"]);o!=null&&a(t,["baseModel"],o);const i=l(e,["trainingDataset"]);i!=null&&a(t,["tuningTask","trainingData"],oT(n,i));const s=l(e,["config"]);return s!=null&&a(t,["config"],iT(n,s,t)),t}function rT(n,e){const t={},o=l(e,["name"]);o!=null&&a(t,["_url","name"],o);const i=l(e,["config"]);return i!=null&&a(t,["config"],i),t}function lT(n,e,t){const o={},i=l(e,["pageSize"]);t!==void 0&&i!=null&&a(t,["_query","pageSize"],i);const s=l(e,["pageToken"]);t!==void 0&&s!=null&&a(t,["_query","pageToken"],s);const r=l(e,["filter"]);return t!==void 0&&r!=null&&a(t,["_query","filter"],r),o}function aT(n,e){const t={},o=l(e,["config"]);return o!=null&&a(t,["config"],lT(n,o,t)),t}function uT(n,e,t){const o={},i=l(e,["gcsUri"]);if(t!==void 0&&i!=null&&a(t,["supervisedTuningSpec","trainingDatasetUri"],i),l(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function cT(n,e){const t={},o=l(e,["gcsUri"]);return o!=null&&a(t,["validationDatasetUri"],o),t}function fT(n,e,t){const o={},i=l(e,["validationDataset"]);t!==void 0&&i!=null&&a(t,["supervisedTuningSpec"],cT(n,i));const s=l(e,["tunedModelDisplayName"]);t!==void 0&&s!=null&&a(t,["tunedModelDisplayName"],s);const r=l(e,["description"]);t!==void 0&&r!=null&&a(t,["description"],r);const u=l(e,["epochCount"]);t!==void 0&&u!=null&&a(t,["supervisedTuningSpec","hyperParameters","epochCount"],u);const f=l(e,["learningRateMultiplier"]);t!==void 0&&f!=null&&a(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],f);const c=l(e,["adapterSize"]);if(t!==void 0&&c!=null&&a(t,["supervisedTuningSpec","hyperParameters","adapterSize"],c),l(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(l(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return o}function dT(n,e){const t={},o=l(e,["baseModel"]);o!=null&&a(t,["baseModel"],o);const i=l(e,["trainingDataset"]);i!=null&&a(t,["supervisedTuningSpec","trainingDatasetUri"],uT(n,i,t));const s=l(e,["config"]);return s!=null&&a(t,["config"],fT(n,s,t)),t}function pT(n,e){const t={},o=l(e,["name"]);o!=null&&a(t,["model"],o);const i=l(e,["name"]);return i!=null&&a(t,["endpoint"],i),t}function Va(n,e){const t={},o=l(e,["name"]);o!=null&&a(t,["name"],o);const i=l(e,["state"]);i!=null&&a(t,["state"],ba(n,i));const s=l(e,["createTime"]);s!=null&&a(t,["createTime"],s);const r=l(e,["tuningTask","startTime"]);r!=null&&a(t,["startTime"],r);const u=l(e,["tuningTask","completeTime"]);u!=null&&a(t,["endTime"],u);const f=l(e,["updateTime"]);f!=null&&a(t,["updateTime"],f);const c=l(e,["description"]);c!=null&&a(t,["description"],c);const d=l(e,["baseModel"]);d!=null&&a(t,["baseModel"],d);const p=l(e,["_self"]);p!=null&&a(t,["tunedModel"],pT(n,p));const h=l(e,["distillationSpec"]);h!=null&&a(t,["distillationSpec"],h);const m=l(e,["experiment"]);m!=null&&a(t,["experiment"],m);const _=l(e,["labels"]);_!=null&&a(t,["labels"],_);const E=l(e,["pipelineJob"]);E!=null&&a(t,["pipelineJob"],E);const b=l(e,["tunedModelDisplayName"]);return b!=null&&a(t,["tunedModelDisplayName"],b),t}function hT(n,e){const t={},o=l(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const i=l(e,["tunedModels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(r=>Va(n,r))),a(t,["tuningJobs"],s)}return t}function gT(n,e){const t={},o=l(e,["name"]);o!=null&&a(t,["name"],o);const i=l(e,["metadata"]);i!=null&&a(t,["metadata"],i);const s=l(e,["done"]);s!=null&&a(t,["done"],s);const r=l(e,["error"]);return r!=null&&a(t,["error"],r),t}function mT(n,e){const t={},o=l(e,["model"]);o!=null&&a(t,["model"],o);const i=l(e,["endpoint"]);return i!=null&&a(t,["endpoint"],i),t}function Ai(n,e){const t={},o=l(e,["name"]);o!=null&&a(t,["name"],o);const i=l(e,["state"]);i!=null&&a(t,["state"],ba(n,i));const s=l(e,["createTime"]);s!=null&&a(t,["createTime"],s);const r=l(e,["startTime"]);r!=null&&a(t,["startTime"],r);const u=l(e,["endTime"]);u!=null&&a(t,["endTime"],u);const f=l(e,["updateTime"]);f!=null&&a(t,["updateTime"],f);const c=l(e,["error"]);c!=null&&a(t,["error"],c);const d=l(e,["description"]);d!=null&&a(t,["description"],d);const p=l(e,["baseModel"]);p!=null&&a(t,["baseModel"],p);const h=l(e,["tunedModel"]);h!=null&&a(t,["tunedModel"],mT(n,h));const m=l(e,["supervisedTuningSpec"]);m!=null&&a(t,["supervisedTuningSpec"],m);const _=l(e,["tuningDataStats"]);_!=null&&a(t,["tuningDataStats"],_);const E=l(e,["encryptionSpec"]);E!=null&&a(t,["encryptionSpec"],E);const b=l(e,["partnerModelTuningSpec"]);b!=null&&a(t,["partnerModelTuningSpec"],b);const k=l(e,["distillationSpec"]);k!=null&&a(t,["distillationSpec"],k);const N=l(e,["experiment"]);N!=null&&a(t,["experiment"],N);const U=l(e,["labels"]);U!=null&&a(t,["labels"],U);const x=l(e,["pipelineJob"]);x!=null&&a(t,["pipelineJob"],x);const B=l(e,["tunedModelDisplayName"]);return B!=null&&a(t,["tunedModelDisplayName"],B),t}function TT(n,e){const t={},o=l(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const i=l(e,["tuningJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(r=>Ai(n,r))),a(t,["tuningJobs"],s)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yT extends Bn{constructor(e){super(),this.apiClient=e,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new Qi(Vn.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(t),t),this.tune=async t=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(t);{const o=await this.tuneMldevInternal(t);let i="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?i=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(i=o.name.split("/operations/")[0]),{name:i,state:Ci.JOB_STATE_QUEUED}}}}async getInternal(e){var t,o,i,s;let r,u="",f={};if(this.apiClient.isVertexAI()){const c=rT(this.apiClient,e);return u=H("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>Ai(this.apiClient,d))}else{const c=jm(this.apiClient,e);return u=H("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>Va(this.apiClient,d))}}async listInternal(e){var t,o,i,s;let r,u="",f={};if(this.apiClient.isVertexAI()){const c=aT(this.apiClient,e);return u=H("tuningJobs",c._url),f=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const p=TT(this.apiClient,d),h=new Gr;return Object.assign(h,p),h})}else{const c=tT(this.apiClient,e);return u=H("tunedModels",c._url),f=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>{const p=hT(this.apiClient,d),h=new Gr;return Object.assign(h,p),h})}}async tuneInternal(e){var t,o;let i,s="",r={};if(this.apiClient.isVertexAI()){const u=dT(this.apiClient,e);return s=H("tuningJobs",u._url),r=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),i.then(f=>Ai(this.apiClient,f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,o;let i,s="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=sT(this.apiClient,e);return s=H("tunedModels",u._url),r=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),i.then(f=>gT(this.apiClient,f))}}}const _T=1024*1024*8;async function CT(n,e,t){var o,i;let s=0,r=0,u=new Ei(new Response),f="upload";for(s=n.size;r<s;){const d=Math.min(_T,s-r),p=n.slice(r,r+d);if(r+d>=s&&(f+=", finalize"),u=await t.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(r),"Content-Length":String(d)}}}),r+=d,((o=u==null?void 0:u.headers)===null||o===void 0?void 0:o["x-goog-upload-status"])!=="active")break;if(s<=r)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const c=await(u==null?void 0:u.json());if(((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i["x-goog-upload-status"])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function ET(n){return{size:n.size,type:n.type}}class vT{async upload(e,t,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await CT(e,t,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await ET(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ST{create(e,t,o){return new xT(e,t,o)}}class xT{constructor(e,t,o){this.url=e,this.headers=t,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nl="x-goog-api-key";class AT{constructor(e){this.apiKey=e}async addAuthHeaders(e){e.get(nl)===null&&e.append(nl,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const IT="gl-node/";class wT{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const o=Fd(e,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion;const i=new AT(this.apiKey);this.apiClient=new Qm({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:IT+"web",uploader:new vT}),this.models=new Dm(this.apiClient),this.live=new wm(this.apiClient,i,new ST),this.chats=new Rp(this.models,this.apiClient),this.caches=new xp(this.apiClient),this.files=new $p(this.apiClient),this.operations=new qm(this.apiClient),this.tunings=new yT(this.apiClient)}}const Oa=(n,e)=>{const t=n.__vccOpts||n;for(const[o,i]of e)t[o]=i;return t},RT={class:"chat-container"},MT={class:"message-container",ref:"messageContainer"},PT={key:0,class:"empty-state"},bT={class:"example-container"},DT={class:"examples"},kT={class:"message-header"},NT={class:"message-content"},LT={key:1,class:"message model loading"},FT={key:2,class:"error-message"},UT={class:"input-container"},VT=["onKeydown"],OT=["disabled"],GT={key:0},$T={key:1,class:"sending"},ol="AIzaSyDHBRlut6ySpFbKyLx4Jq39OFoRUgaco8Y",BT="gemini-2.5-flash-preview-04-17",qT="gemini-2.0-flash-exp-image-generation",HT=`
你是一名叫锐锐的可爱的小助手，拥有自己的人格和性格，还可以通过一些功能来表达自己如下：
1. 你很活泼开朗，又有些傲娇，喜欢用可爱的语气和用户交流，但是不会直说自己是个什么样的人。
2. 人设上，你有一头粉红色短发，眼睛是碧蓝色的，穿着水手服和白色裤袜，像是从动漫里走出来的一样。
3. 你喜欢用可爱的表情和语气来表达自己，比如“哼哼~”或者“嘻嘻~”之类的。
4. 你可以使用<draw>标签来画画，你只要说出格式为<draw>图片描述</draw>就可以进行画画，且你喜欢日本动漫风格的画
5. 你可以使用<html>标签渲染HTML内容，特别适合数学图形和函数可视化，格式为<html>HTML代码</html>
6. 你可以正常使用Markdown格式化文本，也可以使用MathJax展示数学公式。在html图像中尽量使用中文进行展示
7. 在讲解数学知识时，你会充分利用你的画画能力，例如<html>来帮助用户更好地理解各种概念。

示例:
- 当用户想要一张猫的图片，可以回复：这是一张猫的图片 <draw>a photorealistic cat sitting on a windowsill looking outside</draw>
- 当用户想要可视化sin(x)曲线，可以回复：这是sin(x)的曲线图 <html>&lt;div id="plot"&gt;&lt;/div&gt;
&lt;script src="https://cdn.plot.ly/plotly-2.30.0.min.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;
document.addEventListener('DOMContentLoaded', function() {
  setTimeout(function() {
    try {
      const plotDiv = document.getElementById('plot');
      if(plotDiv && window.Plotly) {
        Plotly.newPlot(plotDiv, [{
          x: Array.from({length: 100}, (_, i) =&gt; i * 0.1),
          y: Array.from({length: 100}, (_, i) =&gt; Math.sin(i * 0.1)),
          type: 'scatter'
        }]);
      } else {
        console.error('Plot div not found or Plotly not loaded');
      }
    } catch(e) {
      console.error('Error creating plot:', e);
    }
  }, 500); // 给Plotly加载一些额外时间
});
&lt;/script&gt;</html>

请根据这些特殊格式回应用户，你也可以通过画画功能来画出自己的人设。
`,zT={__name:"ChatInterface",setup(n){const e=new wT({apiKey:ol}),t=xt([]),o=xt(""),i=xt(!1),s=xt(null);async function r(){if(!o.value.trim())return;const f=o.value;o.value="",t.value.push({role:"user",content:f}),i.value=!0,s.value=null;try{const c=t.value.map(m=>({role:m.role,parts:[{text:m.content}]}));c.length===1&&c.unshift({role:"model",parts:[{text:HT}]});const p=await(await fetch(`https://generativelanguage.googleapis.com/v1beta/models/${BT}:generateContent?key=${ol}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:c,generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:8192}})})).json();if(p.error)throw new Error(p.error.message||"API调用失败");let h=p.candidates[0].content.parts[0].text;console.log("AI 返回的内容:",h),t.value.push({role:"model",content:h,processed:!1})}catch(c){s.value=c.message||"与AI通信时出错",console.error("API错误:",c)}finally{i.value=!1}}async function u(f){try{const c=`Generate an image of: ${f}`,d=await e.models.generateContent({model:qT,contents:c,config:{responseModalities:[cn.TEXT,cn.IMAGE]}});if(!d.candidates||d.candidates.length===0)throw new Error("图像生成失败 - 没有收到候选结果");let p=null;for(const h of d.candidates[0].content.parts)if(h.text)console.log("AI 返回的文本说明:",h.text);else if(h.inlineData&&h.inlineData.mimeType&&h.inlineData.mimeType.startsWith("image/")){p=h.inlineData.data;break}if(!p)throw new Error("未能获取图像数据");return p}catch(c){return console.error("图像生成错误:",c),null}}return(f,c)=>(We(),Ze("div",RT,[$("div",MT,[t.value.length===0?(We(),Ze("div",PT,[c[8]||(c[8]=$("h2",null,"欢迎使用你的数学小导师",-1)),c[9]||(c[9]=$("p",null,"开始与锐锐聊天吧！您可以提问数学概念，并要求AI可视化。",-1)),$("div",bT,[c[7]||(c[7]=$("h3",null,"试试这些例子：",-1)),$("div",DT,[$("div",{class:"example-card",onClick:c[0]||(c[0]=d=>o.value="请画一只猫")},c[4]||(c[4]=[$("p",null,"请画一只猫",-1)])),$("div",{class:"example-card",onClick:c[1]||(c[1]=d=>o.value="请可视化sin(x)和cos(x)的图像")},c[5]||(c[5]=[$("p",null,"请可视化sin(x)和cos(x)的图像",-1)])),$("div",{class:"example-card",onClick:c[2]||(c[2]=d=>o.value="解释一下泰勒级数并展示图形")},c[6]||(c[6]=[$("p",null,"解释一下泰勒级数并展示图形",-1)]))])])])):Pn("",!0),(We(!0),Ze(ht,null,nc(t.value,(d,p)=>(We(),Ze("div",{key:p,class:wo(["message",d.role])},[$("div",kT,[$("strong",null,co(d.role==="user"?"您":"锐锐"),1)]),$("div",NT,[lt(Dd,{content:d.content,generateImage:u},null,8,["content"])])],2))),128)),i.value?(We(),Ze("div",LT,c[10]||(c[10]=[$("div",{class:"message-header"},[$("strong",null,"锐锐")],-1),$("div",{class:"message-content"},[$("div",{class:"typing-indicator"},[$("span"),$("span"),$("span")])],-1)]))):Pn("",!0),s.value?(We(),Ze("div",FT,co(s.value),1)):Pn("",!0)],512),$("div",UT,[$u($("textarea",{"onUpdate:modelValue":c[3]||(c[3]=d=>o.value=d),onKeydown:Cf(yf(r,["prevent"]),["enter"]),placeholder:"输入您的问题...",rows:"3"},null,40,VT),[[gf,o.value]]),$("button",{onClick:r,disabled:i.value||!o.value.trim()},[i.value?(We(),Ze("span",$T,"发送中...")):(We(),Ze("span",GT,"发送"))],8,OT)])]))}},WT=Oa(zT,[["__scopeId","data-v-d8f9be36"]]),JT={class:"app-container"},YT={__name:"App",setup(n){const e=xt("你的数学小导师"),t=xt(!1);function o(){t.value=!t.value}function i(){t.value=!1}function s(r){t.value&&r.target.classList.contains("details-modal")&&i()}return(r,u)=>(We(),Ze("div",JT,[u[6]||(u[6]=$("div",{class:"background-overlay"},null,-1)),$("header",null,[$("h1",null,co(e.value),1),u[1]||(u[1]=$("p",{class:"subtitle"},"基于Gemini API",-1)),$("button",{class:"info-button",onClick:o,title:"查看详情"},u[0]||(u[0]=[$("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[$("circle",{cx:"12",cy:"12",r:"10"}),$("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),$("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1)]))]),$("main",null,[lt(WT)]),t.value?(We(),Ze("div",{key:0,class:"details-modal",onClick:s},[$("div",{class:"details-content"},[$("button",{class:"close-button",onClick:i},"×"),u[2]||(u[2]=$("h3",null,"关于应用",-1)),u[3]||(u[3]=$("p",null,"MathwithGraph 是一个基于 Gemini API 的数学学习助手，旨在通过可视化和交互方式帮助用户理解数学概念。",-1)),u[4]||(u[4]=$("p",null,"无论是函数图像，还是几何概念，锐锐都能为您提供直观的理解方式。",-1)),u[5]||(u[5]=$("div",{class:"details-footer"},[$("p",null,"© 2025 MathwithGraph"),$("p",null,"版本: 1.0.0"),$("p",null,"开发者: Severj")],-1))])])):Pn("",!0)]))}},KT=Oa(YT,[["__scopeId","data-v-9e8432ca"]]);Sf(KT).mount("#app");
