(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function makeMap(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,isOn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),isModelListener=e=>e.startsWith("onUpdate:"),extend=Object.assign,remove=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn=(e,t)=>hasOwnProperty$1.call(e,t),isArray=Array.isArray,isMap=e=>toTypeString(e)==="[object Map]",isSet=e=>toTypeString(e)==="[object Set]",isFunction=e=>typeof e=="function",isString=e=>typeof e=="string",isSymbol=e=>typeof e=="symbol",isObject=e=>e!==null&&typeof e=="object",isPromise=e=>(isObject(e)||isFunction(e))&&isFunction(e.then)&&isFunction(e.catch),objectToString=Object.prototype.toString,toTypeString=e=>objectToString.call(e),toRawType=e=>toTypeString(e).slice(8,-1),isPlainObject=e=>toTypeString(e)==="[object Object]",isIntegerKey=e=>isString(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},camelizeRE=/-\w/g,camelize=cacheStringFunction(e=>e.replace(camelizeRE,t=>t.slice(1).toUpperCase())),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(e=>e.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(e=>e.charAt(0).toUpperCase()+e.slice(1)),toHandlerKey=cacheStringFunction(e=>e?`on${capitalize(e)}`:""),hasChanged=(e,t)=>!Object.is(e,t),invokeArrayFns=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},def=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},looseToNumber=e=>{const t=parseFloat(e);return isNaN(t)?e:t},toNumber=e=>{const t=isString(e)?Number(e):NaN;return isNaN(t)?e:t};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(e){if(isArray(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=isString(r)?parseStringStyle(r):normalizeStyle(r);if(i)for(const a in i)t[a]=i[a]}return t}else if(isString(e)||isObject(e))return e}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(e){const t={};return e.replace(styleCommentRE,"").split(listDelimiterRE).forEach(n=>{if(n){const r=n.split(propertyDelimiterRE);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function normalizeClass(e){let t="";if(isString(e))t=e;else if(isArray(e))for(let n=0;n<e.length;n++){const r=normalizeClass(e[n]);r&&(t+=r+" ")}else if(isObject(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(e){return!!e||e===""}const isRef$1=e=>!!(e&&e.__v_isRef===!0),toDisplayString=e=>isString(e)?e:e==null?"":isArray(e)||isObject(e)&&(e.toString===objectToString||!isFunction(e.toString))?isRef$1(e)?toDisplayString(e.value):JSON.stringify(e,replacer,2):String(e),replacer=(e,t)=>isRef$1(t)?replacer(e,t.value):isMap(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i],a)=>(n[stringifySymbol(r,a)+" =>"]=i,n),{})}:isSet(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>stringifySymbol(n))}:isSymbol(t)?stringifySymbol(t):isObject(t)&&!isArray(t)&&!isPlainObject(t)?String(t):t,stringifySymbol=(e,t="")=>{var n;return isSymbol(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let activeEffectScope;class EffectScope{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=activeEffectScope,!t&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=activeEffectScope;try{return activeEffectScope=this,t()}finally{activeEffectScope=n}}}on(){++this._on===1&&(this.prevScope=activeEffectScope,activeEffectScope=this)}off(){this._on>0&&--this._on===0&&(activeEffectScope=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function getCurrentScope(){return activeEffectScope}let activeSub;const pausedQueueEffects=new WeakSet;class ReactiveEffect{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,activeEffectScope&&activeEffectScope.active&&activeEffectScope.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,pausedQueueEffects.has(this)&&(pausedQueueEffects.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||batch(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,cleanupEffect(this),prepareDeps(this);const t=activeSub,n=shouldTrack;activeSub=this,shouldTrack=!0;try{return this.fn()}finally{cleanupDeps(this),activeSub=t,shouldTrack=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)removeSub(t);this.deps=this.depsTail=void 0,cleanupEffect(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?pausedQueueEffects.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){isDirty(this)&&this.run()}get dirty(){return isDirty(this)}}let batchDepth=0,batchedSub,batchedComputed;function batch(e,t=!1){if(e.flags|=8,t){e.next=batchedComputed,batchedComputed=e;return}e.next=batchedSub,batchedSub=e}function startBatch(){batchDepth++}function endBatch(){if(--batchDepth>0)return;if(batchedComputed){let t=batchedComputed;for(batchedComputed=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;batchedSub;){let t=batchedSub;for(batchedSub=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function prepareDeps(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function cleanupDeps(e){let t,n=e.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),removeSub(r),removeDep(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}e.deps=t,e.depsTail=n}function isDirty(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(refreshComputed(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function refreshComputed(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===globalVersion)||(e.globalVersion=globalVersion,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!isDirty(e))))return;e.flags|=2;const t=e.dep,n=activeSub,r=shouldTrack;activeSub=e,shouldTrack=!0;try{prepareDeps(e);const i=e.fn(e._value);(t.version===0||hasChanged(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{activeSub=n,shouldTrack=r,cleanupDeps(e),e.flags&=-3}}function removeSub(e,t=!1){const{dep:n,prevSub:r,nextSub:i}=e;if(r&&(r.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let a=n.computed.deps;a;a=a.nextDep)removeSub(a,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function removeDep(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const e=trackStack.pop();shouldTrack=e===void 0?!0:e}function cleanupEffect(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=activeSub;activeSub=void 0;try{t()}finally{activeSub=n}}}let globalVersion=0;class Link{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Dep{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!activeSub||!shouldTrack||activeSub===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==activeSub)n=this.activeLink=new Link(activeSub,this),activeSub.deps?(n.prevDep=activeSub.depsTail,activeSub.depsTail.nextDep=n,activeSub.depsTail=n):activeSub.deps=activeSub.depsTail=n,addSub(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=activeSub.depsTail,n.nextDep=void 0,activeSub.depsTail.nextDep=n,activeSub.depsTail=n,activeSub.deps===n&&(activeSub.deps=r)}return n}trigger(t){this.version++,globalVersion++,this.notify(t)}notify(t){startBatch();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{endBatch()}}}function addSub(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)addSub(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const targetMap=new WeakMap,ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol(""),ARRAY_ITERATE_KEY=Symbol("");function track(e,t,n){if(shouldTrack&&activeSub){let r=targetMap.get(e);r||targetMap.set(e,r=new Map);let i=r.get(n);i||(r.set(n,i=new Dep),i.map=r,i.key=n),i.track()}}function trigger(e,t,n,r,i,a){const o=targetMap.get(e);if(!o){globalVersion++;return}const s=l=>{l&&l.trigger()};if(startBatch(),t==="clear")o.forEach(s);else{const l=isArray(e),c=l&&isIntegerKey(n);if(l&&n==="length"){const u=Number(r);o.forEach((m,f)=>{(f==="length"||f===ARRAY_ITERATE_KEY||!isSymbol(f)&&f>=u)&&s(m)})}else switch((n!==void 0||o.has(void 0))&&s(o.get(n)),c&&s(o.get(ARRAY_ITERATE_KEY)),t){case"add":l?c&&s(o.get("length")):(s(o.get(ITERATE_KEY)),isMap(e)&&s(o.get(MAP_KEY_ITERATE_KEY)));break;case"delete":l||(s(o.get(ITERATE_KEY)),isMap(e)&&s(o.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(e)&&s(o.get(ITERATE_KEY));break}}endBatch()}function reactiveReadArray(e){const t=toRaw(e);return t===e?t:(track(t,"iterate",ARRAY_ITERATE_KEY),isShallow(e)?t:t.map(toReactive))}function shallowReadArray(e){return track(e=toRaw(e),"iterate",ARRAY_ITERATE_KEY),e}const arrayInstrumentations={__proto__:null,[Symbol.iterator](){return iterator(this,Symbol.iterator,toReactive)},concat(...e){return reactiveReadArray(this).concat(...e.map(t=>isArray(t)?reactiveReadArray(t):t))},entries(){return iterator(this,"entries",e=>(e[1]=toReactive(e[1]),e))},every(e,t){return apply(this,"every",e,t,void 0,arguments)},filter(e,t){return apply(this,"filter",e,t,n=>n.map(toReactive),arguments)},find(e,t){return apply(this,"find",e,t,toReactive,arguments)},findIndex(e,t){return apply(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return apply(this,"findLast",e,t,toReactive,arguments)},findLastIndex(e,t){return apply(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return apply(this,"forEach",e,t,void 0,arguments)},includes(...e){return searchProxy(this,"includes",e)},indexOf(...e){return searchProxy(this,"indexOf",e)},join(e){return reactiveReadArray(this).join(e)},lastIndexOf(...e){return searchProxy(this,"lastIndexOf",e)},map(e,t){return apply(this,"map",e,t,void 0,arguments)},pop(){return noTracking(this,"pop")},push(...e){return noTracking(this,"push",e)},reduce(e,...t){return reduce(this,"reduce",e,t)},reduceRight(e,...t){return reduce(this,"reduceRight",e,t)},shift(){return noTracking(this,"shift")},some(e,t){return apply(this,"some",e,t,void 0,arguments)},splice(...e){return noTracking(this,"splice",e)},toReversed(){return reactiveReadArray(this).toReversed()},toSorted(e){return reactiveReadArray(this).toSorted(e)},toSpliced(...e){return reactiveReadArray(this).toSpliced(...e)},unshift(...e){return noTracking(this,"unshift",e)},values(){return iterator(this,"values",toReactive)}};function iterator(e,t,n){const r=shallowReadArray(e),i=r[t]();return r!==e&&!isShallow(e)&&(i._next=i.next,i.next=()=>{const a=i._next();return a.done||(a.value=n(a.value)),a}),i}const arrayProto=Array.prototype;function apply(e,t,n,r,i,a){const o=shallowReadArray(e),s=o!==e&&!isShallow(e),l=o[t];if(l!==arrayProto[t]){const m=l.apply(e,a);return s?toReactive(m):m}let c=n;o!==e&&(s?c=function(m,f){return n.call(this,toReactive(m),f,e)}:n.length>2&&(c=function(m,f){return n.call(this,m,f,e)}));const u=l.call(o,c,r);return s&&i?i(u):u}function reduce(e,t,n,r){const i=shallowReadArray(e);let a=n;return i!==e&&(isShallow(e)?n.length>3&&(a=function(o,s,l){return n.call(this,o,s,l,e)}):a=function(o,s,l){return n.call(this,o,toReactive(s),l,e)}),i[t](a,...r)}function searchProxy(e,t,n){const r=toRaw(e);track(r,"iterate",ARRAY_ITERATE_KEY);const i=r[t](...n);return(i===-1||i===!1)&&isProxy(n[0])?(n[0]=toRaw(n[0]),r[t](...n)):i}function noTracking(e,t,n=[]){pauseTracking(),startBatch();const r=toRaw(e)[t].apply(e,n);return endBatch(),resetTracking(),r}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(isSymbol));function hasOwnProperty(e){isSymbol(e)||(e=String(e));const t=toRaw(this);return track(t,"has",e),t.hasOwnProperty(e)}class BaseReactiveHandler{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const i=this._isReadonly,a=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return a;if(n==="__v_raw")return r===(i?a?shallowReadonlyMap:readonlyMap:a?shallowReactiveMap:reactiveMap).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=isArray(t);if(!i){let l;if(o&&(l=arrayInstrumentations[n]))return l;if(n==="hasOwnProperty")return hasOwnProperty}const s=Reflect.get(t,n,isRef(t)?t:r);if((isSymbol(n)?builtInSymbols.has(n):isNonTrackableKeys(n))||(i||track(t,"get",n),a))return s;if(isRef(s)){const l=o&&isIntegerKey(n)?s:s.value;return i&&isObject(l)?readonly(l):l}return isObject(s)?i?readonly(s):reactive(s):s}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(t=!1){super(!1,t)}set(t,n,r,i){let a=t[n];if(!this._isShallow){const l=isReadonly(a);if(!isShallow(r)&&!isReadonly(r)&&(a=toRaw(a),r=toRaw(r)),!isArray(t)&&isRef(a)&&!isRef(r))return l||(a.value=r),!0}const o=isArray(t)&&isIntegerKey(n)?Number(n)<t.length:hasOwn(t,n),s=Reflect.set(t,n,r,isRef(t)?t:i);return t===toRaw(i)&&(o?hasChanged(r,a)&&trigger(t,"set",n,r):trigger(t,"add",n,r)),s}deleteProperty(t,n){const r=hasOwn(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&r&&trigger(t,"delete",n,void 0),i}has(t,n){const r=Reflect.has(t,n);return(!isSymbol(n)||!builtInSymbols.has(n))&&track(t,"has",n),r}ownKeys(t){return track(t,"iterate",isArray(t)?"length":ITERATE_KEY),Reflect.ownKeys(t)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),shallowReadonlyHandlers=new ReadonlyReactiveHandler(!0),toShallow=e=>e,getProto=e=>Reflect.getPrototypeOf(e);function createIterableMethod(e,t,n){return function(...r){const i=this.__v_raw,a=toRaw(i),o=isMap(a),s=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=i[e](...r),u=n?toShallow:t?toReadonly:toReactive;return!t&&track(a,"iterate",l?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:m,done:f}=c.next();return f?{value:m,done:f}:{value:s?[u(m[0]),u(m[1])]:u(m),done:f}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function createInstrumentations(e,t){const n={get(i){const a=this.__v_raw,o=toRaw(a),s=toRaw(i);e||(hasChanged(i,s)&&track(o,"get",i),track(o,"get",s));const{has:l}=getProto(o),c=t?toShallow:e?toReadonly:toReactive;if(l.call(o,i))return c(a.get(i));if(l.call(o,s))return c(a.get(s));a!==o&&a.get(i)},get size(){const i=this.__v_raw;return!e&&track(toRaw(i),"iterate",ITERATE_KEY),i.size},has(i){const a=this.__v_raw,o=toRaw(a),s=toRaw(i);return e||(hasChanged(i,s)&&track(o,"has",i),track(o,"has",s)),i===s?a.has(i):a.has(i)||a.has(s)},forEach(i,a){const o=this,s=o.__v_raw,l=toRaw(s),c=t?toShallow:e?toReadonly:toReactive;return!e&&track(l,"iterate",ITERATE_KEY),s.forEach((u,m)=>i.call(a,c(u),c(m),o))}};return extend(n,e?{add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear")}:{add(i){!t&&!isShallow(i)&&!isReadonly(i)&&(i=toRaw(i));const a=toRaw(this);return getProto(a).has.call(a,i)||(a.add(i),trigger(a,"add",i,i)),this},set(i,a){!t&&!isShallow(a)&&!isReadonly(a)&&(a=toRaw(a));const o=toRaw(this),{has:s,get:l}=getProto(o);let c=s.call(o,i);c||(i=toRaw(i),c=s.call(o,i));const u=l.call(o,i);return o.set(i,a),c?hasChanged(a,u)&&trigger(o,"set",i,a):trigger(o,"add",i,a),this},delete(i){const a=toRaw(this),{has:o,get:s}=getProto(a);let l=o.call(a,i);l||(i=toRaw(i),l=o.call(a,i)),s&&s.call(a,i);const c=a.delete(i);return l&&trigger(a,"delete",i,void 0),c},clear(){const i=toRaw(this),a=i.size!==0,o=i.clear();return a&&trigger(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=createIterableMethod(i,e,t)}),n}function createInstrumentationGetter(e,t){const n=createInstrumentations(e,t);return(r,i,a)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(hasOwn(n,i)&&i in r?n:r,i,a)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(e){return e.__v_skip||!Object.isExtensible(e)?0:targetTypeMap(toRawType(e))}function reactive(e){return isReadonly(e)?e:createReactiveObject(e,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(e){return createReactiveObject(e,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(e){return createReactiveObject(e,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function shallowReadonly(e){return createReactiveObject(e,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)}function createReactiveObject(e,t,n,r,i){if(!isObject(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=getTargetType(e);if(a===0)return e;const o=i.get(e);if(o)return o;const s=new Proxy(e,a===2?r:n);return i.set(e,s),s}function isReactive(e){return isReadonly(e)?isReactive(e.__v_raw):!!(e&&e.__v_isReactive)}function isReadonly(e){return!!(e&&e.__v_isReadonly)}function isShallow(e){return!!(e&&e.__v_isShallow)}function isProxy(e){return e?!!e.__v_raw:!1}function toRaw(e){const t=e&&e.__v_raw;return t?toRaw(t):e}function markRaw(e){return!hasOwn(e,"__v_skip")&&Object.isExtensible(e)&&def(e,"__v_skip",!0),e}const toReactive=e=>isObject(e)?reactive(e):e,toReadonly=e=>isObject(e)?readonly(e):e;function isRef(e){return e?e.__v_isRef===!0:!1}function ref(e){return createRef(e,!1)}function createRef(e,t){return isRef(e)?e:new RefImpl(e,t)}class RefImpl{constructor(t,n){this.dep=new Dep,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:toRaw(t),this._value=n?t:toReactive(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||isShallow(t)||isReadonly(t);t=r?t:toRaw(t),hasChanged(t,n)&&(this._rawValue=t,this._value=r?t:toReactive(t),this.dep.trigger())}}function unref(e){return isRef(e)?e.value:e}const shallowUnwrapHandlers={get:(e,t,n)=>t==="__v_raw"?e:unref(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return isRef(i)&&!isRef(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function proxyRefs(e){return isReactive(e)?e:new Proxy(e,shallowUnwrapHandlers)}class ComputedRefImpl{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Dep(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=globalVersion-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&activeSub!==this)return batch(this,!0),!0}get value(){const t=this.dep.track();return refreshComputed(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function computed$1(e,t,n=!1){let r,i;return isFunction(e)?r=e:(r=e.get,i=e.set),new ComputedRefImpl(r,i,n)}const INITIAL_WATCHER_VALUE={},cleanupMap=new WeakMap;let activeWatcher;function onWatcherCleanup(e,t=!1,n=activeWatcher){if(n){let r=cleanupMap.get(n);r||cleanupMap.set(n,r=[]),r.push(e)}}function watch$1(e,t,n=EMPTY_OBJ){const{immediate:r,deep:i,once:a,scheduler:o,augmentJob:s,call:l}=n,c=C=>i?C:isShallow(C)||i===!1||i===0?traverse(C,1):traverse(C);let u,m,f,d,b=!1,_=!1;if(isRef(e)?(m=()=>e.value,b=isShallow(e)):isReactive(e)?(m=()=>c(e),b=!0):isArray(e)?(_=!0,b=e.some(C=>isReactive(C)||isShallow(C)),m=()=>e.map(C=>{if(isRef(C))return C.value;if(isReactive(C))return c(C);if(isFunction(C))return l?l(C,2):C()})):isFunction(e)?t?m=l?()=>l(e,2):e:m=()=>{if(f){pauseTracking();try{f()}finally{resetTracking()}}const C=activeWatcher;activeWatcher=u;try{return l?l(e,3,[d]):e(d)}finally{activeWatcher=C}}:m=NOOP,t&&i){const C=m,D=i===!0?1/0:i;m=()=>traverse(C(),D)}const v=getCurrentScope(),T=()=>{u.stop(),v&&v.active&&remove(v.effects,u)};if(a&&t){const C=t;t=(...D)=>{C(...D),T()}}let S=_?new Array(e.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const I=C=>{if(!(!(u.flags&1)||!u.dirty&&!C))if(t){const D=u.run();if(i||b||(_?D.some((F,w)=>hasChanged(F,S[w])):hasChanged(D,S))){f&&f();const F=activeWatcher;activeWatcher=u;try{const w=[D,S===INITIAL_WATCHER_VALUE?void 0:_&&S[0]===INITIAL_WATCHER_VALUE?[]:S,d];S=D,l?l(t,3,w):t(...w)}finally{activeWatcher=F}}}else u.run()};return s&&s(I),u=new ReactiveEffect(m),u.scheduler=o?()=>o(I,!1):I,d=C=>onWatcherCleanup(C,!1,u),f=u.onStop=()=>{const C=cleanupMap.get(u);if(C){if(l)l(C,4);else for(const D of C)D();cleanupMap.delete(u)}},t?r?I(!0):S=u.run():o?o(I.bind(null,!0),!0):u.run(),T.pause=u.pause.bind(u),T.resume=u.resume.bind(u),T.stop=T,T}function traverse(e,t=1/0,n){if(t<=0||!isObject(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,isRef(e))traverse(e.value,t,n);else if(isArray(e))for(let r=0;r<e.length;r++)traverse(e[r],t,n);else if(isSet(e)||isMap(e))e.forEach(r=>{traverse(r,t,n)});else if(isPlainObject(e)){for(const r in e)traverse(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&traverse(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const stack=[];let isWarning=!1;function warn$1(e,...t){if(isWarning)return;isWarning=!0,pauseTracking();const n=stack.length?stack[stack.length-1].component:null,r=n&&n.appContext.config.warnHandler,i=getComponentTrace();if(r)callWithErrorHandling(r,n,11,[e+t.map(a=>{var o,s;return(s=(o=a.toString)==null?void 0:o.call(a))!=null?s:JSON.stringify(a)}).join(""),n&&n.proxy,i.map(({vnode:a})=>`at <${formatComponentName(n,a.type)}>`).join(`
`),i]);else{const a=[`[Vue warn]: ${e}`,...t];i.length&&a.push(`
`,...formatTrace(i)),console.warn(...a)}resetTracking(),isWarning=!1}function getComponentTrace(){let e=stack[stack.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const r=e.component&&e.component.parent;e=r&&r.vnode}return t}function formatTrace(e){const t=[];return e.forEach((n,r)=>{t.push(...r===0?[]:[`
`],...formatTraceEntry(n))}),t}function formatTraceEntry({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",r=e.component?e.component.parent==null:!1,i=` at <${formatComponentName(e.component,e.type,r)}`,a=">"+n;return e.props?[i,...formatProps(e.props),a]:[i+a]}function formatProps(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(r=>{t.push(...formatProp(r,e[r]))}),n.length>3&&t.push(" ..."),t}function formatProp(e,t,n){return isString(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${e}=${t}`]:isRef(t)?(t=formatProp(e,toRaw(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):isFunction(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=toRaw(t),n?t:[`${e}=`,t])}function callWithErrorHandling(e,t,n,r){try{return r?e(...r):e()}catch(i){handleError(i,t,n)}}function callWithAsyncErrorHandling(e,t,n,r){if(isFunction(e)){const i=callWithErrorHandling(e,t,n,r);return i&&isPromise(i)&&i.catch(a=>{handleError(a,t,n)}),i}if(isArray(e)){const i=[];for(let a=0;a<e.length;a++)i.push(callWithAsyncErrorHandling(e[a],t,n,r));return i}}function handleError(e,t,n,r=!0){const i=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||EMPTY_OBJ;if(t){let s=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const u=s.ec;if(u){for(let m=0;m<u.length;m++)if(u[m](e,l,c)===!1)return}s=s.parent}if(a){pauseTracking(),callWithErrorHandling(a,null,10,[e,l,c]),resetTracking();return}}logError(e,n,i,r,o)}function logError(e,t,n,r=!0,i=!1){if(i)throw e;console.error(e)}const queue=[];let flushIndex=-1;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(e){const t=currentFlushPromise||resolvedPromise;return e?t.then(this?e.bind(this):e):t}function findInsertionIndex(e){let t=flushIndex+1,n=queue.length;for(;t<n;){const r=t+n>>>1,i=queue[r],a=getId(i);a<e||a===e&&i.flags&2?t=r+1:n=r}return t}function queueJob(e){if(!(e.flags&1)){const t=getId(e),n=queue[queue.length-1];!n||!(e.flags&2)&&t>=getId(n)?queue.push(e):queue.splice(findInsertionIndex(t),0,e),e.flags|=1,queueFlush()}}function queueFlush(){currentFlushPromise||(currentFlushPromise=resolvedPromise.then(flushJobs))}function queuePostFlushCb(e){isArray(e)?pendingPostFlushCbs.push(...e):activePostFlushCbs&&e.id===-1?activePostFlushCbs.splice(postFlushIndex+1,0,e):e.flags&1||(pendingPostFlushCbs.push(e),e.flags|=1),queueFlush()}function flushPreFlushCbs(e,t,n=flushIndex+1){for(;n<queue.length;n++){const r=queue[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;queue.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function flushPostFlushCbs(e){if(pendingPostFlushCbs.length){const t=[...new Set(pendingPostFlushCbs)].sort((n,r)=>getId(n)-getId(r));if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...t);return}for(activePostFlushCbs=t,postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++){const n=activePostFlushCbs[postFlushIndex];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}activePostFlushCbs=null,postFlushIndex=0}}const getId=e=>e.id==null?e.flags&2?-1:1/0:e.id;function flushJobs(e){try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const t=queue[flushIndex];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),callWithErrorHandling(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;flushIndex<queue.length;flushIndex++){const t=queue[flushIndex];t&&(t.flags&=-2)}flushIndex=-1,queue.length=0,flushPostFlushCbs(),currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(e){const t=currentRenderingInstance;return currentRenderingInstance=e,currentScopeId=e&&e.type.__scopeId||null,t}function withCtx(e,t=currentRenderingInstance,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&setBlockTracking(-1);const a=setCurrentRenderingInstance(t);let o;try{o=e(...i)}finally{setCurrentRenderingInstance(a),r._d&&setBlockTracking(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function withDirectives(e,t){if(currentRenderingInstance===null)return e;const n=getComponentPublicInstance(currentRenderingInstance),r=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[a,o,s,l=EMPTY_OBJ]=t[i];a&&(isFunction(a)&&(a={mounted:a,updated:a}),a.deep&&traverse(o),r.push({dir:a,instance:n,value:o,oldValue:void 0,arg:s,modifiers:l}))}return e}function invokeDirectiveHook(e,t,n,r){const i=e.dirs,a=t&&t.dirs;for(let o=0;o<i.length;o++){const s=i[o];a&&(s.oldValue=a[o].value);let l=s.dir[r];l&&(pauseTracking(),callWithAsyncErrorHandling(l,n,8,[e.el,s,e,t]),resetTracking())}}const TeleportEndKey=Symbol("_vte"),isTeleport=e=>e.__isTeleport,leaveCbKey=Symbol("_leaveCb"),enterCbKey=Symbol("_enterCb");function useTransitionState(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{e.isMounted=!0}),onBeforeUnmount(()=>{e.isUnmounting=!0}),e}const TransitionHookValidator=[Function,Array],BaseTransitionPropsValidators={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},recursiveGetSubtree=e=>{const t=e.subTree;return t.component?recursiveGetSubtree(t.component):t},BaseTransitionImpl={name:"BaseTransition",props:BaseTransitionPropsValidators,setup(e,{slots:t}){const n=getCurrentInstance(),r=useTransitionState();return()=>{const i=t.default&&getTransitionRawChildren(t.default(),!0);if(!i||!i.length)return;const a=findNonCommentChild(i),o=toRaw(e),{mode:s}=o;if(r.isLeaving)return emptyPlaceholder(a);const l=getInnerChild$1(a);if(!l)return emptyPlaceholder(a);let c=resolveTransitionHooks(l,o,r,n,m=>c=m);l.type!==Comment&&setTransitionHooks(l,c);let u=n.subTree&&getInnerChild$1(n.subTree);if(u&&u.type!==Comment&&!isSameVNodeType(u,l)&&recursiveGetSubtree(n).type!==Comment){let m=resolveTransitionHooks(u,o,r,n);if(setTransitionHooks(u,m),s==="out-in"&&l.type!==Comment)return r.isLeaving=!0,m.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete m.afterLeave,u=void 0},emptyPlaceholder(a);s==="in-out"&&l.type!==Comment?m.delayLeave=(f,d,b)=>{const _=getLeavingNodesForType(r,u);_[String(u.key)]=u,f[leaveCbKey]=()=>{d(),f[leaveCbKey]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{b(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return a}}};function findNonCommentChild(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==Comment){t=n;break}}return t}const BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function resolveTransitionHooks(e,t,n,r,i){const{appear:a,mode:o,persisted:s=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:m,onBeforeLeave:f,onLeave:d,onAfterLeave:b,onLeaveCancelled:_,onBeforeAppear:v,onAppear:T,onAfterAppear:S,onAppearCancelled:I}=t,C=String(e.key),D=getLeavingNodesForType(n,e),F=(Y,L)=>{Y&&callWithAsyncErrorHandling(Y,r,9,L)},w=(Y,L)=>{const U=L[1];F(Y,L),isArray(Y)?Y.every(V=>V.length<=1)&&U():Y.length<=1&&U()},A={mode:o,persisted:s,beforeEnter(Y){let L=l;if(!n.isMounted)if(a)L=v||l;else return;Y[leaveCbKey]&&Y[leaveCbKey](!0);const U=D[C];U&&isSameVNodeType(e,U)&&U.el[leaveCbKey]&&U.el[leaveCbKey](),F(L,[Y])},enter(Y){let L=c,U=u,V=m;if(!n.isMounted)if(a)L=T||c,U=S||u,V=I||m;else return;let j=!1;const oe=Y[enterCbKey]=ue=>{j||(j=!0,ue?F(V,[Y]):F(U,[Y]),A.delayedLeave&&A.delayedLeave(),Y[enterCbKey]=void 0)};L?w(L,[Y,oe]):oe()},leave(Y,L){const U=String(e.key);if(Y[enterCbKey]&&Y[enterCbKey](!0),n.isUnmounting)return L();F(f,[Y]);let V=!1;const j=Y[leaveCbKey]=oe=>{V||(V=!0,L(),oe?F(_,[Y]):F(b,[Y]),Y[leaveCbKey]=void 0,D[U]===e&&delete D[U])};D[U]=e,d?w(d,[Y,j]):j()},clone(Y){const L=resolveTransitionHooks(Y,t,n,r,i);return i&&i(L),L}};return A}function emptyPlaceholder(e){if(isKeepAlive(e))return e=cloneVNode(e),e.children=null,e}function getInnerChild$1(e){if(!isKeepAlive(e))return isTeleport(e.type)&&e.children?findNonCommentChild(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&isFunction(n.default))return n.default()}}function setTransitionHooks(e,t){e.shapeFlag&6&&e.component?(e.transition=t,setTransitionHooks(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function getTransitionRawChildren(e,t=!1,n){let r=[],i=0;for(let a=0;a<e.length;a++){let o=e[a];const s=n==null?o.key:String(n)+String(o.key!=null?o.key:a);o.type===Fragment?(o.patchFlag&128&&i++,r=r.concat(getTransitionRawChildren(o.children,t,s))):(t||o.type!==Comment)&&r.push(s!=null?cloneVNode(o,{key:s}):o)}if(i>1)for(let a=0;a<r.length;a++)r[a].patchFlag=-2;return r}function markAsyncBoundary(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const pendingSetRefMap=new WeakMap;function setRef(e,t,n,r,i=!1){if(isArray(e)){e.forEach((b,_)=>setRef(b,t&&(isArray(t)?t[_]:t),n,r,i));return}if(isAsyncWrapper(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&setRef(e,t,n,r.component.subTree);return}const a=r.shapeFlag&4?getComponentPublicInstance(r.component):r.el,o=i?null:a,{i:s,r:l}=e,c=t&&t.r,u=s.refs===EMPTY_OBJ?s.refs={}:s.refs,m=s.setupState,f=toRaw(m),d=m===EMPTY_OBJ?NO:b=>hasOwn(f,b);if(c!=null&&c!==l){if(invalidatePendingSetRef(t),isString(c))u[c]=null,d(c)&&(m[c]=null);else if(isRef(c)){c.value=null;const b=t;b.k&&(u[b.k]=null)}}if(isFunction(l))callWithErrorHandling(l,s,12,[o,u]);else{const b=isString(l),_=isRef(l);if(b||_){const v=()=>{if(e.f){const T=b?d(l)?m[l]:u[l]:l.value;if(i)isArray(T)&&remove(T,a);else if(isArray(T))T.includes(a)||T.push(a);else if(b)u[l]=[a],d(l)&&(m[l]=u[l]);else{const S=[a];l.value=S,e.k&&(u[e.k]=S)}}else b?(u[l]=o,d(l)&&(m[l]=o)):_&&(l.value=o,e.k&&(u[e.k]=o))};if(o){const T=()=>{v(),pendingSetRefMap.delete(e)};T.id=-1,pendingSetRefMap.set(e,T),queuePostRenderEffect(T,n)}else invalidatePendingSetRef(e),v()}}}function invalidatePendingSetRef(e){const t=pendingSetRefMap.get(e);t&&(t.flags|=8,pendingSetRefMap.delete(e))}getGlobalThis().requestIdleCallback;getGlobalThis().cancelIdleCallback;const isAsyncWrapper=e=>!!e.type.__asyncLoader,isKeepAlive=e=>e.type.__isKeepAlive;function onActivated(e,t){registerKeepAliveHook(e,"a",t)}function onDeactivated(e,t){registerKeepAliveHook(e,"da",t)}function registerKeepAliveHook(e,t,n=currentInstance){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(injectHook(t,r,n),n){let i=n.parent;for(;i&&i.parent;)isKeepAlive(i.parent.vnode)&&injectToKeepAliveRoot(r,t,n,i),i=i.parent}}function injectToKeepAliveRoot(e,t,n,r){const i=injectHook(t,e,r,!0);onUnmounted(()=>{remove(r[t],i)},n)}function injectHook(e,t,n=currentInstance,r=!1){if(n){const i=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...o)=>{pauseTracking();const s=setCurrentInstance(n),l=callWithAsyncErrorHandling(t,n,e,o);return s(),resetTracking(),l});return r?i.unshift(a):i.push(a),a}}const createHook=e=>(t,n=currentInstance)=>{(!isInSSRComponentSetup||e==="sp")&&injectHook(e,(...r)=>t(...r),n)},onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(e,t=currentInstance){injectHook("ec",e,t)}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function renderList(e,t,n,r){let i;const a=n,o=isArray(e);if(o||isString(e)){const s=o&&isReactive(e);let l=!1,c=!1;s&&(l=!isShallow(e),c=isReadonly(e),e=shallowReadArray(e)),i=new Array(e.length);for(let u=0,m=e.length;u<m;u++)i[u]=t(l?c?toReadonly(toReactive(e[u])):toReactive(e[u]):e[u],u,void 0,a)}else if(typeof e=="number"){i=new Array(e);for(let s=0;s<e;s++)i[s]=t(s+1,s,void 0,a)}else if(isObject(e))if(e[Symbol.iterator])i=Array.from(e,(s,l)=>t(s,l,void 0,a));else{const s=Object.keys(e);i=new Array(s.length);for(let l=0,c=s.length;l<c;l++){const u=s[l];i[l]=t(e[u],u,l,a)}}else i=[];return i}const getPublicInstance=e=>e?isStatefulComponent(e)?getComponentPublicInstance(e):getPublicInstance(e.parent):null,publicPropertiesMap=extend(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>getPublicInstance(e.parent),$root:e=>getPublicInstance(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>resolveMergedOptions(e),$forceUpdate:e=>e.f||(e.f=()=>{queueJob(e.update)}),$nextTick:e=>e.n||(e.n=nextTick.bind(e.proxy)),$watch:e=>instanceWatch.bind(e)}),hasSetupBinding=(e,t)=>e!==EMPTY_OBJ&&!e.__isScriptSetup&&hasOwn(e,t),PublicInstanceProxyHandlers={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:a,accessCache:o,type:s,appContext:l}=e;let c;if(t[0]!=="$"){const d=o[t];if(d!==void 0)switch(d){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return a[t]}else{if(hasSetupBinding(r,t))return o[t]=1,r[t];if(i!==EMPTY_OBJ&&hasOwn(i,t))return o[t]=2,i[t];if((c=e.propsOptions[0])&&hasOwn(c,t))return o[t]=3,a[t];if(n!==EMPTY_OBJ&&hasOwn(n,t))return o[t]=4,n[t];shouldCacheAccess&&(o[t]=0)}}const u=publicPropertiesMap[t];let m,f;if(u)return t==="$attrs"&&track(e.attrs,"get",""),u(e);if((m=s.__cssModules)&&(m=m[t]))return m;if(n!==EMPTY_OBJ&&hasOwn(n,t))return o[t]=4,n[t];if(f=l.config.globalProperties,hasOwn(f,t))return f[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:a}=e;return hasSetupBinding(i,t)?(i[t]=n,!0):r!==EMPTY_OBJ&&hasOwn(r,t)?(r[t]=n,!0):hasOwn(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:a,type:o}},s){let l,c;return!!(n[s]||e!==EMPTY_OBJ&&s[0]!=="$"&&hasOwn(e,s)||hasSetupBinding(t,s)||(l=a[0])&&hasOwn(l,s)||hasOwn(r,s)||hasOwn(publicPropertiesMap,s)||hasOwn(i.config.globalProperties,s)||(c=o.__cssModules)&&c[s])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:hasOwn(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function normalizePropsOrEmits(e){return isArray(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let shouldCacheAccess=!0;function applyOptions(e){const t=resolveMergedOptions(e),n=e.proxy,r=e.ctx;shouldCacheAccess=!1,t.beforeCreate&&callHook$1(t.beforeCreate,e,"bc");const{data:i,computed:a,methods:o,watch:s,provide:l,inject:c,created:u,beforeMount:m,mounted:f,beforeUpdate:d,updated:b,activated:_,deactivated:v,beforeDestroy:T,beforeUnmount:S,destroyed:I,unmounted:C,render:D,renderTracked:F,renderTriggered:w,errorCaptured:A,serverPrefetch:Y,expose:L,inheritAttrs:U,components:V,directives:j,filters:oe}=t;if(c&&resolveInjections(c,r,null),o)for(const me in o){const Q=o[me];isFunction(Q)&&(r[me]=Q.bind(n))}if(i){const me=i.call(n,n);isObject(me)&&(e.data=reactive(me))}if(shouldCacheAccess=!0,a)for(const me in a){const Q=a[me],pe=isFunction(Q)?Q.bind(n,n):isFunction(Q.get)?Q.get.bind(n,n):NOOP,q=!isFunction(Q)&&isFunction(Q.set)?Q.set.bind(n):NOOP,ee=computed({get:pe,set:q});Object.defineProperty(r,me,{enumerable:!0,configurable:!0,get:()=>ee.value,set:le=>ee.value=le})}if(s)for(const me in s)createWatcher(s[me],r,n,me);if(l){const me=isFunction(l)?l.call(n):l;Reflect.ownKeys(me).forEach(Q=>{provide(Q,me[Q])})}u&&callHook$1(u,e,"c");function ce(me,Q){isArray(Q)?Q.forEach(pe=>me(pe.bind(n))):Q&&me(Q.bind(n))}if(ce(onBeforeMount,m),ce(onMounted,f),ce(onBeforeUpdate,d),ce(onUpdated,b),ce(onActivated,_),ce(onDeactivated,v),ce(onErrorCaptured,A),ce(onRenderTracked,F),ce(onRenderTriggered,w),ce(onBeforeUnmount,S),ce(onUnmounted,C),ce(onServerPrefetch,Y),isArray(L))if(L.length){const me=e.exposed||(e.exposed={});L.forEach(Q=>{Object.defineProperty(me,Q,{get:()=>n[Q],set:pe=>n[Q]=pe,enumerable:!0})})}else e.exposed||(e.exposed={});D&&e.render===NOOP&&(e.render=D),U!=null&&(e.inheritAttrs=U),V&&(e.components=V),j&&(e.directives=j),Y&&markAsyncBoundary(e)}function resolveInjections(e,t,n=NOOP){isArray(e)&&(e=normalizeInject(e));for(const r in e){const i=e[r];let a;isObject(i)?"default"in i?a=inject(i.from||r,i.default,!0):a=inject(i.from||r):a=inject(i),isRef(a)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>a.value,set:o=>a.value=o}):t[r]=a}}function callHook$1(e,t,n){callWithAsyncErrorHandling(isArray(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function createWatcher(e,t,n,r){let i=r.includes(".")?createPathGetter(n,r):()=>n[r];if(isString(e)){const a=t[e];isFunction(a)&&watch(i,a)}else if(isFunction(e))watch(i,e.bind(n));else if(isObject(e))if(isArray(e))e.forEach(a=>createWatcher(a,t,n,r));else{const a=isFunction(e.handler)?e.handler.bind(n):t[e.handler];isFunction(a)&&watch(i,a,e)}}function resolveMergedOptions(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:a,config:{optionMergeStrategies:o}}=e.appContext,s=a.get(t);let l;return s?l=s:!i.length&&!n&&!r?l=t:(l={},i.length&&i.forEach(c=>mergeOptions(l,c,o,!0)),mergeOptions(l,t,o)),isObject(t)&&a.set(t,l),l}function mergeOptions(e,t,n,r=!1){const{mixins:i,extends:a}=t;a&&mergeOptions(e,a,n,!0),i&&i.forEach(o=>mergeOptions(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const s=internalOptionMergeStrats[o]||n&&n[o];e[o]=s?s(e[o],t[o]):t[o]}return e}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(e,t){return t?e?function(){return extend(isFunction(e)?e.call(this,this):e,isFunction(t)?t.call(this,this):t)}:t:e}function mergeInject(e,t){return mergeObjectOptions(normalizeInject(e),normalizeInject(t))}function normalizeInject(e){if(isArray(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function mergeAsArray(e,t){return e?[...new Set([].concat(e,t))]:t}function mergeObjectOptions(e,t){return e?extend(Object.create(null),e,t):t}function mergeEmitsOrPropsOptions(e,t){return e?isArray(e)&&isArray(t)?[...new Set([...e,...t])]:extend(Object.create(null),normalizePropsOrEmits(e),normalizePropsOrEmits(t??{})):t}function mergeWatchOptions(e,t){if(!e)return t;if(!t)return e;const n=extend(Object.create(null),e);for(const r in t)n[r]=mergeAsArray(e[r],t[r]);return n}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(e,t){return function(r,i=null){isFunction(r)||(r=extend({},r)),i!=null&&!isObject(i)&&(i=null);const a=createAppContext(),o=new WeakSet,s=[];let l=!1;const c=a.app={_uid:uid$1++,_component:r,_props:i,_container:null,_context:a,_instance:null,version,get config(){return a.config},set config(u){},use(u,...m){return o.has(u)||(u&&isFunction(u.install)?(o.add(u),u.install(c,...m)):isFunction(u)&&(o.add(u),u(c,...m))),c},mixin(u){return a.mixins.includes(u)||a.mixins.push(u),c},component(u,m){return m?(a.components[u]=m,c):a.components[u]},directive(u,m){return m?(a.directives[u]=m,c):a.directives[u]},mount(u,m,f){if(!l){const d=c._ceVNode||createVNode(r,i);return d.appContext=a,f===!0?f="svg":f===!1&&(f=void 0),e(d,u,f),l=!0,c._container=u,u.__vue_app__=c,getComponentPublicInstance(d.component)}},onUnmount(u){s.push(u)},unmount(){l&&(callWithAsyncErrorHandling(s,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,m){return a.provides[u]=m,c},runWithContext(u){const m=currentApp;currentApp=c;try{return u()}finally{currentApp=m}}};return c}}let currentApp=null;function provide(e,t){if(currentInstance){let n=currentInstance.provides;const r=currentInstance.parent&&currentInstance.parent.provides;r===n&&(n=currentInstance.provides=Object.create(r)),n[e]=t}}function inject(e,t,n=!1){const r=getCurrentInstance();if(r||currentApp){let i=currentApp?currentApp._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&isFunction(t)?t.call(r&&r.proxy):t}}const internalObjectProto={},createInternalObject=()=>Object.create(internalObjectProto),isInternalObject=e=>Object.getPrototypeOf(e)===internalObjectProto;function initProps(e,t,n,r=!1){const i={},a=createInternalObject();e.propsDefaults=Object.create(null),setFullProps(e,t,i,a);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);n?e.props=r?i:shallowReactive(i):e.type.props?e.props=i:e.props=a,e.attrs=a}function updateProps(e,t,n,r){const{props:i,attrs:a,vnode:{patchFlag:o}}=e,s=toRaw(i),[l]=e.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let m=0;m<u.length;m++){let f=u[m];if(isEmitListener(e.emitsOptions,f))continue;const d=t[f];if(l)if(hasOwn(a,f))d!==a[f]&&(a[f]=d,c=!0);else{const b=camelize(f);i[b]=resolvePropValue(l,s,b,d,e,!1)}else d!==a[f]&&(a[f]=d,c=!0)}}}else{setFullProps(e,t,i,a)&&(c=!0);let u;for(const m in s)(!t||!hasOwn(t,m)&&((u=hyphenate(m))===m||!hasOwn(t,u)))&&(l?n&&(n[m]!==void 0||n[u]!==void 0)&&(i[m]=resolvePropValue(l,s,m,void 0,e,!0)):delete i[m]);if(a!==s)for(const m in a)(!t||!hasOwn(t,m))&&(delete a[m],c=!0)}c&&trigger(e.attrs,"set","")}function setFullProps(e,t,n,r){const[i,a]=e.propsOptions;let o=!1,s;if(t)for(let l in t){if(isReservedProp(l))continue;const c=t[l];let u;i&&hasOwn(i,u=camelize(l))?!a||!a.includes(u)?n[u]=c:(s||(s={}))[u]=c:isEmitListener(e.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(a){const l=toRaw(n),c=s||EMPTY_OBJ;for(let u=0;u<a.length;u++){const m=a[u];n[m]=resolvePropValue(i,l,m,c[m],e,!hasOwn(c,m))}}return o}function resolvePropValue(e,t,n,r,i,a){const o=e[n];if(o!=null){const s=hasOwn(o,"default");if(s&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&isFunction(l)){const{propsDefaults:c}=i;if(n in c)r=c[n];else{const u=setCurrentInstance(i);r=c[n]=l.call(null,t),u()}}else r=l;i.ce&&i.ce._setProp(n,r)}o[0]&&(a&&!s?r=!1:o[1]&&(r===""||r===hyphenate(n))&&(r=!0))}return r}const mixinPropsCache=new WeakMap;function normalizePropsOptions(e,t,n=!1){const r=n?mixinPropsCache:t.propsCache,i=r.get(e);if(i)return i;const a=e.props,o={},s=[];let l=!1;if(!isFunction(e)){const u=m=>{l=!0;const[f,d]=normalizePropsOptions(m,t,!0);extend(o,f),d&&s.push(...d)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!a&&!l)return isObject(e)&&r.set(e,EMPTY_ARR),EMPTY_ARR;if(isArray(a))for(let u=0;u<a.length;u++){const m=camelize(a[u]);validatePropName(m)&&(o[m]=EMPTY_OBJ)}else if(a)for(const u in a){const m=camelize(u);if(validatePropName(m)){const f=a[u],d=o[m]=isArray(f)||isFunction(f)?{type:f}:extend({},f),b=d.type;let _=!1,v=!0;if(isArray(b))for(let T=0;T<b.length;++T){const S=b[T],I=isFunction(S)&&S.name;if(I==="Boolean"){_=!0;break}else I==="String"&&(v=!1)}else _=isFunction(b)&&b.name==="Boolean";d[0]=_,d[1]=v,(_||hasOwn(d,"default"))&&s.push(m)}}const c=[o,s];return isObject(e)&&r.set(e,c),c}function validatePropName(e){return e[0]!=="$"&&!isReservedProp(e)}const isInternalKey=e=>e==="_"||e==="_ctx"||e==="$stable",normalizeSlotValue=e=>isArray(e)?e.map(normalizeVNode):[normalizeVNode(e)],normalizeSlot=(e,t,n)=>{if(t._n)return t;const r=withCtx((...i)=>normalizeSlotValue(t(...i)),n);return r._c=!1,r},normalizeObjectSlots=(e,t,n)=>{const r=e._ctx;for(const i in e){if(isInternalKey(i))continue;const a=e[i];if(isFunction(a))t[i]=normalizeSlot(i,a,r);else if(a!=null){const o=normalizeSlotValue(a);t[i]=()=>o}}},normalizeVNodeSlots=(e,t)=>{const n=normalizeSlotValue(t);e.slots.default=()=>n},assignSlots=(e,t,n)=>{for(const r in t)(n||!isInternalKey(r))&&(e[r]=t[r])},initSlots=(e,t,n)=>{const r=e.slots=createInternalObject();if(e.vnode.shapeFlag&32){const i=t._;i?(assignSlots(r,t,n),n&&def(r,"_",i,!0)):normalizeObjectSlots(t,r)}else t&&normalizeVNodeSlots(e,t)},updateSlots=(e,t,n)=>{const{vnode:r,slots:i}=e;let a=!0,o=EMPTY_OBJ;if(r.shapeFlag&32){const s=t._;s?n&&s===1?a=!1:assignSlots(i,t,n):(a=!t.$stable,normalizeObjectSlots(t,i)),o=t}else t&&(normalizeVNodeSlots(e,t),o={default:1});if(a)for(const s in i)!isInternalKey(s)&&o[s]==null&&delete i[s]},queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(e){return baseCreateRenderer(e)}function baseCreateRenderer(e,t){const n=getGlobalThis();n.__VUE__=!0;const{insert:r,remove:i,patchProp:a,createElement:o,createText:s,createComment:l,setText:c,setElementText:u,parentNode:m,nextSibling:f,setScopeId:d=NOOP,insertStaticContent:b}=e,_=(R,E,x,O=null,H=null,W=null,K=void 0,M=null,z=!!E.dynamicChildren)=>{if(R===E)return;R&&!isSameVNodeType(R,E)&&(O=Te(R),le(R,H,W,!0),R=null),E.patchFlag===-2&&(z=!1,E.dynamicChildren=null);const{type:G,ref:X,shapeFlag:se}=E;switch(G){case Text:v(R,E,x,O);break;case Comment:T(R,E,x,O);break;case Static:R==null&&S(E,x,O,K);break;case Fragment:V(R,E,x,O,H,W,K,M,z);break;default:se&1?D(R,E,x,O,H,W,K,M,z):se&6?j(R,E,x,O,H,W,K,M,z):(se&64||se&128)&&G.process(R,E,x,O,H,W,K,M,z,Z)}X!=null&&H?setRef(X,R&&R.ref,W,E||R,!E):X==null&&R&&R.ref!=null&&setRef(R.ref,null,W,R,!0)},v=(R,E,x,O)=>{if(R==null)r(E.el=s(E.children),x,O);else{const H=E.el=R.el;E.children!==R.children&&c(H,E.children)}},T=(R,E,x,O)=>{R==null?r(E.el=l(E.children||""),x,O):E.el=R.el},S=(R,E,x,O)=>{[R.el,R.anchor]=b(R.children,E,x,O,R.el,R.anchor)},I=({el:R,anchor:E},x,O)=>{let H;for(;R&&R!==E;)H=f(R),r(R,x,O),R=H;r(E,x,O)},C=({el:R,anchor:E})=>{let x;for(;R&&R!==E;)x=f(R),i(R),R=x;i(E)},D=(R,E,x,O,H,W,K,M,z)=>{E.type==="svg"?K="svg":E.type==="math"&&(K="mathml"),R==null?F(E,x,O,H,W,K,M,z):Y(R,E,H,W,K,M,z)},F=(R,E,x,O,H,W,K,M)=>{let z,G;const{props:X,shapeFlag:se,transition:ge,dirs:de}=R;if(z=R.el=o(R.type,W,X&&X.is,X),se&8?u(z,R.children):se&16&&A(R.children,z,null,O,H,resolveChildrenNamespace(R,W),K,M),de&&invokeDirectiveHook(R,null,O,"created"),w(z,R,R.scopeId,K,O),X){for(const k in X)k!=="value"&&!isReservedProp(k)&&a(z,k,null,X[k],W,O);"value"in X&&a(z,"value",null,X.value,W),(G=X.onVnodeBeforeMount)&&invokeVNodeHook(G,O,R)}de&&invokeDirectiveHook(R,null,O,"beforeMount");const ve=needTransition(H,ge);ve&&ge.beforeEnter(z),r(z,E,x),((G=X&&X.onVnodeMounted)||ve||de)&&queuePostRenderEffect(()=>{G&&invokeVNodeHook(G,O,R),ve&&ge.enter(z),de&&invokeDirectiveHook(R,null,O,"mounted")},H)},w=(R,E,x,O,H)=>{if(x&&d(R,x),O)for(let W=0;W<O.length;W++)d(R,O[W]);if(H){let W=H.subTree;if(E===W||isSuspense(W.type)&&(W.ssContent===E||W.ssFallback===E)){const K=H.vnode;w(R,K,K.scopeId,K.slotScopeIds,H.parent)}}},A=(R,E,x,O,H,W,K,M,z=0)=>{for(let G=z;G<R.length;G++){const X=R[G]=M?cloneIfMounted(R[G]):normalizeVNode(R[G]);_(null,X,E,x,O,H,W,K,M)}},Y=(R,E,x,O,H,W,K)=>{const M=E.el=R.el;let{patchFlag:z,dynamicChildren:G,dirs:X}=E;z|=R.patchFlag&16;const se=R.props||EMPTY_OBJ,ge=E.props||EMPTY_OBJ;let de;if(x&&toggleRecurse(x,!1),(de=ge.onVnodeBeforeUpdate)&&invokeVNodeHook(de,x,E,R),X&&invokeDirectiveHook(E,R,x,"beforeUpdate"),x&&toggleRecurse(x,!0),(se.innerHTML&&ge.innerHTML==null||se.textContent&&ge.textContent==null)&&u(M,""),G?L(R.dynamicChildren,G,M,x,O,resolveChildrenNamespace(E,H),W):K||Q(R,E,M,null,x,O,resolveChildrenNamespace(E,H),W,!1),z>0){if(z&16)U(M,se,ge,x,H);else if(z&2&&se.class!==ge.class&&a(M,"class",null,ge.class,H),z&4&&a(M,"style",se.style,ge.style,H),z&8){const ve=E.dynamicProps;for(let k=0;k<ve.length;k++){const g=ve[k],y=se[g],P=ge[g];(P!==y||g==="value")&&a(M,g,y,P,H,x)}}z&1&&R.children!==E.children&&u(M,E.children)}else!K&&G==null&&U(M,se,ge,x,H);((de=ge.onVnodeUpdated)||X)&&queuePostRenderEffect(()=>{de&&invokeVNodeHook(de,x,E,R),X&&invokeDirectiveHook(E,R,x,"updated")},O)},L=(R,E,x,O,H,W,K)=>{for(let M=0;M<E.length;M++){const z=R[M],G=E[M],X=z.el&&(z.type===Fragment||!isSameVNodeType(z,G)||z.shapeFlag&198)?m(z.el):x;_(z,G,X,null,O,H,W,K,!0)}},U=(R,E,x,O,H)=>{if(E!==x){if(E!==EMPTY_OBJ)for(const W in E)!isReservedProp(W)&&!(W in x)&&a(R,W,E[W],null,H,O);for(const W in x){if(isReservedProp(W))continue;const K=x[W],M=E[W];K!==M&&W!=="value"&&a(R,W,M,K,H,O)}"value"in x&&a(R,"value",E.value,x.value,H)}},V=(R,E,x,O,H,W,K,M,z)=>{const G=E.el=R?R.el:s(""),X=E.anchor=R?R.anchor:s("");let{patchFlag:se,dynamicChildren:ge,slotScopeIds:de}=E;de&&(M=M?M.concat(de):de),R==null?(r(G,x,O),r(X,x,O),A(E.children||[],x,X,H,W,K,M,z)):se>0&&se&64&&ge&&R.dynamicChildren?(L(R.dynamicChildren,ge,x,H,W,K,M),(E.key!=null||H&&E===H.subTree)&&traverseStaticChildren(R,E,!0)):Q(R,E,x,X,H,W,K,M,z)},j=(R,E,x,O,H,W,K,M,z)=>{E.slotScopeIds=M,R==null?E.shapeFlag&512?H.ctx.activate(E,x,O,K,z):oe(E,x,O,H,W,K,z):ue(R,E,z)},oe=(R,E,x,O,H,W,K)=>{const M=R.component=createComponentInstance(R,O,H);if(isKeepAlive(R)&&(M.ctx.renderer=Z),setupComponent(M,!1,K),M.asyncDep){if(H&&H.registerDep(M,ce,K),!R.el){const z=M.subTree=createVNode(Comment);T(null,z,E,x),R.placeholder=z.el}}else ce(M,R,E,x,H,W,K)},ue=(R,E,x)=>{const O=E.component=R.component;if(shouldUpdateComponent(R,E,x))if(O.asyncDep&&!O.asyncResolved){me(O,E,x);return}else O.next=E,O.update();else E.el=R.el,O.vnode=E},ce=(R,E,x,O,H,W,K)=>{const M=()=>{if(R.isMounted){let{next:se,bu:ge,u:de,parent:ve,vnode:k}=R;{const J=locateNonHydratedAsyncRoot(R);if(J){se&&(se.el=k.el,me(R,se,K)),J.asyncDep.then(()=>{R.isUnmounted||M()});return}}let g=se,y;toggleRecurse(R,!1),se?(se.el=k.el,me(R,se,K)):se=k,ge&&invokeArrayFns(ge),(y=se.props&&se.props.onVnodeBeforeUpdate)&&invokeVNodeHook(y,ve,se,k),toggleRecurse(R,!0);const P=renderComponentRoot(R),$=R.subTree;R.subTree=P,_($,P,m($.el),Te($),R,H,W),se.el=P.el,g===null&&updateHOCHostEl(R,P.el),de&&queuePostRenderEffect(de,H),(y=se.props&&se.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(y,ve,se,k),H)}else{let se;const{el:ge,props:de}=E,{bm:ve,m:k,parent:g,root:y,type:P}=R,$=isAsyncWrapper(E);toggleRecurse(R,!1),ve&&invokeArrayFns(ve),!$&&(se=de&&de.onVnodeBeforeMount)&&invokeVNodeHook(se,g,E),toggleRecurse(R,!0);{y.ce&&y.ce._def.shadowRoot!==!1&&y.ce._injectChildStyle(P);const J=R.subTree=renderComponentRoot(R);_(null,J,x,O,R,H,W),E.el=J.el}if(k&&queuePostRenderEffect(k,H),!$&&(se=de&&de.onVnodeMounted)){const J=E;queuePostRenderEffect(()=>invokeVNodeHook(se,g,J),H)}(E.shapeFlag&256||g&&isAsyncWrapper(g.vnode)&&g.vnode.shapeFlag&256)&&R.a&&queuePostRenderEffect(R.a,H),R.isMounted=!0,E=x=O=null}};R.scope.on();const z=R.effect=new ReactiveEffect(M);R.scope.off();const G=R.update=z.run.bind(z),X=R.job=z.runIfDirty.bind(z);X.i=R,X.id=R.uid,z.scheduler=()=>queueJob(X),toggleRecurse(R,!0),G()},me=(R,E,x)=>{E.component=R;const O=R.vnode.props;R.vnode=E,R.next=null,updateProps(R,E.props,O,x),updateSlots(R,E.children,x),pauseTracking(),flushPreFlushCbs(R),resetTracking()},Q=(R,E,x,O,H,W,K,M,z=!1)=>{const G=R&&R.children,X=R?R.shapeFlag:0,se=E.children,{patchFlag:ge,shapeFlag:de}=E;if(ge>0){if(ge&128){q(G,se,x,O,H,W,K,M,z);return}else if(ge&256){pe(G,se,x,O,H,W,K,M,z);return}}de&8?(X&16&&we(G,H,W),se!==G&&u(x,se)):X&16?de&16?q(G,se,x,O,H,W,K,M,z):we(G,H,W,!0):(X&8&&u(x,""),de&16&&A(se,x,O,H,W,K,M,z))},pe=(R,E,x,O,H,W,K,M,z)=>{R=R||EMPTY_ARR,E=E||EMPTY_ARR;const G=R.length,X=E.length,se=Math.min(G,X);let ge;for(ge=0;ge<se;ge++){const de=E[ge]=z?cloneIfMounted(E[ge]):normalizeVNode(E[ge]);_(R[ge],de,x,null,H,W,K,M,z)}G>X?we(R,H,W,!0,!1,se):A(E,x,O,H,W,K,M,z,se)},q=(R,E,x,O,H,W,K,M,z)=>{let G=0;const X=E.length;let se=R.length-1,ge=X-1;for(;G<=se&&G<=ge;){const de=R[G],ve=E[G]=z?cloneIfMounted(E[G]):normalizeVNode(E[G]);if(isSameVNodeType(de,ve))_(de,ve,x,null,H,W,K,M,z);else break;G++}for(;G<=se&&G<=ge;){const de=R[se],ve=E[ge]=z?cloneIfMounted(E[ge]):normalizeVNode(E[ge]);if(isSameVNodeType(de,ve))_(de,ve,x,null,H,W,K,M,z);else break;se--,ge--}if(G>se){if(G<=ge){const de=ge+1,ve=de<X?E[de].el:O;for(;G<=ge;)_(null,E[G]=z?cloneIfMounted(E[G]):normalizeVNode(E[G]),x,ve,H,W,K,M,z),G++}}else if(G>ge)for(;G<=se;)le(R[G],H,W,!0),G++;else{const de=G,ve=G,k=new Map;for(G=ve;G<=ge;G++){const Ee=E[G]=z?cloneIfMounted(E[G]):normalizeVNode(E[G]);Ee.key!=null&&k.set(Ee.key,G)}let g,y=0;const P=ge-ve+1;let $=!1,J=0;const ie=new Array(P);for(G=0;G<P;G++)ie[G]=0;for(G=de;G<=se;G++){const Ee=R[G];if(y>=P){le(Ee,H,W,!0);continue}let ke;if(Ee.key!=null)ke=k.get(Ee.key);else for(g=ve;g<=ge;g++)if(ie[g-ve]===0&&isSameVNodeType(Ee,E[g])){ke=g;break}ke===void 0?le(Ee,H,W,!0):(ie[ke-ve]=G+1,ke>=J?J=ke:$=!0,_(Ee,E[ke],x,null,H,W,K,M,z),y++)}const Se=$?getSequence(ie):EMPTY_ARR;for(g=Se.length-1,G=P-1;G>=0;G--){const Ee=ve+G,ke=E[Ee],xe=E[Ee+1],Ie=Ee+1<X?xe.el||xe.placeholder:O;ie[G]===0?_(null,ke,x,Ie,H,W,K,M,z):$&&(g<0||G!==Se[g]?ee(ke,x,Ie,2):g--)}}},ee=(R,E,x,O,H=null)=>{const{el:W,type:K,transition:M,children:z,shapeFlag:G}=R;if(G&6){ee(R.component.subTree,E,x,O);return}if(G&128){R.suspense.move(E,x,O);return}if(G&64){K.move(R,E,x,Z);return}if(K===Fragment){r(W,E,x);for(let se=0;se<z.length;se++)ee(z[se],E,x,O);r(R.anchor,E,x);return}if(K===Static){I(R,E,x);return}if(O!==2&&G&1&&M)if(O===0)M.beforeEnter(W),r(W,E,x),queuePostRenderEffect(()=>M.enter(W),H);else{const{leave:se,delayLeave:ge,afterLeave:de}=M,ve=()=>{R.ctx.isUnmounted?i(W):r(W,E,x)},k=()=>{W._isLeaving&&W[leaveCbKey](!0),se(W,()=>{ve(),de&&de()})};ge?ge(W,ve,k):k()}else r(W,E,x)},le=(R,E,x,O=!1,H=!1)=>{const{type:W,props:K,ref:M,children:z,dynamicChildren:G,shapeFlag:X,patchFlag:se,dirs:ge,cacheIndex:de}=R;if(se===-2&&(H=!1),M!=null&&(pauseTracking(),setRef(M,null,x,R,!0),resetTracking()),de!=null&&(E.renderCache[de]=void 0),X&256){E.ctx.deactivate(R);return}const ve=X&1&&ge,k=!isAsyncWrapper(R);let g;if(k&&(g=K&&K.onVnodeBeforeUnmount)&&invokeVNodeHook(g,E,R),X&6)_e(R.component,x,O);else{if(X&128){R.suspense.unmount(x,O);return}ve&&invokeDirectiveHook(R,null,E,"beforeUnmount"),X&64?R.type.remove(R,E,x,Z,O):G&&!G.hasOnce&&(W!==Fragment||se>0&&se&64)?we(G,E,x,!1,!0):(W===Fragment&&se&384||!H&&X&16)&&we(z,E,x),O&&ne(R)}(k&&(g=K&&K.onVnodeUnmounted)||ve)&&queuePostRenderEffect(()=>{g&&invokeVNodeHook(g,E,R),ve&&invokeDirectiveHook(R,null,E,"unmounted")},x)},ne=R=>{const{type:E,el:x,anchor:O,transition:H}=R;if(E===Fragment){be(x,O);return}if(E===Static){C(R);return}const W=()=>{i(x),H&&!H.persisted&&H.afterLeave&&H.afterLeave()};if(R.shapeFlag&1&&H&&!H.persisted){const{leave:K,delayLeave:M}=H,z=()=>K(x,W);M?M(R.el,W,z):z()}else W()},be=(R,E)=>{let x;for(;R!==E;)x=f(R),i(R),R=x;i(E)},_e=(R,E,x)=>{const{bum:O,scope:H,job:W,subTree:K,um:M,m:z,a:G}=R;invalidateMount(z),invalidateMount(G),O&&invokeArrayFns(O),H.stop(),W&&(W.flags|=8,le(K,R,E,x)),M&&queuePostRenderEffect(M,E),queuePostRenderEffect(()=>{R.isUnmounted=!0},E)},we=(R,E,x,O=!1,H=!1,W=0)=>{for(let K=W;K<R.length;K++)le(R[K],E,x,O,H)},Te=R=>{if(R.shapeFlag&6)return Te(R.component.subTree);if(R.shapeFlag&128)return R.suspense.next();const E=f(R.anchor||R.el),x=E&&E[TeleportEndKey];return x?f(x):E};let te=!1;const ae=(R,E,x)=>{R==null?E._vnode&&le(E._vnode,null,null,!0):_(E._vnode||null,R,E,null,null,null,x),E._vnode=R,te||(te=!0,flushPreFlushCbs(),flushPostFlushCbs(),te=!1)},Z={p:_,um:le,m:ee,r:ne,mt:oe,mc:A,pc:Q,pbc:L,n:Te,o:e};return{render:ae,hydrate:void 0,createApp:createAppAPI(ae)}}function resolveChildrenNamespace({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function toggleRecurse({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function needTransition(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function traverseStaticChildren(e,t,n=!1){const r=e.children,i=t.children;if(isArray(r)&&isArray(i))for(let a=0;a<r.length;a++){const o=r[a];let s=i[a];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=i[a]=cloneIfMounted(i[a]),s.el=o.el),!n&&s.patchFlag!==-2&&traverseStaticChildren(o,s)),s.type===Text&&s.patchFlag!==-1&&(s.el=o.el),s.type===Comment&&!s.el&&(s.el=o.el)}}function getSequence(e){const t=e.slice(),n=[0];let r,i,a,o,s;const l=e.length;for(r=0;r<l;r++){const c=e[r];if(c!==0){if(i=n[n.length-1],e[i]<c){t[r]=i,n.push(r);continue}for(a=0,o=n.length-1;a<o;)s=a+o>>1,e[n[s]]<c?a=s+1:o=s;c<e[n[a]]&&(a>0&&(t[r]=n[a-1]),n[a]=r)}}for(a=n.length,o=n[a-1];a-- >0;)n[a]=o,o=t[o];return n}function locateNonHydratedAsyncRoot(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:locateNonHydratedAsyncRoot(t)}function invalidateMount(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey);function watch(e,t,n){return doWatch(e,t,n)}function doWatch(e,t,n=EMPTY_OBJ){const{immediate:r,deep:i,flush:a,once:o}=n,s=extend({},n),l=t&&r||!t&&a!=="post";let c;if(isInSSRComponentSetup){if(a==="sync"){const d=useSSRContext();c=d.__watcherHandles||(d.__watcherHandles=[])}else if(!l){const d=()=>{};return d.stop=NOOP,d.resume=NOOP,d.pause=NOOP,d}}const u=currentInstance;s.call=(d,b,_)=>callWithAsyncErrorHandling(d,u,b,_);let m=!1;a==="post"?s.scheduler=d=>{queuePostRenderEffect(d,u&&u.suspense)}:a!=="sync"&&(m=!0,s.scheduler=(d,b)=>{b?d():queueJob(d)}),s.augmentJob=d=>{t&&(d.flags|=4),m&&(d.flags|=2,u&&(d.id=u.uid,d.i=u))};const f=watch$1(e,t,s);return isInSSRComponentSetup&&(c?c.push(f):l&&f()),f}function instanceWatch(e,t,n){const r=this.proxy,i=isString(e)?e.includes(".")?createPathGetter(r,e):()=>r[e]:e.bind(r,r);let a;isFunction(t)?a=t:(a=t.handler,n=t);const o=setCurrentInstance(this),s=doWatch(i,a.bind(r),n);return o(),s}function createPathGetter(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const getModelModifiers=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${camelize(t)}Modifiers`]||e[`${hyphenate(t)}Modifiers`];function emit(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||EMPTY_OBJ;let i=n;const a=t.startsWith("update:"),o=a&&getModelModifiers(r,t.slice(7));o&&(o.trim&&(i=n.map(u=>isString(u)?u.trim():u)),o.number&&(i=n.map(looseToNumber)));let s,l=r[s=toHandlerKey(t)]||r[s=toHandlerKey(camelize(t))];!l&&a&&(l=r[s=toHandlerKey(hyphenate(t))]),l&&callWithAsyncErrorHandling(l,e,6,i);const c=r[s+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,callWithAsyncErrorHandling(c,e,6,i)}}const mixinEmitsCache=new WeakMap;function normalizeEmitsOptions(e,t,n=!1){const r=n?mixinEmitsCache:t.emitsCache,i=r.get(e);if(i!==void 0)return i;const a=e.emits;let o={},s=!1;if(!isFunction(e)){const l=c=>{const u=normalizeEmitsOptions(c,t,!0);u&&(s=!0,extend(o,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!a&&!s?(isObject(e)&&r.set(e,null),null):(isArray(a)?a.forEach(l=>o[l]=null):extend(o,a),isObject(e)&&r.set(e,o),o)}function isEmitListener(e,t){return!e||!isOn(t)?!1:(t=t.slice(2).replace(/Once$/,""),hasOwn(e,t[0].toLowerCase()+t.slice(1))||hasOwn(e,hyphenate(t))||hasOwn(e,t))}function markAttrsAccessed(){}function renderComponentRoot(e){const{type:t,vnode:n,proxy:r,withProxy:i,propsOptions:[a],slots:o,attrs:s,emit:l,render:c,renderCache:u,props:m,data:f,setupState:d,ctx:b,inheritAttrs:_}=e,v=setCurrentRenderingInstance(e);let T,S;try{if(n.shapeFlag&4){const C=i||r,D=C;T=normalizeVNode(c.call(D,C,u,m,d,f,b)),S=s}else{const C=t;T=normalizeVNode(C.length>1?C(m,{attrs:s,slots:o,emit:l}):C(m,null)),S=t.props?s:getFunctionalFallthrough(s)}}catch(C){blockStack.length=0,handleError(C,e,1),T=createVNode(Comment)}let I=T;if(S&&_!==!1){const C=Object.keys(S),{shapeFlag:D}=I;C.length&&D&7&&(a&&C.some(isModelListener)&&(S=filterModelListeners(S,a)),I=cloneVNode(I,S,!1,!0))}return n.dirs&&(I=cloneVNode(I,null,!1,!0),I.dirs=I.dirs?I.dirs.concat(n.dirs):n.dirs),n.transition&&setTransitionHooks(I,n.transition),T=I,setCurrentRenderingInstance(v),T}const getFunctionalFallthrough=e=>{let t;for(const n in e)(n==="class"||n==="style"||isOn(n))&&((t||(t={}))[n]=e[n]);return t},filterModelListeners=(e,t)=>{const n={};for(const r in e)(!isModelListener(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function shouldUpdateComponent(e,t,n){const{props:r,children:i,component:a}=e,{props:o,children:s,patchFlag:l}=t,c=a.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?hasPropsChanged(r,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let m=0;m<u.length;m++){const f=u[m];if(o[f]!==r[f]&&!isEmitListener(c,f))return!0}}}else return(i||s)&&(!s||!s.$stable)?!0:r===o?!1:r?o?hasPropsChanged(r,o,c):!0:!!o;return!1}function hasPropsChanged(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const a=r[i];if(t[a]!==e[a]&&!isEmitListener(n,a))return!0}return!1}function updateHOCHostEl({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const isSuspense=e=>e.__isSuspense;function queueEffectWithSuspense(e,t){t&&t.pendingBranch?isArray(e)?t.effects.push(...e):t.effects.push(e):queuePostFlushCb(e)}const Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(e=!1){blockStack.push(currentBlock=e?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(e,t=!1){isBlockTreeEnabled+=e,e<0&&currentBlock&&t&&(currentBlock.hasOnce=!0)}function setupBlock(e){return e.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(e),e}function createElementBlock(e,t,n,r,i,a){return setupBlock(createBaseVNode(e,t,n,r,i,a,!0))}function createBlock(e,t,n,r,i){return setupBlock(createVNode(e,t,n,r,i,!0))}function isVNode(e){return e?e.__v_isVNode===!0:!1}function isSameVNodeType(e,t){return e.type===t.type&&e.key===t.key}const normalizeKey=({key:e})=>e??null,normalizeRef=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?isString(e)||isRef(e)||isFunction(e)?{i:currentRenderingInstance,r:e,k:t,f:!!n}:e:null);function createBaseVNode(e,t=null,n=null,r=0,i=null,a=e===Fragment?0:1,o=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&normalizeKey(t),ref:t&&normalizeRef(t),scopeId:currentScopeId,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return s?(normalizeChildren(l,n),a&128&&e.normalize(l)):n&&(l.shapeFlag|=isString(n)?8:16),isBlockTreeEnabled>0&&!o&&currentBlock&&(l.patchFlag>0||a&6)&&l.patchFlag!==32&&currentBlock.push(l),l}const createVNode=_createVNode;function _createVNode(e,t=null,n=null,r=0,i=null,a=!1){if((!e||e===NULL_DYNAMIC_COMPONENT)&&(e=Comment),isVNode(e)){const s=cloneVNode(e,t,!0);return n&&normalizeChildren(s,n),isBlockTreeEnabled>0&&!a&&currentBlock&&(s.shapeFlag&6?currentBlock[currentBlock.indexOf(e)]=s:currentBlock.push(s)),s.patchFlag=-2,s}if(isClassComponent(e)&&(e=e.__vccOpts),t){t=guardReactiveProps(t);let{class:s,style:l}=t;s&&!isString(s)&&(t.class=normalizeClass(s)),isObject(l)&&(isProxy(l)&&!isArray(l)&&(l=extend({},l)),t.style=normalizeStyle(l))}const o=isString(e)?1:isSuspense(e)?128:isTeleport(e)?64:isObject(e)?4:isFunction(e)?2:0;return createBaseVNode(e,t,n,r,i,o,a,!0)}function guardReactiveProps(e){return e?isProxy(e)||isInternalObject(e)?extend({},e):e:null}function cloneVNode(e,t,n=!1,r=!1){const{props:i,ref:a,patchFlag:o,children:s,transition:l}=e,c=t?mergeProps(i||{},t):i,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&normalizeKey(c),ref:t&&t.ref?n&&a?isArray(a)?a.concat(normalizeRef(t)):[a,normalizeRef(t)]:normalizeRef(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Fragment?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&cloneVNode(e.ssContent),ssFallback:e.ssFallback&&cloneVNode(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&setTransitionHooks(u,l.clone(u)),u}function createTextVNode(e=" ",t=0){return createVNode(Text,null,e,t)}function createCommentVNode(e="",t=!1){return t?(openBlock(),createBlock(Comment,null,e)):createVNode(Comment,null,e)}function normalizeVNode(e){return e==null||typeof e=="boolean"?createVNode(Comment):isArray(e)?createVNode(Fragment,null,e.slice()):isVNode(e)?cloneIfMounted(e):createVNode(Text,null,String(e))}function cloneIfMounted(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:cloneVNode(e)}function normalizeChildren(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(isArray(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),normalizeChildren(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!isInternalObject(t)?t._ctx=currentRenderingInstance:i===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else isFunction(t)?(t={default:t,_ctx:currentRenderingInstance},n=32):(t=String(t),r&64?(n=16,t=[createTextVNode(t)]):n=8);e.children=t,e.shapeFlag|=n}function mergeProps(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=normalizeClass([t.class,r.class]));else if(i==="style")t.style=normalizeStyle([t.style,r.style]);else if(isOn(i)){const a=t[i],o=r[i];o&&a!==o&&!(isArray(a)&&a.includes(o))&&(t[i]=a?[].concat(a,o):o)}else i!==""&&(t[i]=r[i])}return t}function invokeVNodeHook(e,t,n,r=null){callWithAsyncErrorHandling(e,t,7,[n,r])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||emptyAppContext,a={uid:uid++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(r,i),emitsOptions:normalizeEmitsOptions(r,i),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:r.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=emit.bind(null,a),e.ce&&e.ce(a),a}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,setInSSRSetupState;{const e=getGlobalThis(),t=(n,r)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(r),a=>{i.length>1?i.forEach(o=>o(a)):i[0](a)}};internalSetCurrentInstance=t("__VUE_INSTANCE_SETTERS__",n=>currentInstance=n),setInSSRSetupState=t("__VUE_SSR_SETTERS__",n=>isInSSRComponentSetup=n)}const setCurrentInstance=e=>{const t=currentInstance;return internalSetCurrentInstance(e),e.scope.on(),()=>{e.scope.off(),internalSetCurrentInstance(t)}},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(e){return e.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(e,t=!1,n=!1){t&&setInSSRSetupState(t);const{props:r,children:i}=e.vnode,a=isStatefulComponent(e);initProps(e,r,a,t),initSlots(e,i,n||t);const o=a?setupStatefulComponent(e,t):void 0;return t&&setInSSRSetupState(!1),o}function setupStatefulComponent(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,PublicInstanceProxyHandlers);const{setup:r}=n;if(r){pauseTracking();const i=e.setupContext=r.length>1?createSetupContext(e):null,a=setCurrentInstance(e),o=callWithErrorHandling(r,e,0,[e.props,i]),s=isPromise(o);if(resetTracking(),a(),(s||e.sp)&&!isAsyncWrapper(e)&&markAsyncBoundary(e),s){if(o.then(unsetCurrentInstance,unsetCurrentInstance),t)return o.then(l=>{handleSetupResult(e,l)}).catch(l=>{handleError(l,e,0)});e.asyncDep=o}else handleSetupResult(e,o)}else finishComponentSetup(e)}function handleSetupResult(e,t,n){isFunction(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:isObject(t)&&(e.setupState=proxyRefs(t)),finishComponentSetup(e)}function finishComponentSetup(e,t,n){const r=e.type;e.render||(e.render=r.render||NOOP);{const i=setCurrentInstance(e);pauseTracking();try{applyOptions(e)}finally{resetTracking(),i()}}}const attrsProxyHandlers={get(e,t){return track(e,"get",""),e[t]}};function createSetupContext(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,attrsProxyHandlers),slots:e.slots,emit:e.emit,expose:t}}function getComponentPublicInstance(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(proxyRefs(markRaw(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in publicPropertiesMap)return publicPropertiesMap[n](e)},has(t,n){return n in t||n in publicPropertiesMap}})):e.proxy}const classifyRE=/(?:^|[-_])\w/g,classify=e=>e.replace(classifyRE,t=>t.toUpperCase()).replace(/[-_]/g,"");function getComponentName(e,t=!0){return isFunction(e)?e.displayName||e.name:e.name||t&&e.__name}function formatComponentName(e,t,n=!1){let r=getComponentName(t);if(!r&&t.__file){const i=t.__file.match(/([^/\\]+)\.\w+$/);i&&(r=i[1])}if(!r&&e&&e.parent){const i=a=>{for(const o in a)if(a[o]===t)return o};r=i(e.components||e.parent.type.components)||i(e.appContext.components)}return r?classify(r):n?"App":"Anonymous"}function isClassComponent(e){return isFunction(e)&&"__vccOpts"in e}const computed=(e,t)=>computed$1(e,t,isInSSRComponentSetup);function h(e,t,n){try{setBlockTracking(-1);const r=arguments.length;return r===2?isObject(t)&&!isArray(t)?isVNode(t)?createVNode(e,null,[t]):createVNode(e,t):createVNode(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&isVNode(n)&&(n=[n]),createVNode(e,t,n))}finally{setBlockTracking(1)}}const version="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let policy;const tt=typeof window<"u"&&window.trustedTypes;if(tt)try{policy=tt.createPolicy("vue",{createHTML:e=>e})}catch{}const unsafeToTrustedHTML=policy?e=>policy.createHTML(e):e=>e,svgNS="http://www.w3.org/2000/svg",mathmlNS="http://www.w3.org/1998/Math/MathML",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t==="svg"?doc.createElementNS(svgNS,e):t==="mathml"?doc.createElementNS(mathmlNS,e):n?doc.createElement(e,{is:n}):doc.createElement(e);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>doc.createTextNode(e),createComment:e=>doc.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>doc.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,a){const o=n?n.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===a||!(i=i.nextSibling)););else{templateContainer.innerHTML=unsafeToTrustedHTML(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const s=templateContainer.content;if(r==="svg"||r==="mathml"){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}t.insertBefore(s,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},TRANSITION="transition",ANIMATION="animation",vtcKey=Symbol("_vtc"),DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=extend({},BaseTransitionPropsValidators,DOMTransitionPropsValidators),decorate$1=e=>(e.displayName="Transition",e.props=TransitionPropsValidators,e),Transition=decorate$1((e,{slots:t})=>h(BaseTransition,resolveTransitionProps(e),t)),callHook=(e,t=[])=>{isArray(e)?e.forEach(n=>n(...t)):e&&e(...t)},hasExplicitCallback=e=>e?isArray(e)?e.some(t=>t.length>1):e.length>1:!1;function resolveTransitionProps(e){const t={};for(const V in e)V in DOMTransitionPropsValidators||(t[V]=e[V]);if(e.css===!1)return t;const{name:n="v",type:r,duration:i,enterFromClass:a=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:s=`${n}-enter-to`,appearFromClass:l=a,appearActiveClass:c=o,appearToClass:u=s,leaveFromClass:m=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:d=`${n}-leave-to`}=e,b=normalizeDuration(i),_=b&&b[0],v=b&&b[1],{onBeforeEnter:T,onEnter:S,onEnterCancelled:I,onLeave:C,onLeaveCancelled:D,onBeforeAppear:F=T,onAppear:w=S,onAppearCancelled:A=I}=t,Y=(V,j,oe,ue)=>{V._enterCancelled=ue,removeTransitionClass(V,j?u:s),removeTransitionClass(V,j?c:o),oe&&oe()},L=(V,j)=>{V._isLeaving=!1,removeTransitionClass(V,m),removeTransitionClass(V,d),removeTransitionClass(V,f),j&&j()},U=V=>(j,oe)=>{const ue=V?w:S,ce=()=>Y(j,V,oe);callHook(ue,[j,ce]),nextFrame(()=>{removeTransitionClass(j,V?l:a),addTransitionClass(j,V?u:s),hasExplicitCallback(ue)||whenTransitionEnds(j,r,_,ce)})};return extend(t,{onBeforeEnter(V){callHook(T,[V]),addTransitionClass(V,a),addTransitionClass(V,o)},onBeforeAppear(V){callHook(F,[V]),addTransitionClass(V,l),addTransitionClass(V,c)},onEnter:U(!1),onAppear:U(!0),onLeave(V,j){V._isLeaving=!0;const oe=()=>L(V,j);addTransitionClass(V,m),V._enterCancelled?(addTransitionClass(V,f),forceReflow(V)):(forceReflow(V),addTransitionClass(V,f)),nextFrame(()=>{V._isLeaving&&(removeTransitionClass(V,m),addTransitionClass(V,d),hasExplicitCallback(C)||whenTransitionEnds(V,r,v,oe))}),callHook(C,[V,oe])},onEnterCancelled(V){Y(V,!1,void 0,!0),callHook(I,[V])},onAppearCancelled(V){Y(V,!0,void 0,!0),callHook(A,[V])},onLeaveCancelled(V){L(V),callHook(D,[V])}})}function normalizeDuration(e){if(e==null)return null;if(isObject(e))return[NumberOf(e.enter),NumberOf(e.leave)];{const t=NumberOf(e);return[t,t]}}function NumberOf(e){return toNumber(e)}function addTransitionClass(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[vtcKey]||(e[vtcKey]=new Set)).add(t)}function removeTransitionClass(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[vtcKey];n&&(n.delete(t),n.size||(e[vtcKey]=void 0))}function nextFrame(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let endId=0;function whenTransitionEnds(e,t,n,r){const i=e._endId=++endId,a=()=>{i===e._endId&&r()};if(n!=null)return setTimeout(a,n);const{type:o,timeout:s,propCount:l}=getTransitionInfo(e,t);if(!o)return r();const c=o+"end";let u=0;const m=()=>{e.removeEventListener(c,f),a()},f=d=>{d.target===e&&++u>=l&&m()};setTimeout(()=>{u<l&&m()},s+1),e.addEventListener(c,f)}function getTransitionInfo(e,t){const n=window.getComputedStyle(e),r=b=>(n[b]||"").split(", "),i=r(`${TRANSITION}Delay`),a=r(`${TRANSITION}Duration`),o=getTimeout(i,a),s=r(`${ANIMATION}Delay`),l=r(`${ANIMATION}Duration`),c=getTimeout(s,l);let u=null,m=0,f=0;t===TRANSITION?o>0&&(u=TRANSITION,m=o,f=a.length):t===ANIMATION?c>0&&(u=ANIMATION,m=c,f=l.length):(m=Math.max(o,c),u=m>0?o>c?TRANSITION:ANIMATION:null,f=u?u===TRANSITION?a.length:l.length:0);const d=u===TRANSITION&&/\b(?:transform|all)(?:,|$)/.test(r(`${TRANSITION}Property`).toString());return{type:u,timeout:m,propCount:f,hasTransform:d}}function getTimeout(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>toMs(n)+toMs(e[r])))}function toMs(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function forceReflow(e){return(e?e.ownerDocument:document).body.offsetHeight}function patchClass(e,t,n){const r=e[vtcKey];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const vShowOriginalDisplay=Symbol("_vod"),vShowHidden=Symbol("_vsh"),vShow={name:"show",beforeMount(e,{value:t},{transition:n}){e[vShowOriginalDisplay]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):setDisplay(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),setDisplay(e,!0),r.enter(e)):r.leave(e,()=>{setDisplay(e,!1)}):setDisplay(e,t))},beforeUnmount(e,{value:t}){setDisplay(e,t)}};function setDisplay(e,t){e.style.display=t?e[vShowOriginalDisplay]:"none",e[vShowHidden]=!t}const CSS_VAR_TEXT=Symbol(""),displayRE=/(?:^|;)\s*display\s*:/;function patchStyle(e,t,n){const r=e.style,i=isString(n);let a=!1;if(n&&!i){if(t)if(isString(t))for(const o of t.split(";")){const s=o.slice(0,o.indexOf(":")).trim();n[s]==null&&setStyle(r,s,"")}else for(const o in t)n[o]==null&&setStyle(r,o,"");for(const o in n)o==="display"&&(a=!0),setStyle(r,o,n[o])}else if(i){if(t!==n){const o=r[CSS_VAR_TEXT];o&&(n+=";"+o),r.cssText=n,a=displayRE.test(n)}}else t&&e.removeAttribute("style");vShowOriginalDisplay in e&&(e[vShowOriginalDisplay]=a?r.display:"",e[vShowHidden]&&(r.display="none"))}const importantRE=/\s*!important$/;function setStyle(e,t,n){if(isArray(n))n.forEach(r=>setStyle(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=autoPrefix(e,t);importantRE.test(n)?e.setProperty(hyphenate(r),n.replace(importantRE,""),"important"):e[r]=n}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(e,t){const n=prefixCache[t];if(n)return n;let r=camelize(t);if(r!=="filter"&&r in e)return prefixCache[t]=r;r=capitalize(r);for(let i=0;i<prefixes.length;i++){const a=prefixes[i]+r;if(a in e)return prefixCache[t]=a}return t}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(e,t,n,r,i,a=isSpecialBooleanAttr(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(xlinkNS,t.slice(6,t.length)):e.setAttributeNS(xlinkNS,t,n):n==null||a&&!includeBooleanAttr(n)?e.removeAttribute(t):e.setAttribute(t,a?"":isSymbol(n)?String(n):n)}function patchDOMProp(e,t,n,r,i){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?unsafeToTrustedHTML(n):n);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const s=a==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(s!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const s=typeof e[t];s==="boolean"?n=includeBooleanAttr(n):n==null&&s==="string"?(n="",o=!0):s==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(i||t)}function addEventListener(e,t,n,r){e.addEventListener(t,n,r)}function removeEventListener(e,t,n,r){e.removeEventListener(t,n,r)}const veiKey=Symbol("_vei");function patchEvent(e,t,n,r,i=null){const a=e[veiKey]||(e[veiKey]={}),o=a[t];if(r&&o)o.value=r;else{const[s,l]=parseName(t);if(r){const c=a[t]=createInvoker(r,i);addEventListener(e,s,c,l)}else o&&(removeEventListener(e,s,o,l),a[t]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(e){let t;if(optionsModifierRE.test(e)){t={};let r;for(;r=e.match(optionsModifierRE);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):hyphenate(e.slice(2)),t]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(r,n.value),t,5,[r])};return n.value=e,n.attached=getNow(),n}function patchStopImmediatePropagation(e,t){if(isArray(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const isNativeOn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,patchProp=(e,t,n,r,i,a)=>{const o=i==="svg";t==="class"?patchClass(e,r,o):t==="style"?patchStyle(e,n,r):isOn(t)?isModelListener(t)||patchEvent(e,t,n,r,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):shouldSetAsProp(e,t,r,o))?(patchDOMProp(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&patchAttr(e,t,r,o,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!isString(r))?patchDOMProp(e,camelize(t),r,a,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),patchAttr(e,t,r,o))};function shouldSetAsProp(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&isNativeOn(t)&&isFunction(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return isNativeOn(t)&&isString(n)?!1:t in e}const getModelAssigner=e=>{const t=e.props["onUpdate:modelValue"]||!1;return isArray(t)?n=>invokeArrayFns(t,n):t};function onCompositionStart(e){e.target.composing=!0}function onCompositionEnd(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const assignKey=Symbol("_assign"),vModelText={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e[assignKey]=getModelAssigner(i);const a=r||i.props&&i.props.type==="number";addEventListener(e,t?"change":"input",o=>{if(o.target.composing)return;let s=e.value;n&&(s=s.trim()),a&&(s=looseToNumber(s)),e[assignKey](s)}),n&&addEventListener(e,"change",()=>{e.value=e.value.trim()}),t||(addEventListener(e,"compositionstart",onCompositionStart),addEventListener(e,"compositionend",onCompositionEnd),addEventListener(e,"change",onCompositionEnd))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:i,number:a}},o){if(e[assignKey]=getModelAssigner(o),e.composing)return;const s=(a||e.type==="number")&&!/^0\d/.test(e.value)?looseToNumber(e.value):e.value,l=t??"";s!==l&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||i&&e.value.trim()===l)||(e.value=l))}},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=(i=>{if(!("key"in i))return;const a=hyphenate(i.key);if(t.some(o=>o===a||keyNames[o]===a))return e(i)}))},rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=((...e)=>{const t=ensureRenderer().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=normalizeContainer(r);if(!i)return;const a=t._component;!isFunction(a)&&!a.render&&!a.template&&(a.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,resolveRootNamespace(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t});function resolveRootNamespace(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function normalizeContainer(e){return isString(e)?document.querySelector(e):e}const _export_sfc=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},_hoisted_1$9={class:"background-stage",role:"presentation"},_hoisted_2$9={class:"background-glow"},_sfc_main$9={__name:"BackgroundStage",props:{image:{type:String,default:""},blur:{type:Number,default:6},overlay:{type:String,default:"rgba(6, 10, 26, 0.62)"}},setup(e){const t=e,n=Array.from({length:12},(s,l)=>l),r=ref(""),i=ref(!1);let a=0;watch(()=>t.image,s=>{const l=++a;if(!s){r.value="",i.value=!1;return}i.value=!1;const c=new Image;c.onload=()=>{l===a&&(r.value=s,i.value=!0)},c.onerror=()=>{l===a&&(i.value=!0)},c.src=s},{immediate:!0});const o=computed(()=>{const s={filter:"none"};return r.value&&(s.backgroundImage=`url(${r.value})`),s});return(s,l)=>(openBlock(),createElementBlock("div",_hoisted_1$9,[l[0]||(l[0]=createBaseVNode("div",{class:"background-gradient"},null,-1)),createVNode(Transition,{name:"bgfade",mode:"in-out"},{default:withCtx(()=>[(openBlock(),createElementBlock("div",{key:r.value||"noimg",class:normalizeClass(["background-image",{"background-image--hidden":!r.value,"background-image--loaded":i.value,"background-image--animate":i.value}]),style:normalizeStyle(o.value)},null,6))]),_:1}),l[1]||(l[1]=createBaseVNode("div",{class:"background-overlay"},null,-1)),createBaseVNode("div",_hoisted_2$9,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(n),c=>(openBlock(),createElementBlock("span",{key:c,class:"glow-dot"}))),128))])]))}},BackgroundStage=_export_sfc(_sfc_main$9,[["__scopeId","data-v-9f97d3e3"]]),scriptRel="modulepreload",assetsURL=function(e){return"/"+e},seen={},__vitePreload=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let l=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=o?.nonce||o?.getAttribute("nonce");i=l(n.map(c=>{if(c=assetsURL(c),c in seen)return;seen[c]=!0;const u=c.endsWith(".css"),m=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${m}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":scriptRel,u||(f.as="script"),f.crossOrigin="",f.href=c,s&&f.setAttribute("nonce",s),document.head.appendChild(f),u)return new Promise((d,b)=>{f.addEventListener("load",d),f.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return t().catch(a)})};var lib$3={},browser$3={exports:{}},ms,hasRequiredMs;function requireMs(){if(hasRequiredMs)return ms;hasRequiredMs=1;var e=1e3,t=e*60,n=t*60,r=n*24,i=r*7,a=r*365.25;ms=function(u,m){m=m||{};var f=typeof u;if(f==="string"&&u.length>0)return o(u);if(f==="number"&&isFinite(u))return m.long?l(u):s(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function o(u){if(u=String(u),!(u.length>100)){var m=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(m){var f=parseFloat(m[1]),d=(m[2]||"ms").toLowerCase();switch(d){case"years":case"year":case"yrs":case"yr":case"y":return f*a;case"weeks":case"week":case"w":return f*i;case"days":case"day":case"d":return f*r;case"hours":case"hour":case"hrs":case"hr":case"h":return f*n;case"minutes":case"minute":case"mins":case"min":case"m":return f*t;case"seconds":case"second":case"secs":case"sec":case"s":return f*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:return}}}}function s(u){var m=Math.abs(u);return m>=r?Math.round(u/r)+"d":m>=n?Math.round(u/n)+"h":m>=t?Math.round(u/t)+"m":m>=e?Math.round(u/e)+"s":u+"ms"}function l(u){var m=Math.abs(u);return m>=r?c(u,m,r,"day"):m>=n?c(u,m,n,"hour"):m>=t?c(u,m,t,"minute"):m>=e?c(u,m,e,"second"):u+" ms"}function c(u,m,f,d){var b=m>=f*1.5;return Math.round(u/f)+" "+d+(b?"s":"")}return ms}var common,hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common;hasRequiredCommon=1;function e(t){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=a,r.enabled=l,r.humanize=requireMs(),r.destroy=u,Object.keys(t).forEach(m=>{r[m]=t[m]}),r.names=[],r.skips=[],r.formatters={};function n(m){let f=0;for(let d=0;d<m.length;d++)f=(f<<5)-f+m.charCodeAt(d),f|=0;return r.colors[Math.abs(f)%r.colors.length]}r.selectColor=n;function r(m){let f,d=null,b,_;function v(...T){if(!v.enabled)return;const S=v,I=Number(new Date),C=I-(f||I);S.diff=C,S.prev=f,S.curr=I,f=I,T[0]=r.coerce(T[0]),typeof T[0]!="string"&&T.unshift("%O");let D=0;T[0]=T[0].replace(/%([a-zA-Z%])/g,(w,A)=>{if(w==="%%")return"%";D++;const Y=r.formatters[A];if(typeof Y=="function"){const L=T[D];w=Y.call(S,L),T.splice(D,1),D--}return w}),r.formatArgs.call(S,T),(S.log||r.log).apply(S,T)}return v.namespace=m,v.useColors=r.useColors(),v.color=r.selectColor(m),v.extend=i,v.destroy=r.destroy,Object.defineProperty(v,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(b!==r.namespaces&&(b=r.namespaces,_=r.enabled(m)),_),set:T=>{d=T}}),typeof r.init=="function"&&r.init(v),v}function i(m,f){const d=r(this.namespace+(typeof f>"u"?":":f)+m);return d.log=this.log,d}function a(m){r.save(m),r.namespaces=m,r.names=[],r.skips=[];const f=(typeof m=="string"?m:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const d of f)d[0]==="-"?r.skips.push(d.slice(1)):r.names.push(d)}function o(m,f){let d=0,b=0,_=-1,v=0;for(;d<m.length;)if(b<f.length&&(f[b]===m[d]||f[b]==="*"))f[b]==="*"?(_=b,v=d,b++):(d++,b++);else if(_!==-1)b=_+1,v++,d=v;else return!1;for(;b<f.length&&f[b]==="*";)b++;return b===f.length}function s(){const m=[...r.names,...r.skips.map(f=>"-"+f)].join(",");return r.enable(""),m}function l(m){for(const f of r.skips)if(o(m,f))return!1;for(const f of r.names)if(o(m,f))return!0;return!1}function c(m){return m instanceof Error?m.stack||m.message:m}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}return common=e,common}var hasRequiredBrowser$3;function requireBrowser$3(){return hasRequiredBrowser$3||(hasRequiredBrowser$3=1,(function(e,t){var n={};t.formatArgs=i,t.save=a,t.load=o,t.useColors=r,t.storage=s(),t.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let c;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(c=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(c[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;c.splice(1,0,u,"color: inherit");let m=0,f=0;c[0].replace(/%[a-zA-Z%]/g,d=>{d!=="%%"&&(m++,d==="%c"&&(f=m))}),c.splice(f,0,u)}t.log=console.debug||console.log||(()=>{});function a(c){try{c?t.storage.setItem("debug",c):t.storage.removeItem("debug")}catch{}}function o(){let c;try{c=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=n.DEBUG),c}function s(){try{return localStorage}catch{}}e.exports=requireCommon()(t);const{formatters:l}=e.exports;l.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(browser$3,browser$3.exports)),browser$3.exports}var core$2={},core$1={},ReadStreamTokenizer={},AbstractTokenizer={},lib$2={},EndOfFileStream={},hasRequiredEndOfFileStream;function requireEndOfFileStream(){return hasRequiredEndOfFileStream||(hasRequiredEndOfFileStream=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.EndOfStreamError=e.defaultMessages=void 0,e.defaultMessages="End-Of-Stream";class t extends Error{constructor(){super(e.defaultMessages)}}e.EndOfStreamError=t})(EndOfFileStream)),EndOfFileStream}var StreamReader={},Deferred={},hasRequiredDeferred;function requireDeferred(){if(hasRequiredDeferred)return Deferred;hasRequiredDeferred=1,Object.defineProperty(Deferred,"__esModule",{value:!0}),Deferred.Deferred=void 0;let e=class{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise((n,r)=>{this.reject=r,this.resolve=n})}};return Deferred.Deferred=e,Deferred}var hasRequiredStreamReader;function requireStreamReader(){return hasRequiredStreamReader||(hasRequiredStreamReader=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.StreamReader=e.EndOfStreamError=void 0;const t=requireEndOfFileStream(),n=requireDeferred();var r=requireEndOfFileStream();Object.defineProperty(e,"EndOfStreamError",{enumerable:!0,get:function(){return r.EndOfStreamError}});const i=1*1024*1024;class a{constructor(s){if(this.s=s,this.deferred=null,this.endOfStream=!1,this.peekQueue=[],!s.read||!s.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",()=>this.reject(new t.EndOfStreamError)),this.s.once("error",l=>this.reject(l)),this.s.once("close",()=>this.reject(new Error("Stream closed")))}async peek(s,l,c){const u=await this.read(s,l,c);return this.peekQueue.push(s.subarray(l,l+u)),u}async read(s,l,c){if(c===0)return 0;if(this.peekQueue.length===0&&this.endOfStream)throw new t.EndOfStreamError;let u=c,m=0;for(;this.peekQueue.length>0&&u>0;){const f=this.peekQueue.pop();if(!f)throw new Error("peekData should be defined");const d=Math.min(f.length,u);s.set(f.subarray(0,d),l+m),m+=d,u-=d,d<f.length&&this.peekQueue.push(f.subarray(d))}for(;u>0&&!this.endOfStream;){const f=Math.min(u,i),d=await this.readFromStream(s,l+m,f);if(m+=d,d<f)break;u-=d}return m}async readFromStream(s,l,c){const u=this.s.read(c);if(u)return s.set(u,l),u.length;{const m={buffer:s,offset:l,length:c,deferred:new n.Deferred};return this.deferred=m.deferred,this.s.once("readable",()=>{this.readDeferred(m)}),m.deferred.promise}}readDeferred(s){const l=this.s.read(s.length);l?(s.buffer.set(l,s.offset),s.deferred.resolve(l.length),this.deferred=null):this.s.once("readable",()=>{this.readDeferred(s)})}reject(s){this.endOfStream=!0,this.deferred&&(this.deferred.reject(s),this.deferred=null)}}e.StreamReader=a})(StreamReader)),StreamReader}var hasRequiredLib$3;function requireLib$3(){return hasRequiredLib$3||(hasRequiredLib$3=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.StreamReader=e.EndOfStreamError=void 0;var t=requireEndOfFileStream();Object.defineProperty(e,"EndOfStreamError",{enumerable:!0,get:function(){return t.EndOfStreamError}});var n=requireStreamReader();Object.defineProperty(e,"StreamReader",{enumerable:!0,get:function(){return n.StreamReader}})})(lib$2)),lib$2}var hasRequiredAbstractTokenizer;function requireAbstractTokenizer(){if(hasRequiredAbstractTokenizer)return AbstractTokenizer;hasRequiredAbstractTokenizer=1,Object.defineProperty(AbstractTokenizer,"__esModule",{value:!0}),AbstractTokenizer.AbstractTokenizer=void 0;const e=requireLib$3();let t=class{constructor(r){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=r||{}}async readToken(r,i=this.position){const a=Buffer.alloc(r.len);if(await this.readBuffer(a,{position:i})<r.len)throw new e.EndOfStreamError;return r.get(a,0)}async peekToken(r,i=this.position){const a=Buffer.alloc(r.len);if(await this.peekBuffer(a,{position:i})<r.len)throw new e.EndOfStreamError;return r.get(a,0)}async readNumber(r){if(await this.readBuffer(this.numBuffer,{length:r.len})<r.len)throw new e.EndOfStreamError;return r.get(this.numBuffer,0)}async peekNumber(r){if(await this.peekBuffer(this.numBuffer,{length:r.len})<r.len)throw new e.EndOfStreamError;return r.get(this.numBuffer,0)}async ignore(r){if(this.fileInfo.size!==void 0){const i=this.fileInfo.size-this.position;if(r>i)return this.position+=i,i}return this.position+=r,r}async close(){}normalizeOptions(r,i){if(i&&i.position!==void 0&&i.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return i?{mayBeLess:i.mayBeLess===!0,offset:i.offset?i.offset:0,length:i.length?i.length:r.length-(i.offset?i.offset:0),position:i.position?i.position:this.position}:{mayBeLess:!1,offset:0,length:r.length,position:this.position}}};return AbstractTokenizer.AbstractTokenizer=t,AbstractTokenizer}var hasRequiredReadStreamTokenizer;function requireReadStreamTokenizer(){if(hasRequiredReadStreamTokenizer)return ReadStreamTokenizer;hasRequiredReadStreamTokenizer=1,Object.defineProperty(ReadStreamTokenizer,"__esModule",{value:!0}),ReadStreamTokenizer.ReadStreamTokenizer=void 0;const e=requireAbstractTokenizer(),t=requireLib$3(),n=256e3;let r=class extends e.AbstractTokenizer{constructor(a,o){super(o),this.streamReader=new t.StreamReader(a)}async getFileInfo(){return this.fileInfo}async readBuffer(a,o){const s=this.normalizeOptions(a,o),l=s.position-this.position;if(l>0)return await this.ignore(l),this.readBuffer(a,o);if(l<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(s.length===0)return 0;const c=await this.streamReader.read(a,s.offset,s.length);if(this.position+=c,(!o||!o.mayBeLess)&&c<s.length)throw new t.EndOfStreamError;return c}async peekBuffer(a,o){const s=this.normalizeOptions(a,o);let l=0;if(s.position){const c=s.position-this.position;if(c>0){const u=new Uint8Array(s.length+c);return l=await this.peekBuffer(u,{mayBeLess:s.mayBeLess}),a.set(u.subarray(c),s.offset),l-c}else if(c<0)throw new Error("Cannot peek from a negative offset in a stream")}if(s.length>0){try{l=await this.streamReader.peek(a,s.offset,s.length)}catch(c){if(o&&o.mayBeLess&&c instanceof t.EndOfStreamError)return 0;throw c}if(!s.mayBeLess&&l<s.length)throw new t.EndOfStreamError}return l}async ignore(a){const o=Math.min(n,a),s=new Uint8Array(o);let l=0;for(;l<a;){const c=a-l,u=await this.readBuffer(s,{length:Math.min(o,c)});if(u<0)return u;l+=u}return l}};return ReadStreamTokenizer.ReadStreamTokenizer=r,ReadStreamTokenizer}var BufferTokenizer={},hasRequiredBufferTokenizer;function requireBufferTokenizer(){if(hasRequiredBufferTokenizer)return BufferTokenizer;hasRequiredBufferTokenizer=1,Object.defineProperty(BufferTokenizer,"__esModule",{value:!0}),BufferTokenizer.BufferTokenizer=void 0;const e=requireLib$3(),t=requireAbstractTokenizer();let n=class extends t.AbstractTokenizer{constructor(i,a){super(a),this.uint8Array=i,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:i.length}async readBuffer(i,a){if(a&&a.position){if(a.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=a.position}const o=await this.peekBuffer(i,a);return this.position+=o,o}async peekBuffer(i,a){const o=this.normalizeOptions(i,a),s=Math.min(this.uint8Array.length-o.position,o.length);if(!o.mayBeLess&&s<o.length)throw new e.EndOfStreamError;return i.set(this.uint8Array.subarray(o.position,o.position+s),o.offset),s}async close(){}};return BufferTokenizer.BufferTokenizer=n,BufferTokenizer}var hasRequiredCore$2;function requireCore$2(){return hasRequiredCore$2||(hasRequiredCore$2=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fromBuffer=e.fromStream=e.EndOfStreamError=void 0;const t=requireReadStreamTokenizer(),n=requireBufferTokenizer();var r=requireLib$3();Object.defineProperty(e,"EndOfStreamError",{enumerable:!0,get:function(){return r.EndOfStreamError}});function i(o,s){return s=s||{},new t.ReadStreamTokenizer(o,s)}e.fromStream=i;function a(o,s){return new n.BufferTokenizer(o,s)}e.fromBuffer=a})(core$1)),core$1}var ParserFactory={},lib$1={},ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredIeee754;function requireIeee754(){return hasRequiredIeee754||(hasRequiredIeee754=1,ieee754.read=function(e,t,n,r,i){var a,o,s=i*8-r-1,l=(1<<s)-1,c=l>>1,u=-7,m=n?i-1:0,f=n?-1:1,d=e[t+m];for(m+=f,a=d&(1<<-u)-1,d>>=-u,u+=s;u>0;a=a*256+e[t+m],m+=f,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=r;u>0;o=o*256+e[t+m],m+=f,u-=8);if(a===0)a=1-c;else{if(a===l)return o?NaN:(d?-1:1)*(1/0);o=o+Math.pow(2,r),a=a-c}return(d?-1:1)*o*Math.pow(2,a-r)},ieee754.write=function(e,t,n,r,i,a){var o,s,l,c=a*8-i-1,u=(1<<c)-1,m=u>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:a-1,b=r?1:-1,_=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+m>=1?t+=f/l:t+=f*Math.pow(2,1-m),t*l>=2&&(o++,l/=2),o+m>=u?(s=0,o=u):o+m>=1?(s=(t*l-1)*Math.pow(2,i),o=o+m):(s=t*Math.pow(2,m-1)*Math.pow(2,i),o=0));i>=8;e[n+d]=s&255,d+=b,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[n+d]=o&255,d+=b,o/=256,c-=8);e[n+d-b]|=_*128}),ieee754}var hasRequiredLib$2;function requireLib$2(){return hasRequiredLib$2||(hasRequiredLib$2=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AnsiStringType=e.StringType=e.BufferType=e.Uint8ArrayType=e.IgnoreType=e.Float80_LE=e.Float80_BE=e.Float64_LE=e.Float64_BE=e.Float32_LE=e.Float32_BE=e.Float16_LE=e.Float16_BE=e.INT64_BE=e.UINT64_BE=e.INT64_LE=e.UINT64_LE=e.INT32_LE=e.INT32_BE=e.INT24_BE=e.INT24_LE=e.INT16_LE=e.INT16_BE=e.INT8=e.UINT32_BE=e.UINT32_LE=e.UINT24_BE=e.UINT24_LE=e.UINT16_BE=e.UINT16_LE=e.UINT8=void 0;const t=requireIeee754();function n(l){return new DataView(l.buffer,l.byteOffset)}e.UINT8={len:1,get(l,c){return n(l).getUint8(c)},put(l,c,u){return n(l).setUint8(c,u),c+1}},e.UINT16_LE={len:2,get(l,c){return n(l).getUint16(c,!0)},put(l,c,u){return n(l).setUint16(c,u,!0),c+2}},e.UINT16_BE={len:2,get(l,c){return n(l).getUint16(c)},put(l,c,u){return n(l).setUint16(c,u),c+2}},e.UINT24_LE={len:3,get(l,c){const u=n(l);return u.getUint8(c)+(u.getUint16(c+1,!0)<<8)},put(l,c,u){const m=n(l);return m.setUint8(c,u&255),m.setUint16(c+1,u>>8,!0),c+3}},e.UINT24_BE={len:3,get(l,c){const u=n(l);return(u.getUint16(c)<<8)+u.getUint8(c+2)},put(l,c,u){const m=n(l);return m.setUint16(c,u>>8),m.setUint8(c+2,u&255),c+3}},e.UINT32_LE={len:4,get(l,c){return n(l).getUint32(c,!0)},put(l,c,u){return n(l).setUint32(c,u,!0),c+4}},e.UINT32_BE={len:4,get(l,c){return n(l).getUint32(c)},put(l,c,u){return n(l).setUint32(c,u),c+4}},e.INT8={len:1,get(l,c){return n(l).getInt8(c)},put(l,c,u){return n(l).setInt8(c,u),c+1}},e.INT16_BE={len:2,get(l,c){return n(l).getInt16(c)},put(l,c,u){return n(l).setInt16(c,u),c+2}},e.INT16_LE={len:2,get(l,c){return n(l).getInt16(c,!0)},put(l,c,u){return n(l).setInt16(c,u,!0),c+2}},e.INT24_LE={len:3,get(l,c){const u=e.UINT24_LE.get(l,c);return u>8388607?u-16777216:u},put(l,c,u){const m=n(l);return m.setUint8(c,u&255),m.setUint16(c+1,u>>8,!0),c+3}},e.INT24_BE={len:3,get(l,c){const u=e.UINT24_BE.get(l,c);return u>8388607?u-16777216:u},put(l,c,u){const m=n(l);return m.setUint16(c,u>>8),m.setUint8(c+2,u&255),c+3}},e.INT32_BE={len:4,get(l,c){return n(l).getInt32(c)},put(l,c,u){return n(l).setInt32(c,u),c+4}},e.INT32_LE={len:4,get(l,c){return n(l).getInt32(c,!0)},put(l,c,u){return n(l).setInt32(c,u,!0),c+4}},e.UINT64_LE={len:8,get(l,c){return n(l).getBigUint64(c,!0)},put(l,c,u){return n(l).setBigUint64(c,u,!0),c+8}},e.INT64_LE={len:8,get(l,c){return n(l).getBigInt64(c,!0)},put(l,c,u){return n(l).setBigInt64(c,u,!0),c+8}},e.UINT64_BE={len:8,get(l,c){return n(l).getBigUint64(c)},put(l,c,u){return n(l).setBigUint64(c,u),c+8}},e.INT64_BE={len:8,get(l,c){return n(l).getBigInt64(c)},put(l,c,u){return n(l).setBigInt64(c,u),c+8}},e.Float16_BE={len:2,get(l,c){return t.read(l,c,!1,10,this.len)},put(l,c,u){return t.write(l,u,c,!1,10,this.len),c+this.len}},e.Float16_LE={len:2,get(l,c){return t.read(l,c,!0,10,this.len)},put(l,c,u){return t.write(l,u,c,!0,10,this.len),c+this.len}},e.Float32_BE={len:4,get(l,c){return n(l).getFloat32(c)},put(l,c,u){return n(l).setFloat32(c,u),c+4}},e.Float32_LE={len:4,get(l,c){return n(l).getFloat32(c,!0)},put(l,c,u){return n(l).setFloat32(c,u,!0),c+4}},e.Float64_BE={len:8,get(l,c){return n(l).getFloat64(c)},put(l,c,u){return n(l).setFloat64(c,u),c+8}},e.Float64_LE={len:8,get(l,c){return n(l).getFloat64(c,!0)},put(l,c,u){return n(l).setFloat64(c,u,!0),c+8}},e.Float80_BE={len:10,get(l,c){return t.read(l,c,!1,63,this.len)},put(l,c,u){return t.write(l,u,c,!1,63,this.len),c+this.len}},e.Float80_LE={len:10,get(l,c){return t.read(l,c,!0,63,this.len)},put(l,c,u){return t.write(l,u,c,!0,63,this.len),c+this.len}};class r{constructor(c){this.len=c}get(c,u){}}e.IgnoreType=r;class i{constructor(c){this.len=c}get(c,u){return c.subarray(u,u+this.len)}}e.Uint8ArrayType=i;class a{constructor(c){this.len=c}get(c,u){return Buffer.from(c.subarray(u,u+this.len))}}e.BufferType=a;class o{constructor(c,u){this.len=c,this.encoding=u}get(c,u){return Buffer.from(c).toString(this.encoding,u,u+this.len)}}e.StringType=o;class s{constructor(c){this.len=c}static decode(c,u,m){let f="";for(let d=u;d<m;++d)f+=s.codePointToString(s.singleByteDecoder(c[d]));return f}static inRange(c,u,m){return u<=c&&c<=m}static codePointToString(c){return c<=65535?String.fromCharCode(c):(c-=65536,String.fromCharCode((c>>10)+55296,(c&1023)+56320))}static singleByteDecoder(c){if(s.inRange(c,0,127))return c;const u=s.windows1252[c-128];if(u===null)throw Error("invaliding encoding");return u}get(c,u=0){return s.decode(c,u,u+this.len)}}e.AnsiStringType=s,s.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]})(lib$1)),lib$1}var util$1={},hasRequiredUtil$2;function requireUtil$2(){return hasRequiredUtil$2||(hasRequiredUtil$2=1,util$1.stringToBytes=e=>[...e].map(t=>t.charCodeAt(0)),util$1.tarHeaderChecksumMatches=(e,t=0)=>{const n=parseInt(e.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN(n))return!1;let r=256;for(let i=t;i<t+148;i++)r+=e[i];for(let i=t+156;i<t+512;i++)r+=e[i];return n===r},util$1.uint32SyncSafeToken={get:(e,t)=>e[t+3]&127|e[t+2]<<7|e[t+1]<<14|e[t]<<21,len:4}),util$1}var supported,hasRequiredSupported;function requireSupported(){return hasRequiredSupported||(hasRequiredSupported=1,supported={extensions:["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd"]}),supported}var core,hasRequiredCore$1;function requireCore$1(){if(hasRequiredCore$1)return core;hasRequiredCore$1=1;const Token=requireLib$2(),strtok3=requireCore$2(),{stringToBytes,tarHeaderChecksumMatches,uint32SyncSafeToken}=requireUtil$2(),supported=requireSupported(),minimumBytes=4100;async function fromStream(e){const t=await strtok3.fromStream(e);try{return await fromTokenizer(t)}finally{await t.close()}}async function fromBuffer(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer||Buffer.isBuffer(e)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof e}\``);const t=e instanceof Buffer?e:Buffer.from(e);if(!(t&&t.length>1))return;const n=strtok3.fromBuffer(t);return fromTokenizer(n)}function _check(e,t,n){n={offset:0,...n};for(const[r,i]of t.entries())if(n.mask){if(i!==(n.mask[r]&e[r+n.offset]))return!1}else if(i!==e[r+n.offset])return!1;return!0}async function fromTokenizer(e){try{return _fromTokenizer(e)}catch(t){if(!(t instanceof strtok3.EndOfStreamError))throw t}}async function _fromTokenizer(e){let t=Buffer.alloc(minimumBytes);const n=12,r=(a,o)=>_check(t,a,o),i=(a,o)=>r(stringToBytes(a),o);if(e.fileInfo.size||(e.fileInfo.size=Number.MAX_SAFE_INTEGER),await e.peekBuffer(t,{length:n,mayBeLess:!0}),r([66,77]))return{ext:"bmp",mime:"image/bmp"};if(r([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(r([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(r([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(r([37,33]))return await e.peekBuffer(t,{length:24,mayBeLess:!0}),i("PS-Adobe-",{offset:2})&&i(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(r([31,160])||r([31,157]))return{ext:"Z",mime:"application/x-compress"};if(r([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(r([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(r([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(r([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(i("ID3")){await e.ignore(6);const a=await e.readToken(uint32SyncSafeToken);return e.position+a>e.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await e.ignore(a),fromTokenizer(e))}if(i("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((t[0]===67||t[0]===70)&&r([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(r([71,73,70]))return{ext:"gif",mime:"image/gif"};if(i("FLIF"))return{ext:"flif",mime:"image/flif"};if(i("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(i("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(i("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(i("FORM"))return{ext:"aif",mime:"audio/aiff"};if(i("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(r([80,75,3,4])){try{for(;e.position+30<e.fileInfo.size;){await e.readBuffer(t,{length:30});const a={compressedSize:t.readUInt32LE(18),uncompressedSize:t.readUInt32LE(22),filenameLength:t.readUInt16LE(26),extraFieldLength:t.readUInt16LE(28)};if(a.filename=await e.readToken(new Token.StringType(a.filenameLength,"utf-8")),await e.ignore(a.extraFieldLength),a.filename==="META-INF/mozilla.rsa")return{ext:"xpi",mime:"application/x-xpinstall"};if(a.filename.endsWith(".rels")||a.filename.endsWith(".xml"))switch(a.filename.split("/")[0]){case"_rels":break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};default:break}if(a.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(a.filename.startsWith("3D/")&&a.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if(a.filename==="mimetype"&&a.compressedSize===a.uncompressedSize)switch(await e.readToken(new Token.StringType(a.compressedSize,"utf-8"))){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};default:}if(a.compressedSize===0){let o=-1;for(;o<0&&e.position<e.fileInfo.size;)await e.peekBuffer(t,{mayBeLess:!0}),o=t.indexOf("504B0304",0,"hex"),await e.ignore(o>=0?o:t.length)}else await e.ignore(a.compressedSize)}}catch(a){if(!(a instanceof strtok3.EndOfStreamError))throw a}return{ext:"zip",mime:"application/zip"}}if(i("OggS")){await e.ignore(28);const a=Buffer.alloc(8);return await e.readBuffer(a),_check(a,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/opus"}:_check(a,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:_check(a,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:_check(a,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:_check(a,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:_check(a,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(r([80,75])&&(t[2]===3||t[2]===5||t[2]===7)&&(t[3]===4||t[3]===6||t[3]===8))return{ext:"zip",mime:"application/zip"};if(i("ftyp",{offset:4})&&(t[8]&96)!==0){const a=t.toString("binary",8,12).replace("\0"," ").trim();switch(a){case"avif":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return a.startsWith("3g")?a.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(i("MThd"))return{ext:"mid",mime:"audio/midi"};if(i("wOFF")&&(r([0,1,0,0],{offset:4})||i("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(i("wOF2")&&(r([0,1,0,0],{offset:4})||i("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(r([212,195,178,161])||r([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(i("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(i("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(i("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(r([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(i("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(i("%PDF")){await e.ignore(1350);const a=10*1024*1024,o=Buffer.alloc(Math.min(a,e.fileInfo.size));return await e.readBuffer(o,{mayBeLess:!0}),o.includes(Buffer.from("AIPrivateData"))?{ext:"ai",mime:"application/postscript"}:{ext:"pdf",mime:"application/pdf"}}if(r([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(r([73,73,42,0]))return i("CR",{offset:8})?{ext:"cr2",mime:"image/x-canon-cr2"}:r([28,0,254,0],{offset:8})||r([31,0,11,0],{offset:8})?{ext:"nef",mime:"image/x-nikon-nef"}:r([8,0,0,0],{offset:4})&&(r([45,0,254,0],{offset:8})||r([39,0,254,0],{offset:8}))?{ext:"dng",mime:"image/x-adobe-dng"}:(t=Buffer.alloc(24),await e.peekBuffer(t),(r([16,251,134,1],{offset:4})||r([8,0,0,0],{offset:4}))&&r([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9})?{ext:"arw",mime:"image/x-sony-arw"}:{ext:"tif",mime:"image/tiff"});if(r([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(i("MAC "))return{ext:"ape",mime:"audio/ape"};if(r([26,69,223,163])){async function a(){const u=await e.peekNumber(Token.UINT8);let m=128,f=0;for(;(u&m)===0&&m!==0;)++f,m>>=1;const d=Buffer.alloc(f+1);return await e.readBuffer(d),d}async function o(){const u=await a(),m=await a();m[0]^=128>>m.length-1;const f=Math.min(6,m.length);return{id:u.readUIntBE(0,u.length),len:m.readUIntBE(m.length-f,f)}}async function s(u,m){for(;m>0;){const f=await o();if(f.id===17026)return e.readToken(new Token.StringType(f.len,"utf-8"));await e.ignore(f.len),--m}}const l=await o();switch(await s(1,l.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(r([82,73,70,70])){if(r([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(r([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(r([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(i("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(r([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(i("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(i("MSCF")||i("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(r([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(r([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(r([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(r([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(i("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(i("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(r([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(i("IMPM"))return{ext:"it",mime:"audio/x-it"};if(i("-lh0-",{offset:2})||i("-lh1-",{offset:2})||i("-lh2-",{offset:2})||i("-lh3-",{offset:2})||i("-lh4-",{offset:2})||i("-lh5-",{offset:2})||i("-lh6-",{offset:2})||i("-lh7-",{offset:2})||i("-lzs-",{offset:2})||i("-lz4-",{offset:2})||i("-lz5-",{offset:2})||i("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(r([0,0,1,186])){if(r([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(r([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(i("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(r([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(i("<?xml "))return{ext:"xml",mime:"application/xml"};if(r([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(r([82,97,114,33,26,7])&&(t[6]===0||t[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(i("solid "))return{ext:"stl",mime:"model/stl"};if(i("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(i("!<arch>"))return await e.ignore(8),await e.readToken(new Token.StringType(13,"ascii"))==="debian-binary"?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(r([137,80,78,71,13,10,26,10])){await e.ignore(8);async function a(){return{length:await e.readToken(Token.INT32_BE),type:await e.readToken(new Token.StringType(4,"binary"))}}do{const o=await a();if(o.length<0)return;switch(o.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await e.ignore(o.length+4)}}while(e.position+8<e.fileInfo.size);return{ext:"png",mime:"image/png"}}if(r([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(r([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(r([102,114,101,101],{offset:4})||r([109,100,97,116],{offset:4})||r([109,111,111,118],{offset:4})||r([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(r([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(i("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(r([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(r([48,38,178,117,142,102,207,17,166,217])){async function a(){const o=Buffer.alloc(16);return await e.readBuffer(o),{id:o,size:Number(await e.readToken(Token.UINT64_LE))}}for(await e.ignore(30);e.position+24<e.fileInfo.size;){const o=await a();let s=o.size-24;if(_check(o.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){const l=Buffer.alloc(16);if(s-=await e.readBuffer(l),_check(l,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(_check(l,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await e.ignore(s)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(r([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((r([126,16,4])||r([126,24,4]))&&r([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(r([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(r([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await e.ignore(20),await e.readToken(new Token.StringType(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(r([255,10])||r([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(r([0,0,1,186])||r([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(r([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(r([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(r([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(r([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await e.peekBuffer(t,{length:Math.min(256,e.fileInfo.size),mayBeLess:!0}),i("BEGIN:")){if(i("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(i("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(i("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(i("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(i("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(r([4,0,0,0])&&t.length>=16){const a=t.readUInt32LE(12);if(a>12&&t.length>=a+16)try{const o=t.slice(16,a+16).toString();if(JSON.parse(o).files)return{ext:"asar",mime:"application/x-asar"}}catch{}}if(r([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(i("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(r([71],{offset:4})&&(r([71],{offset:192})||r([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(r([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(r([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(r([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(r([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(r([76,80],{offset:34})&&(r([0,0,1],{offset:8})||r([1,0,2],{offset:8})||r([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(r([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await e.peekBuffer(t,{length:Math.min(512,e.fileInfo.size),mayBeLess:!0}),tarHeaderChecksumMatches(t))return{ext:"tar",mime:"application/x-tar"};if(r([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0]))return{ext:"skp",mime:"application/vnd.sketchup.skp"};if(i("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(t.length>=2&&r([255,224],{offset:0,mask:[255,224]})){if(r([16],{offset:1,mask:[22]}))return r([8],{offset:1,mask:[8]})?{ext:"aac",mime:"audio/aac"}:{ext:"aac",mime:"audio/aac"};if(r([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(r([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(r([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}const stream=readableStream=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",async()=>{const e=new stream.PassThrough;let t;stream.pipeline?t=stream.pipeline(readableStream,e,()=>{}):t=readableStream.pipe(e);const n=readableStream.read(minimumBytes)||readableStream.read()||Buffer.alloc(0);try{const r=await fromBuffer(n);e.fileType=r}catch(r){reject(r)}resolve(t)})}),fileType={fromStream,fromTokenizer,fromBuffer,stream};return Object.defineProperty(fileType,"extensions",{get(){return new Set(supported.extensions)}}),Object.defineProperty(fileType,"mimeTypes",{get(){return new Set(supported.mimeTypes)}}),core=fileType,core}var contentType={};/*!
 * content-type
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var hasRequiredContentType;function requireContentType(){if(hasRequiredContentType)return contentType;hasRequiredContentType=1;var e=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,t=/^[\u000b\u0020-\u007e\u0080-\u00ff]+$/,n=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,r=/\\([\u000b\u0020-\u00ff])/g,i=/([\\"])/g,a=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/;contentType.format=o,contentType.parse=s;function o(m){if(!m||typeof m!="object")throw new TypeError("argument obj is required");var f=m.parameters,d=m.type;if(!d||!a.test(d))throw new TypeError("invalid type");var b=d;if(f&&typeof f=="object")for(var _,v=Object.keys(f).sort(),T=0;T<v.length;T++){if(_=v[T],!n.test(_))throw new TypeError("invalid parameter name");b+="; "+_+"="+c(f[_])}return b}function s(m){if(!m)throw new TypeError("argument string is required");var f=typeof m=="object"?l(m):m;if(typeof f!="string")throw new TypeError("argument string is required to be a string");var d=f.indexOf(";"),b=d!==-1?f.slice(0,d).trim():f.trim();if(!a.test(b))throw new TypeError("invalid media type");var _=new u(b.toLowerCase());if(d!==-1){var v,T,S;for(e.lastIndex=d;T=e.exec(f);){if(T.index!==d)throw new TypeError("invalid parameter format");d+=T[0].length,v=T[1].toLowerCase(),S=T[2],S.charCodeAt(0)===34&&(S=S.slice(1,-1),S.indexOf("\\")!==-1&&(S=S.replace(r,"$1"))),_.parameters[v]=S}if(d!==f.length)throw new TypeError("invalid parameter format")}return _}function l(m){var f;if(typeof m.getHeader=="function"?f=m.getHeader("content-type"):typeof m.headers=="object"&&(f=m.headers&&m.headers["content-type"]),typeof f!="string")throw new TypeError("content-type header is missing from object");return f}function c(m){var f=String(m);if(n.test(f))return f;if(f.length>0&&!t.test(f))throw new TypeError("invalid parameter value");return'"'+f.replace(i,"\\$1")+'"'}function u(m){this.parameters=Object.create(null),this.type=m}return contentType}var mediaTyper={};/*!
 * media-typer
 * Copyright(c) 2014-2017 Douglas Christopher Wilson
 * MIT Licensed
 */var hasRequiredMediaTyper;function requireMediaTyper(){if(hasRequiredMediaTyper)return mediaTyper;hasRequiredMediaTyper=1;var e=/^[A-Za-z0-9][A-Za-z0-9!#$&^_.-]{0,126}$/,t=/^[A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126}$/,n=/^ *([A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126})\/([A-Za-z0-9][A-Za-z0-9!#$&^_.+-]{0,126}) *$/;mediaTyper.format=r,mediaTyper.parse=a,mediaTyper.test=i;function r(s){if(!s||typeof s!="object")throw new TypeError("argument obj is required");var l=s.subtype,c=s.suffix,u=s.type;if(!u||!t.test(u))throw new TypeError("invalid type");if(!l||!e.test(l))throw new TypeError("invalid subtype");var m=u+"/"+l;if(c){if(!t.test(c))throw new TypeError("invalid suffix");m+="+"+c}return m}function i(s){if(!s)throw new TypeError("argument string is required");if(typeof s!="string")throw new TypeError("argument string is required to be a string");return n.test(s.toLowerCase())}function a(s){if(!s)throw new TypeError("argument string is required");if(typeof s!="string")throw new TypeError("argument string is required to be a string");var l=n.exec(s.toLowerCase());if(!l)throw new TypeError("invalid media type");var c=l[1],u=l[2],m,f=u.lastIndexOf("+");return f!==-1&&(m=u.substr(f+1),u=u.substr(0,f)),new o(c,u,m)}function o(s,l,c){this.type=s,this.subtype=l,this.suffix=c}return mediaTyper}var MetadataCollector={},type={},types={},hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.TrackType=e.TargetType=e.DataType=void 0,(function(t){t[t.string=0]="string",t[t.uint=1]="uint",t[t.uid=2]="uid",t[t.bool=3]="bool",t[t.binary=4]="binary",t[t.float=5]="float"})(e.DataType||(e.DataType={})),(function(t){t[t.shot=10]="shot",t[t.scene=20]="scene",t[t.track=30]="track",t[t.part=40]="part",t[t.album=50]="album",t[t.edition=60]="edition",t[t.collection=70]="collection"})(e.TargetType||(e.TargetType={})),(function(t){t[t.video=1]="video",t[t.audio=2]="audio",t[t.complex=3]="complex",t[t.logo=4]="logo",t[t.subtitle=17]="subtitle",t[t.button=18]="button",t[t.control=32]="control"})(e.TrackType||(e.TrackType={}))})(types)),types}var hasRequiredType;function requireType(){return hasRequiredType||(hasRequiredType=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.TrackType=void 0;var t=requireTypes();Object.defineProperty(e,"TrackType",{enumerable:!0,get:function(){return t.TrackType}})})(type)),type}var GenericTagTypes={},hasRequiredGenericTagTypes;function requireGenericTagTypes(){return hasRequiredGenericTagTypes||(hasRequiredGenericTagTypes=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isUnique=e.isSingleton=e.commonTags=void 0,e.commonTags={year:{multiple:!1},track:{multiple:!1},disk:{multiple:!1},title:{multiple:!1},artist:{multiple:!1},artists:{multiple:!0,unique:!0},albumartist:{multiple:!1},album:{multiple:!1},date:{multiple:!1},originaldate:{multiple:!1},originalyear:{multiple:!1},comment:{multiple:!0,unique:!1},genre:{multiple:!0,unique:!0},picture:{multiple:!0,unique:!0},composer:{multiple:!0,unique:!0},lyrics:{multiple:!0,unique:!1},albumsort:{multiple:!1,unique:!0},titlesort:{multiple:!1,unique:!0},work:{multiple:!1,unique:!0},artistsort:{multiple:!1,unique:!0},albumartistsort:{multiple:!1,unique:!0},composersort:{multiple:!1,unique:!0},lyricist:{multiple:!0,unique:!0},writer:{multiple:!0,unique:!0},conductor:{multiple:!0,unique:!0},remixer:{multiple:!0,unique:!0},arranger:{multiple:!0,unique:!0},engineer:{multiple:!0,unique:!0},producer:{multiple:!0,unique:!0},technician:{multiple:!0,unique:!0},djmixer:{multiple:!0,unique:!0},mixer:{multiple:!0,unique:!0},label:{multiple:!0,unique:!0},grouping:{multiple:!1},subtitle:{multiple:!0},discsubtitle:{multiple:!1},totaltracks:{multiple:!1},totaldiscs:{multiple:!1},compilation:{multiple:!1},rating:{multiple:!0},bpm:{multiple:!1},mood:{multiple:!1},media:{multiple:!1},catalognumber:{multiple:!0,unique:!0},tvShow:{multiple:!1},tvShowSort:{multiple:!1},tvSeason:{multiple:!1},tvEpisode:{multiple:!1},tvEpisodeId:{multiple:!1},tvNetwork:{multiple:!1},podcast:{multiple:!1},podcasturl:{multiple:!1},releasestatus:{multiple:!1},releasetype:{multiple:!0},releasecountry:{multiple:!1},script:{multiple:!1},language:{multiple:!1},copyright:{multiple:!1},license:{multiple:!1},encodedby:{multiple:!1},encodersettings:{multiple:!1},gapless:{multiple:!1},barcode:{multiple:!1},isrc:{multiple:!0},asin:{multiple:!1},musicbrainz_recordingid:{multiple:!1},musicbrainz_trackid:{multiple:!1},musicbrainz_albumid:{multiple:!1},musicbrainz_artistid:{multiple:!0},musicbrainz_albumartistid:{multiple:!0},musicbrainz_releasegroupid:{multiple:!1},musicbrainz_workid:{multiple:!1},musicbrainz_trmid:{multiple:!1},musicbrainz_discid:{multiple:!1},acoustid_id:{multiple:!1},acoustid_fingerprint:{multiple:!1},musicip_puid:{multiple:!1},musicip_fingerprint:{multiple:!1},website:{multiple:!1},"performer:instrument":{multiple:!0,unique:!0},averageLevel:{multiple:!1},peakLevel:{multiple:!1},notes:{multiple:!0,unique:!1},key:{multiple:!1},originalalbum:{multiple:!1},originalartist:{multiple:!1},discogs_artist_id:{multiple:!0,unique:!0},discogs_release_id:{multiple:!1},discogs_label_id:{multiple:!1},discogs_master_release_id:{multiple:!1},discogs_votes:{multiple:!1},discogs_rating:{multiple:!1},replaygain_track_peak:{multiple:!1},replaygain_track_gain:{multiple:!1},replaygain_album_peak:{multiple:!1},replaygain_album_gain:{multiple:!1},replaygain_track_minmax:{multiple:!1},replaygain_album_minmax:{multiple:!1},replaygain_undo:{multiple:!1},description:{multiple:!0},longDescription:{multiple:!1},category:{multiple:!0},hdVideo:{multiple:!1},keywords:{multiple:!0},movement:{multiple:!1},movementIndex:{multiple:!1},movementTotal:{multiple:!1},podcastId:{multiple:!1},showMovement:{multiple:!1},stik:{multiple:!1}};function t(r){return e.commonTags.hasOwnProperty(r)&&!e.commonTags[r].multiple}e.isSingleton=t;function n(r){return!e.commonTags[r].multiple||e.commonTags[r].unique}e.isUnique=n})(GenericTagTypes)),GenericTagTypes}var CombinedTagMapper={},ID3v1TagMap={},GenericTagMapper={},hasRequiredGenericTagMapper;function requireGenericTagMapper(){if(hasRequiredGenericTagMapper)return GenericTagMapper;hasRequiredGenericTagMapper=1,Object.defineProperty(GenericTagMapper,"__esModule",{value:!0}),GenericTagMapper.CommonTagMapper=void 0;class e{static toIntOrNull(n){const r=parseInt(n,10);return isNaN(r)?null:r}static normalizeTrack(n){const r=n.toString().split("/");return{no:parseInt(r[0],10)||null,of:parseInt(r[1],10)||null}}constructor(n,r){this.tagTypes=n,this.tagMap=r}mapGenericTag(n,r){n={id:n.id,value:n.value},this.postMap(n,r);const i=this.getCommonName(n.id);return i?{id:i,value:n.value}:null}getCommonName(n){return this.tagMap[n]}postMap(n,r){}}return e.maxRatingScore=1,GenericTagMapper.CommonTagMapper=e,GenericTagMapper}var hasRequiredID3v1TagMap;function requireID3v1TagMap(){if(hasRequiredID3v1TagMap)return ID3v1TagMap;hasRequiredID3v1TagMap=1,Object.defineProperty(ID3v1TagMap,"__esModule",{value:!0}),ID3v1TagMap.ID3v1TagMapper=void 0;const e=requireGenericTagMapper(),t={title:"title",artist:"artist",album:"album",year:"year",comment:"comment",track:"track",genre:"genre"};class n extends e.CommonTagMapper{constructor(){super(["ID3v1"],t)}}return ID3v1TagMap.ID3v1TagMapper=n,ID3v1TagMap}var ID3v24TagMapper={},CaseInsensitiveTagMap={},hasRequiredCaseInsensitiveTagMap;function requireCaseInsensitiveTagMap(){if(hasRequiredCaseInsensitiveTagMap)return CaseInsensitiveTagMap;hasRequiredCaseInsensitiveTagMap=1,Object.defineProperty(CaseInsensitiveTagMap,"__esModule",{value:!0}),CaseInsensitiveTagMap.CaseInsensitiveTagMap=void 0;const e=requireGenericTagMapper();let t=class extends e.CommonTagMapper{constructor(r,i){const a={};for(const o of Object.keys(i))a[o.toUpperCase()]=i[o];super(r,a)}getCommonName(r){return this.tagMap[r.toUpperCase()]}};return CaseInsensitiveTagMap.CaseInsensitiveTagMap=t,CaseInsensitiveTagMap}var Util={},hasRequiredUtil$1;function requireUtil$1(){if(hasRequiredUtil$1)return Util;hasRequiredUtil$1=1,Object.defineProperty(Util,"__esModule",{value:!0}),Util.toRatio=Util.dbToRatio=Util.ratioToDb=Util.a2hex=Util.isBitSet=Util.getBitAllignedNumber=Util.stripNulls=Util.decodeString=Util.trimRightNull=Util.findZero=Util.getBit=void 0;function e(f,d,b){return(f[d]&1<<b)!==0}Util.getBit=e;function t(f,d,b,_){let v=d;if(_==="utf16le"){for(;f[v]!==0||f[v+1]!==0;){if(v>=b)return b;v+=2}return v}else{for(;f[v]!==0;){if(v>=b)return b;v++}return v}}Util.findZero=t;function n(f){const d=f.indexOf("\0");return d===-1?f:f.substr(0,d)}Util.trimRightNull=n;function r(f){const d=f.length;if((d&1)!==0)throw new Error("Buffer length must be even");for(let b=0;b<d;b+=2){const _=f[b];f[b]=f[b+1],f[b+1]=_}return f}function i(f,d){if(f[0]===255&&f[1]===254)return i(f.subarray(2),d);if(d==="utf16le"&&f[0]===254&&f[1]===255){if((f.length&1)!==0)throw new Error("Expected even number of octets for 16-bit unicode string");return i(r(f),d)}return Buffer.from(f).toString(d)}Util.decodeString=i;function a(f){return f=f.replace(/^\x00+/g,""),f=f.replace(/\x00+$/g,""),f}Util.stripNulls=a;function o(f,d,b,_){const v=d+~~(b/8),T=b%8;let S=f[v];S&=255>>T;const I=8-T,C=_-I;return C<0?S>>=8-T-_:C>0&&(S<<=C,S|=o(f,d,b+I,C)),S}Util.getBitAllignedNumber=o;function s(f,d,b){return o(f,d,b,1)===1}Util.isBitSet=s;function l(f){const d=[];for(let b=0,_=f.length;b<_;b++){const v=Number(f.charCodeAt(b)).toString(16);d.push(v.length===1?"0"+v:v)}return d.join(" ")}Util.a2hex=l;function c(f){return 10*Math.log10(f)}Util.ratioToDb=c;function u(f){return Math.pow(10,f/10)}Util.dbToRatio=u;function m(f){const d=f.split(" ").map(b=>b.trim().toLowerCase());if(d.length>=1){const b=parseFloat(d[0]);return d.length===2&&d[1]==="db"?{dB:b,ratio:u(b)}:{dB:c(b),ratio:b}}}return Util.toRatio=m,Util}var hasRequiredID3v24TagMapper;function requireID3v24TagMapper(){if(hasRequiredID3v24TagMapper)return ID3v24TagMapper;hasRequiredID3v24TagMapper=1,Object.defineProperty(ID3v24TagMapper,"__esModule",{value:!0}),ID3v24TagMapper.ID3v24TagMapper=void 0;const e=requireGenericTagMapper(),t=requireCaseInsensitiveTagMap(),n=requireUtil$1(),r={TIT2:"title",TPE1:"artist","TXXX:Artists":"artists",TPE2:"albumartist",TALB:"album",TDRV:"date",TORY:"originalyear",TPOS:"disk",TCON:"genre",APIC:"picture",TCOM:"composer","USLT:description":"lyrics",TSOA:"albumsort",TSOT:"titlesort",TOAL:"originalalbum",TSOP:"artistsort",TSO2:"albumartistsort",TSOC:"composersort",TEXT:"lyricist","TXXX:Writer":"writer",TPE3:"conductor",TPE4:"remixer","IPLS:arranger":"arranger","IPLS:engineer":"engineer","IPLS:producer":"producer","IPLS:DJ-mix":"djmixer","IPLS:mix":"mixer",TPUB:"label",TIT1:"grouping",TIT3:"subtitle",TRCK:"track",TCMP:"compilation",POPM:"rating",TBPM:"bpm",TMED:"media","TXXX:CATALOGNUMBER":"catalognumber","TXXX:MusicBrainz Album Status":"releasestatus","TXXX:MusicBrainz Album Type":"releasetype","TXXX:MusicBrainz Album Release Country":"releasecountry","TXXX:RELEASECOUNTRY":"releasecountry","TXXX:SCRIPT":"script",TLAN:"language",TCOP:"copyright",WCOP:"license",TENC:"encodedby",TSSE:"encodersettings","TXXX:BARCODE":"barcode","TXXX:ISRC":"isrc",TSRC:"isrc","TXXX:ASIN":"asin","TXXX:originalyear":"originalyear","UFID:http://musicbrainz.org":"musicbrainz_recordingid","TXXX:MusicBrainz Release Track Id":"musicbrainz_trackid","TXXX:MusicBrainz Album Id":"musicbrainz_albumid","TXXX:MusicBrainz Artist Id":"musicbrainz_artistid","TXXX:MusicBrainz Album Artist Id":"musicbrainz_albumartistid","TXXX:MusicBrainz Release Group Id":"musicbrainz_releasegroupid","TXXX:MusicBrainz Work Id":"musicbrainz_workid","TXXX:MusicBrainz TRM Id":"musicbrainz_trmid","TXXX:MusicBrainz Disc Id":"musicbrainz_discid","TXXX:ACOUSTID_ID":"acoustid_id","TXXX:Acoustid Id":"acoustid_id","TXXX:Acoustid Fingerprint":"acoustid_fingerprint","TXXX:MusicIP PUID":"musicip_puid","TXXX:MusicMagic Fingerprint":"musicip_fingerprint",WOAR:"website",TDRC:"date",TYER:"year",TDOR:"originaldate","TIPL:arranger":"arranger","TIPL:engineer":"engineer","TIPL:producer":"producer","TIPL:DJ-mix":"djmixer","TIPL:mix":"mixer",TMOO:"mood",SYLT:"lyrics",TSST:"discsubtitle",TKEY:"key",COMM:"comment",TOPE:"originalartist","PRIV:AverageLevel":"averageLevel","PRIV:PeakLevel":"peakLevel","TXXX:DISCOGS_ARTIST_ID":"discogs_artist_id","TXXX:DISCOGS_ARTISTS":"artists","TXXX:DISCOGS_ARTIST_NAME":"artists","TXXX:DISCOGS_ALBUM_ARTISTS":"albumartist","TXXX:DISCOGS_CATALOG":"catalognumber","TXXX:DISCOGS_COUNTRY":"releasecountry","TXXX:DISCOGS_DATE":"originaldate","TXXX:DISCOGS_LABEL":"label","TXXX:DISCOGS_LABEL_ID":"discogs_label_id","TXXX:DISCOGS_MASTER_RELEASE_ID":"discogs_master_release_id","TXXX:DISCOGS_RATING":"discogs_rating","TXXX:DISCOGS_RELEASED":"date","TXXX:DISCOGS_RELEASE_ID":"discogs_release_id","TXXX:DISCOGS_VOTES":"discogs_votes","TXXX:CATALOGID":"catalognumber","TXXX:STYLE":"genre","TXXX:REPLAYGAIN_TRACK_PEAK":"replaygain_track_peak","TXXX:REPLAYGAIN_TRACK_GAIN":"replaygain_track_gain","TXXX:REPLAYGAIN_ALBUM_PEAK":"replaygain_album_peak","TXXX:REPLAYGAIN_ALBUM_GAIN":"replaygain_album_gain","TXXX:MP3GAIN_MINMAX":"replaygain_track_minmax","TXXX:MP3GAIN_ALBUM_MINMAX":"replaygain_album_minmax","TXXX:MP3GAIN_UNDO":"replaygain_undo",MVNM:"movement",MVIN:"movementIndex",PCST:"podcast",TCAT:"category",TDES:"description",TDRL:"date",TGID:"podcastId",TKWD:"keywords",WFED:"podcasturl"};let i=class rt extends t.CaseInsensitiveTagMap{static toRating(o){return{source:o.email,rating:o.rating>0?(o.rating-1)/254*e.CommonTagMapper.maxRatingScore:void 0}}constructor(){super(["ID3v2.3","ID3v2.4"],r)}postMap(o,s){switch(o.id){case"UFID":o.value.owner_identifier==="http://musicbrainz.org"&&(o.id+=":"+o.value.owner_identifier,o.value=n.decodeString(o.value.identifier,"latin1"));break;case"PRIV":switch(o.value.owner_identifier){case"AverageLevel":case"PeakValue":o.id+=":"+o.value.owner_identifier,o.value=o.value.data.length===4?o.value.data.readUInt32LE(0):null,o.value===null&&s.addWarning("Failed to parse PRIV:PeakValue");break;default:s.addWarning(`Unknown PRIV owner-identifier: ${o.value.owner_identifier}`)}break;case"COMM":o.value=o.value?o.value.text:null;break;case"POPM":o.value=rt.toRating(o.value);break}}};return ID3v24TagMapper.ID3v24TagMapper=i,ID3v24TagMapper}var AsfTagMapper={},hasRequiredAsfTagMapper;function requireAsfTagMapper(){if(hasRequiredAsfTagMapper)return AsfTagMapper;hasRequiredAsfTagMapper=1,Object.defineProperty(AsfTagMapper,"__esModule",{value:!0}),AsfTagMapper.AsfTagMapper=void 0;const e=requireGenericTagMapper(),t={Title:"title",Author:"artist","WM/AlbumArtist":"albumartist","WM/AlbumTitle":"album","WM/Year":"date","WM/OriginalReleaseTime":"originaldate","WM/OriginalReleaseYear":"originalyear",Description:"comment","WM/TrackNumber":"track","WM/PartOfSet":"disk","WM/Genre":"genre","WM/Composer":"composer","WM/Lyrics":"lyrics","WM/AlbumSortOrder":"albumsort","WM/TitleSortOrder":"titlesort","WM/ArtistSortOrder":"artistsort","WM/AlbumArtistSortOrder":"albumartistsort","WM/ComposerSortOrder":"composersort","WM/Writer":"lyricist","WM/Conductor":"conductor","WM/ModifiedBy":"remixer","WM/Engineer":"engineer","WM/Producer":"producer","WM/DJMixer":"djmixer","WM/Mixer":"mixer","WM/Publisher":"label","WM/ContentGroupDescription":"grouping","WM/SubTitle":"subtitle","WM/SetSubTitle":"discsubtitle","WM/IsCompilation":"compilation","WM/SharedUserRating":"rating","WM/BeatsPerMinute":"bpm","WM/Mood":"mood","WM/Media":"media","WM/CatalogNo":"catalognumber","MusicBrainz/Album Status":"releasestatus","MusicBrainz/Album Type":"releasetype","MusicBrainz/Album Release Country":"releasecountry","WM/Script":"script","WM/Language":"language",Copyright:"copyright",LICENSE:"license","WM/EncodedBy":"encodedby","WM/EncodingSettings":"encodersettings","WM/Barcode":"barcode","WM/ISRC":"isrc","MusicBrainz/Track Id":"musicbrainz_recordingid","MusicBrainz/Release Track Id":"musicbrainz_trackid","MusicBrainz/Album Id":"musicbrainz_albumid","MusicBrainz/Artist Id":"musicbrainz_artistid","MusicBrainz/Album Artist Id":"musicbrainz_albumartistid","MusicBrainz/Release Group Id":"musicbrainz_releasegroupid","MusicBrainz/Work Id":"musicbrainz_workid","MusicBrainz/TRM Id":"musicbrainz_trmid","MusicBrainz/Disc Id":"musicbrainz_discid","Acoustid/Id":"acoustid_id","Acoustid/Fingerprint":"acoustid_fingerprint","MusicIP/PUID":"musicip_puid","WM/ARTISTS":"artists","WM/InitialKey":"key",ASIN:"asin","WM/Work":"work","WM/AuthorURL":"website","WM/Picture":"picture"};let n=class nt extends e.CommonTagMapper{static toRating(i){return{rating:parseFloat(i+1)/5}}constructor(){super(["asf"],t)}postMap(i){switch(i.id){case"WM/SharedUserRating":const a=i.id.split(":");i.value=nt.toRating(i.value),i.id=a[0];break}}};return AsfTagMapper.AsfTagMapper=n,AsfTagMapper}var ID3v22TagMapper={},hasRequiredID3v22TagMapper;function requireID3v22TagMapper(){return hasRequiredID3v22TagMapper||(hasRequiredID3v22TagMapper=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ID3v22TagMapper=e.id3v22TagMap=void 0;const t=requireCaseInsensitiveTagMap();e.id3v22TagMap={TT2:"title",TP1:"artist",TP2:"albumartist",TAL:"album",TYE:"year",COM:"comment",TRK:"track",TPA:"disk",TCO:"genre",PIC:"picture",TCM:"composer",TOR:"originaldate",TOT:"originalalbum",TXT:"lyricist",TP3:"conductor",TPB:"label",TT1:"grouping",TT3:"subtitle",TLA:"language",TCR:"copyright",WCP:"license",TEN:"encodedby",TSS:"encodersettings",WAR:"website","COM:iTunPGAP":"gapless",PCS:"podcast",TCP:"compilation",TDR:"date",TS2:"albumartistsort",TSA:"albumsort",TSC:"composersort",TSP:"artistsort",TST:"titlesort",WFD:"podcasturl",TBP:"bpm"};class n extends t.CaseInsensitiveTagMap{constructor(){super(["ID3v2.2"],e.id3v22TagMap)}}e.ID3v22TagMapper=n})(ID3v22TagMapper)),ID3v22TagMapper}var APEv2TagMapper={},hasRequiredAPEv2TagMapper;function requireAPEv2TagMapper(){if(hasRequiredAPEv2TagMapper)return APEv2TagMapper;hasRequiredAPEv2TagMapper=1,Object.defineProperty(APEv2TagMapper,"__esModule",{value:!0}),APEv2TagMapper.APEv2TagMapper=void 0;const e=requireCaseInsensitiveTagMap(),t={Title:"title",Artist:"artist",Artists:"artists","Album Artist":"albumartist",Album:"album",Year:"date",Originalyear:"originalyear",Originaldate:"originaldate",Comment:"comment",Track:"track",Disc:"disk",DISCNUMBER:"disk",Genre:"genre","Cover Art (Front)":"picture","Cover Art (Back)":"picture",Composer:"composer",Lyrics:"lyrics",ALBUMSORT:"albumsort",TITLESORT:"titlesort",WORK:"work",ARTISTSORT:"artistsort",ALBUMARTISTSORT:"albumartistsort",COMPOSERSORT:"composersort",Lyricist:"lyricist",Writer:"writer",Conductor:"conductor",MixArtist:"remixer",Arranger:"arranger",Engineer:"engineer",Producer:"producer",DJMixer:"djmixer",Mixer:"mixer",Label:"label",Grouping:"grouping",Subtitle:"subtitle",DiscSubtitle:"discsubtitle",Compilation:"compilation",BPM:"bpm",Mood:"mood",Media:"media",CatalogNumber:"catalognumber",MUSICBRAINZ_ALBUMSTATUS:"releasestatus",MUSICBRAINZ_ALBUMTYPE:"releasetype",RELEASECOUNTRY:"releasecountry",Script:"script",Language:"language",Copyright:"copyright",LICENSE:"license",EncodedBy:"encodedby",EncoderSettings:"encodersettings",Barcode:"barcode",ISRC:"isrc",ASIN:"asin",musicbrainz_trackid:"musicbrainz_recordingid",musicbrainz_releasetrackid:"musicbrainz_trackid",MUSICBRAINZ_ALBUMID:"musicbrainz_albumid",MUSICBRAINZ_ARTISTID:"musicbrainz_artistid",MUSICBRAINZ_ALBUMARTISTID:"musicbrainz_albumartistid",MUSICBRAINZ_RELEASEGROUPID:"musicbrainz_releasegroupid",MUSICBRAINZ_WORKID:"musicbrainz_workid",MUSICBRAINZ_TRMID:"musicbrainz_trmid",MUSICBRAINZ_DISCID:"musicbrainz_discid",Acoustid_Id:"acoustid_id",ACOUSTID_FINGERPRINT:"acoustid_fingerprint",MUSICIP_PUID:"musicip_puid",Weblink:"website",REPLAYGAIN_TRACK_GAIN:"replaygain_track_gain",REPLAYGAIN_TRACK_PEAK:"replaygain_track_peak",MP3GAIN_MINMAX:"replaygain_track_minmax",MP3GAIN_UNDO:"replaygain_undo"};let n=class extends e.CaseInsensitiveTagMap{constructor(){super(["APEv2"],t)}};return APEv2TagMapper.APEv2TagMapper=n,APEv2TagMapper}var MP4TagMapper={},hasRequiredMP4TagMapper;function requireMP4TagMapper(){return hasRequiredMP4TagMapper||(hasRequiredMP4TagMapper=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MP4TagMapper=e.tagType=void 0;const t=requireCaseInsensitiveTagMap(),n={"nam":"title","ART":"artist",aART:"albumartist","----:com.apple.iTunes:Band":"albumartist","alb":"album","day":"date","cmt":"comment","com":"comment",trkn:"track",disk:"disk","gen":"genre",covr:"picture","wrt":"composer","lyr":"lyrics",soal:"albumsort",sonm:"titlesort",soar:"artistsort",soaa:"albumartistsort",soco:"composersort","----:com.apple.iTunes:LYRICIST":"lyricist","----:com.apple.iTunes:CONDUCTOR":"conductor","----:com.apple.iTunes:REMIXER":"remixer","----:com.apple.iTunes:ENGINEER":"engineer","----:com.apple.iTunes:PRODUCER":"producer","----:com.apple.iTunes:DJMIXER":"djmixer","----:com.apple.iTunes:MIXER":"mixer","----:com.apple.iTunes:LABEL":"label","grp":"grouping","----:com.apple.iTunes:SUBTITLE":"subtitle","----:com.apple.iTunes:DISCSUBTITLE":"discsubtitle",cpil:"compilation",tmpo:"bpm","----:com.apple.iTunes:MOOD":"mood","----:com.apple.iTunes:MEDIA":"media","----:com.apple.iTunes:CATALOGNUMBER":"catalognumber",tvsh:"tvShow",tvsn:"tvSeason",tves:"tvEpisode",sosn:"tvShowSort",tven:"tvEpisodeId",tvnn:"tvNetwork",pcst:"podcast",purl:"podcasturl","----:com.apple.iTunes:MusicBrainz Album Status":"releasestatus","----:com.apple.iTunes:MusicBrainz Album Type":"releasetype","----:com.apple.iTunes:MusicBrainz Album Release Country":"releasecountry","----:com.apple.iTunes:SCRIPT":"script","----:com.apple.iTunes:LANGUAGE":"language",cprt:"copyright","cpy":"copyright","----:com.apple.iTunes:LICENSE":"license","too":"encodedby",pgap:"gapless","----:com.apple.iTunes:BARCODE":"barcode","----:com.apple.iTunes:ISRC":"isrc","----:com.apple.iTunes:ASIN":"asin","----:com.apple.iTunes:NOTES":"comment","----:com.apple.iTunes:MusicBrainz Track Id":"musicbrainz_recordingid","----:com.apple.iTunes:MusicBrainz Release Track Id":"musicbrainz_trackid","----:com.apple.iTunes:MusicBrainz Album Id":"musicbrainz_albumid","----:com.apple.iTunes:MusicBrainz Artist Id":"musicbrainz_artistid","----:com.apple.iTunes:MusicBrainz Album Artist Id":"musicbrainz_albumartistid","----:com.apple.iTunes:MusicBrainz Release Group Id":"musicbrainz_releasegroupid","----:com.apple.iTunes:MusicBrainz Work Id":"musicbrainz_workid","----:com.apple.iTunes:MusicBrainz TRM Id":"musicbrainz_trmid","----:com.apple.iTunes:MusicBrainz Disc Id":"musicbrainz_discid","----:com.apple.iTunes:Acoustid Id":"acoustid_id","----:com.apple.iTunes:Acoustid Fingerprint":"acoustid_fingerprint","----:com.apple.iTunes:MusicIP PUID":"musicip_puid","----:com.apple.iTunes:fingerprint":"musicip_fingerprint","----:com.apple.iTunes:replaygain_track_gain":"replaygain_track_gain","----:com.apple.iTunes:replaygain_track_peak":"replaygain_track_peak","----:com.apple.iTunes:replaygain_album_gain":"replaygain_album_gain","----:com.apple.iTunes:replaygain_album_peak":"replaygain_album_peak","----:com.apple.iTunes:replaygain_track_minmax":"replaygain_track_minmax","----:com.apple.iTunes:replaygain_album_minmax":"replaygain_album_minmax","----:com.apple.iTunes:replaygain_undo":"replaygain_undo",gnre:"genre","----:com.apple.iTunes:ALBUMARTISTSORT":"albumartistsort","----:com.apple.iTunes:ARTISTS":"artists","----:com.apple.iTunes:ORIGINALDATE":"originaldate","----:com.apple.iTunes:ORIGINALYEAR":"originalyear",desc:"description",ldes:"longDescription","mvn":"movement","mvi":"movementIndex","mvc":"movementTotal","wrk":"work",catg:"category",egid:"podcastId",hdvd:"hdVideo",keyw:"keywords",shwm:"showMovement",stik:"stik",rate:"rating"};e.tagType="iTunes";class r extends t.CaseInsensitiveTagMap{constructor(){super([e.tagType],n)}postMap(a,o){switch(a.id){case"rate":a.value={source:void 0,rating:parseFloat(a.value)/100};break}}}e.MP4TagMapper=r})(MP4TagMapper)),MP4TagMapper}var VorbisTagMapper={},hasRequiredVorbisTagMapper;function requireVorbisTagMapper(){if(hasRequiredVorbisTagMapper)return VorbisTagMapper;hasRequiredVorbisTagMapper=1,Object.defineProperty(VorbisTagMapper,"__esModule",{value:!0}),VorbisTagMapper.VorbisTagMapper=void 0;const e=requireGenericTagMapper(),t={TITLE:"title",ARTIST:"artist",ARTISTS:"artists",ALBUMARTIST:"albumartist","ALBUM ARTIST":"albumartist",ALBUM:"album",DATE:"date",ORIGINALDATE:"originaldate",ORIGINALYEAR:"originalyear",COMMENT:"comment",TRACKNUMBER:"track",DISCNUMBER:"disk",GENRE:"genre",METADATA_BLOCK_PICTURE:"picture",COMPOSER:"composer",LYRICS:"lyrics",ALBUMSORT:"albumsort",TITLESORT:"titlesort",WORK:"work",ARTISTSORT:"artistsort",ALBUMARTISTSORT:"albumartistsort",COMPOSERSORT:"composersort",LYRICIST:"lyricist",WRITER:"writer",CONDUCTOR:"conductor",REMIXER:"remixer",ARRANGER:"arranger",ENGINEER:"engineer",PRODUCER:"producer",DJMIXER:"djmixer",MIXER:"mixer",LABEL:"label",GROUPING:"grouping",SUBTITLE:"subtitle",DISCSUBTITLE:"discsubtitle",TRACKTOTAL:"totaltracks",DISCTOTAL:"totaldiscs",COMPILATION:"compilation",RATING:"rating",BPM:"bpm",KEY:"key",MOOD:"mood",MEDIA:"media",CATALOGNUMBER:"catalognumber",RELEASESTATUS:"releasestatus",RELEASETYPE:"releasetype",RELEASECOUNTRY:"releasecountry",SCRIPT:"script",LANGUAGE:"language",COPYRIGHT:"copyright",LICENSE:"license",ENCODEDBY:"encodedby",ENCODERSETTINGS:"encodersettings",BARCODE:"barcode",ISRC:"isrc",ASIN:"asin",MUSICBRAINZ_TRACKID:"musicbrainz_recordingid",MUSICBRAINZ_RELEASETRACKID:"musicbrainz_trackid",MUSICBRAINZ_ALBUMID:"musicbrainz_albumid",MUSICBRAINZ_ARTISTID:"musicbrainz_artistid",MUSICBRAINZ_ALBUMARTISTID:"musicbrainz_albumartistid",MUSICBRAINZ_RELEASEGROUPID:"musicbrainz_releasegroupid",MUSICBRAINZ_WORKID:"musicbrainz_workid",MUSICBRAINZ_TRMID:"musicbrainz_trmid",MUSICBRAINZ_DISCID:"musicbrainz_discid",ACOUSTID_ID:"acoustid_id",ACOUSTID_ID_FINGERPRINT:"acoustid_fingerprint",MUSICIP_PUID:"musicip_puid",WEBSITE:"website",NOTES:"notes",TOTALTRACKS:"totaltracks",TOTALDISCS:"totaldiscs",DISCOGS_ARTIST_ID:"discogs_artist_id",DISCOGS_ARTISTS:"artists",DISCOGS_ARTIST_NAME:"artists",DISCOGS_ALBUM_ARTISTS:"albumartist",DISCOGS_CATALOG:"catalognumber",DISCOGS_COUNTRY:"releasecountry",DISCOGS_DATE:"originaldate",DISCOGS_LABEL:"label",DISCOGS_LABEL_ID:"discogs_label_id",DISCOGS_MASTER_RELEASE_ID:"discogs_master_release_id",DISCOGS_RATING:"discogs_rating",DISCOGS_RELEASED:"date",DISCOGS_RELEASE_ID:"discogs_release_id",DISCOGS_VOTES:"discogs_votes",CATALOGID:"catalognumber",STYLE:"genre",REPLAYGAIN_TRACK_GAIN:"replaygain_track_gain",REPLAYGAIN_TRACK_PEAK:"replaygain_track_peak",REPLAYGAIN_ALBUM_GAIN:"replaygain_album_gain",REPLAYGAIN_ALBUM_PEAK:"replaygain_album_peak",REPLAYGAIN_MINMAX:"replaygain_track_minmax",REPLAYGAIN_ALBUM_MINMAX:"replaygain_album_minmax",REPLAYGAIN_UNDO:"replaygain_undo"};let n=class je extends e.CommonTagMapper{static toRating(i,a,o){return{source:i&&i.toLowerCase(),rating:parseFloat(a)/o*e.CommonTagMapper.maxRatingScore}}constructor(){super(["vorbis"],t)}postMap(i){if(i.id==="RATING")i.value=je.toRating(void 0,i.value,100);else if(i.id.indexOf("RATING:")===0){const a=i.id.split(":");i.value=je.toRating(a[1],i.value,1),i.id=a[0]}}};return VorbisTagMapper.VorbisTagMapper=n,VorbisTagMapper}var RiffInfoTagMap={},hasRequiredRiffInfoTagMap;function requireRiffInfoTagMap(){return hasRequiredRiffInfoTagMap||(hasRequiredRiffInfoTagMap=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.RiffInfoTagMapper=e.riffInfoTagMap=void 0;const t=requireGenericTagMapper();e.riffInfoTagMap={IART:"artist",ICRD:"date",INAM:"title",TITL:"title",IPRD:"album",ITRK:"track",IPRT:"track",COMM:"comment",ICMT:"comment",ICNT:"releasecountry",GNRE:"genre",IWRI:"writer",RATE:"rating",YEAR:"year",ISFT:"encodedby",CODE:"encodedby",TURL:"website",IGNR:"genre",IENG:"engineer",ITCH:"technician",IMED:"media",IRPD:"album"};class n extends t.CommonTagMapper{constructor(){super(["exif"],e.riffInfoTagMap)}}e.RiffInfoTagMapper=n})(RiffInfoTagMap)),RiffInfoTagMap}var MatroskaTagMapper={},hasRequiredMatroskaTagMapper;function requireMatroskaTagMapper(){if(hasRequiredMatroskaTagMapper)return MatroskaTagMapper;hasRequiredMatroskaTagMapper=1,Object.defineProperty(MatroskaTagMapper,"__esModule",{value:!0}),MatroskaTagMapper.MatroskaTagMapper=void 0;const e=requireCaseInsensitiveTagMap(),t={"segment:title":"title","album:ARTIST":"albumartist","album:ARTISTSORT":"albumartistsort","album:TITLE":"album","album:DATE_RECORDED":"originaldate","album:PART_NUMBER":"disk","album:TOTAL_PARTS":"totaltracks","track:ARTIST":"artist","track:ARTISTSORT":"artistsort","track:TITLE":"title","track:PART_NUMBER":"track","track:MUSICBRAINZ_TRACKID":"musicbrainz_recordingid","track:MUSICBRAINZ_ALBUMID":"musicbrainz_albumid","track:MUSICBRAINZ_ARTISTID":"musicbrainz_artistid","track:PUBLISHER":"label","track:GENRE":"genre","track:ENCODER":"encodedby","track:ENCODER_OPTIONS":"encodersettings","edition:TOTAL_PARTS":"totaldiscs",picture:"picture"};let n=class extends e.CaseInsensitiveTagMap{constructor(){super(["matroska"],t)}};return MatroskaTagMapper.MatroskaTagMapper=n,MatroskaTagMapper}var AiffTagMap={},hasRequiredAiffTagMap;function requireAiffTagMap(){if(hasRequiredAiffTagMap)return AiffTagMap;hasRequiredAiffTagMap=1,Object.defineProperty(AiffTagMap,"__esModule",{value:!0}),AiffTagMap.AiffTagMapper=void 0;const e=requireGenericTagMapper(),t={NAME:"title",AUTH:"artist","(c) ":"copyright",ANNO:"comment"};class n extends e.CommonTagMapper{constructor(){super(["AIFF"],t)}}return AiffTagMap.AiffTagMapper=n,AiffTagMap}var hasRequiredCombinedTagMapper;function requireCombinedTagMapper(){if(hasRequiredCombinedTagMapper)return CombinedTagMapper;hasRequiredCombinedTagMapper=1,Object.defineProperty(CombinedTagMapper,"__esModule",{value:!0}),CombinedTagMapper.CombinedTagMapper=void 0;const e=requireID3v1TagMap(),t=requireID3v24TagMapper(),n=requireAsfTagMapper(),r=requireID3v22TagMapper(),i=requireAPEv2TagMapper(),a=requireMP4TagMapper(),o=requireVorbisTagMapper(),s=requireRiffInfoTagMap(),l=requireMatroskaTagMapper(),c=requireAiffTagMap();let u=class{constructor(){this.tagMappers={},[new e.ID3v1TagMapper,new r.ID3v22TagMapper,new t.ID3v24TagMapper,new a.MP4TagMapper,new a.MP4TagMapper,new o.VorbisTagMapper,new i.APEv2TagMapper,new n.AsfTagMapper,new s.RiffInfoTagMapper,new l.MatroskaTagMapper,new c.AiffTagMapper].forEach(f=>{this.registerTagMapper(f)})}mapTag(f,d,b){if(this.tagMappers[f])return this.tagMappers[f].mapGenericTag(d,b);throw new Error("No generic tag mapper defined for tag-format: "+f)}registerTagMapper(f){for(const d of f.tagTypes)this.tagMappers[d]=f}};return CombinedTagMapper.CombinedTagMapper=u,CombinedTagMapper}var hasRequiredMetadataCollector;function requireMetadataCollector(){if(hasRequiredMetadataCollector)return MetadataCollector;hasRequiredMetadataCollector=1,Object.defineProperty(MetadataCollector,"__esModule",{value:!0}),MetadataCollector.joinArtists=MetadataCollector.MetadataCollector=void 0;const e=requireType(),t=requireBrowser$3(),n=requireGenericTagTypes(),r=requireCombinedTagMapper(),i=requireGenericTagMapper(),a=requireUtil$1(),o=requireCore$1(),s=(0,t.default)("music-metadata:collector"),l=["matroska","APEv2","vorbis","ID3v2.4","ID3v2.3","ID3v2.2","exif","asf","iTunes","AIFF","ID3v1"];let c=class{constructor(f){this.opts=f,this.format={tagTypes:[],trackInfo:[]},this.native={},this.common={track:{no:null,of:null},disk:{no:null,of:null},movementIndex:{}},this.quality={warnings:[]},this.commonOrigin={},this.originPriority={},this.tagMapper=new r.CombinedTagMapper;let d=1;for(const b of l)this.originPriority[b]=d++;this.originPriority.artificial=500,this.originPriority.id3v1=600}hasAny(){return Object.keys(this.native).length>0}addStreamInfo(f){s(`streamInfo: type=${e.TrackType[f.type]}, codec=${f.codecName}`),this.format.trackInfo.push(f)}setFormat(f,d){s(`format: ${f} = ${d}`),this.format[f]=d,this.opts.observer&&this.opts.observer({metadata:this,tag:{type:"format",id:f,value:d}})}addTag(f,d,b){s(`tag ${f}.${d} = ${b}`),this.native[f]||(this.format.tagTypes.push(f),this.native[f]=[]),this.native[f].push({id:d,value:b}),this.toCommon(f,d,b)}addWarning(f){this.quality.warnings.push({message:f})}postMap(f,d){switch(d.id){case"artist":if(this.commonOrigin.artist===this.originPriority[f])return this.postMap("artificial",{id:"artists",value:d.value});this.common.artists||this.setGenericTag("artificial",{id:"artists",value:d.value});break;case"artists":if((!this.common.artist||this.commonOrigin.artist===this.originPriority.artificial)&&(!this.common.artists||this.common.artists.indexOf(d.value)===-1)){const T=(this.common.artists||[]).concat([d.value]),I={id:"artist",value:u(T)};this.setGenericTag("artificial",I)}break;case"picture":this.postFixPicture(d.value).then(T=>{T!==null&&(d.value=T,this.setGenericTag(f,d))});return;case"totaltracks":this.common.track.of=i.CommonTagMapper.toIntOrNull(d.value);return;case"totaldiscs":this.common.disk.of=i.CommonTagMapper.toIntOrNull(d.value);return;case"movementTotal":this.common.movementIndex.of=i.CommonTagMapper.toIntOrNull(d.value);return;case"track":case"disk":case"movementIndex":const b=this.common[d.id].of;this.common[d.id]=i.CommonTagMapper.normalizeTrack(d.value),this.common[d.id].of=b??this.common[d.id].of;return;case"bpm":case"year":case"originalyear":d.value=parseInt(d.value,10);break;case"date":const _=parseInt(d.value.substr(0,4),10);isNaN(_)||(this.common.year=_);break;case"discogs_label_id":case"discogs_release_id":case"discogs_master_release_id":case"discogs_artist_id":case"discogs_votes":d.value=typeof d.value=="string"?parseInt(d.value,10):d.value;break;case"replaygain_track_gain":case"replaygain_track_peak":case"replaygain_album_gain":case"replaygain_album_peak":d.value=(0,a.toRatio)(d.value);break;case"replaygain_track_minmax":d.value=d.value.split(",").map(T=>parseInt(T,10));break;case"replaygain_undo":const v=d.value.split(",").map(T=>parseInt(T,10));d.value={leftChannel:v[0],rightChannel:v[1]};break;case"gapless":case"compilation":case"podcast":case"showMovement":d.value=d.value==="1"||d.value===1;break;case"isrc":if(this.common[d.id]&&this.common[d.id].indexOf(d.value)!==-1)return;break}d.value!==null&&this.setGenericTag(f,d)}toCommonMetadata(){return{format:this.format,native:this.native,quality:this.quality,common:this.common}}async postFixPicture(f){if(f.data&&f.data.length>0){if(!f.format){const d=await o.fromBuffer(f.data);if(d)f.format=d.mime;else return null}switch(f.format=f.format.toLocaleLowerCase(),f.format){case"image/jpg":f.format="image/jpeg"}return f}return this.addWarning("Empty picture tag found"),null}toCommon(f,d,b){const _={id:d,value:b},v=this.tagMapper.mapTag(f,_,this);v&&this.postMap(f,v)}setGenericTag(f,d){s(`common.${d.id} = ${d.value}`);const b=this.commonOrigin[d.id]||1e3,_=this.originPriority[f];if((0,n.isSingleton)(d.id))if(_<=b)this.common[d.id]=d.value,this.commonOrigin[d.id]=_;else return s(`Ignore native tag (singleton): ${f}.${d.id} = ${d.value}`);else if(_===b)!(0,n.isUnique)(d.id)||this.common[d.id].indexOf(d.value)===-1?this.common[d.id].push(d.value):s(`Ignore duplicate value: ${f}.${d.id} = ${d.value}`);else if(_<b)this.common[d.id]=[d.value],this.commonOrigin[d.id]=_;else return s(`Ignore native tag (list): ${f}.${d.id} = ${d.value}`);this.opts.observer&&this.opts.observer({metadata:this,tag:{type:"common",id:d.id,value:d.value}})}};MetadataCollector.MetadataCollector=c;function u(m){return m.length>2?m.slice(0,m.length-1).join(", ")+" & "+m[m.length-1]:m.join(" & ")}return MetadataCollector.joinArtists=u,MetadataCollector}var AiffParser={},ID3v2Parser={},FrameParser={},ID3v2Token={},hasRequiredID3v2Token;function requireID3v2Token(){return hasRequiredID3v2Token||(hasRequiredID3v2Token=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.TextEncodingToken=e.ExtendedHeader=e.ID3v2Header=e.UINT32SYNCSAFE=e.AttachedPictureType=void 0;const t=requireLib$2(),n=requireUtil$1();(function(r){r[r.Other=0]="Other",r[r["32x32 pixels 'file icon' (PNG only)"]=1]="32x32 pixels 'file icon' (PNG only)",r[r["Other file icon"]=2]="Other file icon",r[r["Cover (front)"]=3]="Cover (front)",r[r["Cover (back)"]=4]="Cover (back)",r[r["Leaflet page"]=5]="Leaflet page",r[r["Media (e.g. label side of CD)"]=6]="Media (e.g. label side of CD)",r[r["Lead artist/lead performer/soloist"]=7]="Lead artist/lead performer/soloist",r[r["Artist/performer"]=8]="Artist/performer",r[r.Conductor=9]="Conductor",r[r["Band/Orchestra"]=10]="Band/Orchestra",r[r.Composer=11]="Composer",r[r["Lyricist/text writer"]=12]="Lyricist/text writer",r[r["Recording Location"]=13]="Recording Location",r[r["During recording"]=14]="During recording",r[r["During performance"]=15]="During performance",r[r["Movie/video screen capture"]=16]="Movie/video screen capture",r[r["A bright coloured fish"]=17]="A bright coloured fish",r[r.Illustration=18]="Illustration",r[r["Band/artist logotype"]=19]="Band/artist logotype",r[r["Publisher/Studio logotype"]=20]="Publisher/Studio logotype"})(e.AttachedPictureType||(e.AttachedPictureType={})),e.UINT32SYNCSAFE={get:(r,i)=>r[i+3]&127|r[i+2]<<7|r[i+1]<<14|r[i]<<21,len:4},e.ID3v2Header={len:10,get:(r,i)=>({fileIdentifier:new t.StringType(3,"ascii").get(r,i),version:{major:t.INT8.get(r,i+3),revision:t.INT8.get(r,i+4)},flags:{unsynchronisation:n.getBit(r,i+5,7),isExtendedHeader:n.getBit(r,i+5,6),expIndicator:n.getBit(r,i+5,5),footer:n.getBit(r,i+5,4)},size:e.UINT32SYNCSAFE.get(r,i+6)})},e.ExtendedHeader={len:10,get:(r,i)=>({size:t.UINT32_BE.get(r,i),extendedFlags:t.UINT16_BE.get(r,i+4),sizeOfPadding:t.UINT32_BE.get(r,i+6),crcDataPresent:n.getBit(r,i+4,31)})},e.TextEncodingToken={len:1,get:(r,i)=>{switch(r[i]){case 0:return{encoding:"latin1"};case 1:return{encoding:"utf16le",bom:!0};case 2:return{encoding:"utf16le",bom:!1};case 3:return{encoding:"utf8",bom:!1};default:return{encoding:"utf8",bom:!1}}}}})(ID3v2Token)),ID3v2Token}var ID3v1Parser={},BasicParser={},hasRequiredBasicParser;function requireBasicParser(){if(hasRequiredBasicParser)return BasicParser;hasRequiredBasicParser=1,Object.defineProperty(BasicParser,"__esModule",{value:!0}),BasicParser.BasicParser=void 0;let e=class{init(n,r,i){return this.metadata=n,this.tokenizer=r,this.options=i,this}};return BasicParser.BasicParser=e,BasicParser}var APEv2Parser={},APEv2Token={},FourCC={},hasRequiredFourCC;function requireFourCC(){return hasRequiredFourCC||(hasRequiredFourCC=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FourCcToken=void 0;const t=requireUtil$1(),n=/^[\x21-\x7e][\x20-\x7e\x00()]{3}/;e.FourCcToken={len:4,get:(r,i)=>{const a=r.toString("binary",i,i+e.FourCcToken.len);if(!a.match(n))throw new Error(`FourCC contains invalid characters: ${t.a2hex(a)} "${a}"`);return a},put:(r,i,a)=>{const o=Buffer.from(a,"binary");if(o.length!==4)throw new Error("Invalid length");return o.copy(r,i)}}})(FourCC)),FourCC}var hasRequiredAPEv2Token;function requireAPEv2Token(){return hasRequiredAPEv2Token||(hasRequiredAPEv2Token=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isBitSet=e.parseTagFlags=e.TagField=e.TagItemHeader=e.TagFooter=e.Header=e.DescriptorParser=e.DataType=void 0;const t=requireLib$2(),n=requireFourCC();(function(o){o[o.text_utf8=0]="text_utf8",o[o.binary=1]="binary",o[o.external_info=2]="external_info",o[o.reserved=3]="reserved"})(e.DataType||(e.DataType={})),e.DescriptorParser={len:52,get:(o,s)=>({ID:n.FourCcToken.get(o,s),version:t.UINT32_LE.get(o,s+4)/1e3,descriptorBytes:t.UINT32_LE.get(o,s+8),headerBytes:t.UINT32_LE.get(o,s+12),seekTableBytes:t.UINT32_LE.get(o,s+16),headerDataBytes:t.UINT32_LE.get(o,s+20),apeFrameDataBytes:t.UINT32_LE.get(o,s+24),apeFrameDataBytesHigh:t.UINT32_LE.get(o,s+28),terminatingDataBytes:t.UINT32_LE.get(o,s+32),fileMD5:new t.Uint8ArrayType(16).get(o,s+36)})},e.Header={len:24,get:(o,s)=>({compressionLevel:t.UINT16_LE.get(o,s),formatFlags:t.UINT16_LE.get(o,s+2),blocksPerFrame:t.UINT32_LE.get(o,s+4),finalFrameBlocks:t.UINT32_LE.get(o,s+8),totalFrames:t.UINT32_LE.get(o,s+12),bitsPerSample:t.UINT16_LE.get(o,s+16),channel:t.UINT16_LE.get(o,s+18),sampleRate:t.UINT32_LE.get(o,s+20)})},e.TagFooter={len:32,get:(o,s)=>({ID:new t.StringType(8,"ascii").get(o,s),version:t.UINT32_LE.get(o,s+8),size:t.UINT32_LE.get(o,s+12),fields:t.UINT32_LE.get(o,s+16),flags:i(t.UINT32_LE.get(o,s+20))})},e.TagItemHeader={len:8,get:(o,s)=>({size:t.UINT32_LE.get(o,s),flags:i(t.UINT32_LE.get(o,s+4))})};const r=o=>new t.Uint8ArrayType(o.size-e.TagFooter.len);e.TagField=r;function i(o){return{containsHeader:a(o,31),containsFooter:a(o,30),isHeader:a(o,31),readOnly:a(o,0),dataType:(o&6)>>1}}e.parseTagFlags=i;function a(o,s){return(o&1<<s)!==0}e.isBitSet=a})(APEv2Token)),APEv2Token}var hasRequiredAPEv2Parser;function requireAPEv2Parser(){if(hasRequiredAPEv2Parser)return APEv2Parser;hasRequiredAPEv2Parser=1,Object.defineProperty(APEv2Parser,"__esModule",{value:!0}),APEv2Parser.APEv2Parser=void 0;const e=requireBrowser$3(),t=requireCore$2(),n=requireLib$2(),r=requireUtil$1(),i=requireBasicParser(),a=requireAPEv2Token(),o=(0,e.default)("music-metadata:parser:APEv2"),s="APEv2",l="APETAGEX";let c=class Oe extends i.BasicParser{constructor(){super(...arguments),this.ape={}}static tryParseApeHeader(m,f,d){const b=new Oe;return b.init(m,f,d),b.tryParseApeHeader()}static calculateDuration(m){let f=m.totalFrames>1?m.blocksPerFrame*(m.totalFrames-1):0;return f+=m.finalFrameBlocks,f/m.sampleRate}static async findApeFooterOffset(m,f){const d=Buffer.alloc(a.TagFooter.len);await m.randomRead(d,0,a.TagFooter.len,f-a.TagFooter.len);const b=a.TagFooter.get(d,0);if(b.ID==="APETAGEX")return o(`APE footer header at offset=${f}`),{footer:b,offset:f-b.size}}static parseTagFooter(m,f,d){const b=a.TagFooter.get(f,f.length-a.TagFooter.len);if(b.ID!==l)throw new Error("Unexpected APEv2 Footer ID preamble value.");t.fromBuffer(f);const _=new Oe;return _.init(m,t.fromBuffer(f),d),_.parseTags(b)}async tryParseApeHeader(){if(this.tokenizer.fileInfo.size&&this.tokenizer.fileInfo.size-this.tokenizer.position<a.TagFooter.len){o("No APEv2 header found, end-of-file reached");return}const m=await this.tokenizer.peekToken(a.TagFooter);if(m.ID===l)return await this.tokenizer.ignore(a.TagFooter.len),this.parseTags(m);if(o(`APEv2 header not found at offset=${this.tokenizer.position}`),this.tokenizer.fileInfo.size){const f=this.tokenizer.fileInfo.size-this.tokenizer.position,d=Buffer.alloc(f);return await this.tokenizer.readBuffer(d),Oe.parseTagFooter(this.metadata,d,this.options)}}async parse(){const m=await this.tokenizer.readToken(a.DescriptorParser);if(m.ID!=="MAC ")throw new Error("Unexpected descriptor ID");this.ape.descriptor=m;const f=m.descriptorBytes-a.DescriptorParser.len,d=await(f>0?this.parseDescriptorExpansion(f):this.parseHeader());return await this.tokenizer.ignore(d.forwardBytes),this.tryParseApeHeader()}async parseTags(m){const f=Buffer.alloc(256);let d=m.size-a.TagFooter.len;o(`Parse APE tags at offset=${this.tokenizer.position}, size=${d}`);for(let b=0;b<m.fields;b++){if(d<a.TagItemHeader.len){this.metadata.addWarning(`APEv2 Tag-header: ${m.fields-b} items remaining, but no more tag data to read.`);break}const _=await this.tokenizer.readToken(a.TagItemHeader);d-=a.TagItemHeader.len+_.size,await this.tokenizer.peekBuffer(f,{length:Math.min(f.length,d)});let v=r.findZero(f,0,f.length);const T=await this.tokenizer.readToken(new n.StringType(v,"ascii"));switch(await this.tokenizer.ignore(1),d-=T.length+1,_.flags.dataType){case a.DataType.text_utf8:{const I=(await this.tokenizer.readToken(new n.StringType(_.size,"utf8"))).split(/\x00/g);for(const C of I)this.metadata.addTag(s,T,C);break}case a.DataType.binary:if(this.options.skipCovers)await this.tokenizer.ignore(_.size);else{const S=Buffer.alloc(_.size);await this.tokenizer.readBuffer(S),v=r.findZero(S,0,S.length);const I=S.toString("utf8",0,v),C=Buffer.from(S.slice(v+1));this.metadata.addTag(s,T,{description:I,data:C})}break;case a.DataType.external_info:o(`Ignore external info ${T}`),await this.tokenizer.ignore(_.size);break;case a.DataType.reserved:o(`Ignore external info ${T}`),this.metadata.addWarning(`APEv2 header declares a reserved datatype for "${T}"`),await this.tokenizer.ignore(_.size);break}}}async parseDescriptorExpansion(m){return await this.tokenizer.ignore(m),this.parseHeader()}async parseHeader(){const m=await this.tokenizer.readToken(a.Header);return this.metadata.setFormat("lossless",!0),this.metadata.setFormat("container","Monkey's Audio"),this.metadata.setFormat("bitsPerSample",m.bitsPerSample),this.metadata.setFormat("sampleRate",m.sampleRate),this.metadata.setFormat("numberOfChannels",m.channel),this.metadata.setFormat("duration",Oe.calculateDuration(m)),{forwardBytes:this.ape.descriptor.seekTableBytes+this.ape.descriptor.headerDataBytes+this.ape.descriptor.apeFrameDataBytes+this.ape.descriptor.terminatingDataBytes}}};return APEv2Parser.APEv2Parser=c,APEv2Parser}var hasRequiredID3v1Parser;function requireID3v1Parser(){return hasRequiredID3v1Parser||(hasRequiredID3v1Parser=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.hasID3v1Header=e.ID3v1Parser=e.Genres=void 0;const t=requireBrowser$3(),n=requireLib$2(),r=requireUtil$1(),i=requireBasicParser(),a=requireAPEv2Parser(),o=(0,t.default)("music-metadata:parser:ID3v1");e.Genres=["Blues","Classic Rock","Country","Dance","Disco","Funk","Grunge","Hip-Hop","Jazz","Metal","New Age","Oldies","Other","Pop","R&B","Rap","Reggae","Rock","Techno","Industrial","Alternative","Ska","Death Metal","Pranks","Soundtrack","Euro-Techno","Ambient","Trip-Hop","Vocal","Jazz+Funk","Fusion","Trance","Classical","Instrumental","Acid","House","Game","Sound Clip","Gospel","Noise","Alt. Rock","Bass","Soul","Punk","Space","Meditative","Instrumental Pop","Instrumental Rock","Ethnic","Gothic","Darkwave","Techno-Industrial","Electronic","Pop-Folk","Eurodance","Dream","Southern Rock","Comedy","Cult","Gangsta Rap","Top 40","Christian Rap","Pop/Funk","Jungle","Native American","Cabaret","New Wave","Psychedelic","Rave","Showtunes","Trailer","Lo-Fi","Tribal","Acid Punk","Acid Jazz","Polka","Retro","Musical","Rock & Roll","Hard Rock","Folk","Folk/Rock","National Folk","Swing","Fast-Fusion","Bebob","Latin","Revival","Celtic","Bluegrass","Avantgarde","Gothic Rock","Progressive Rock","Psychedelic Rock","Symphonic Rock","Slow Rock","Big Band","Chorus","Easy Listening","Acoustic","Humour","Speech","Chanson","Opera","Chamber Music","Sonata","Symphony","Booty Bass","Primus","Porn Groove","Satire","Slow Jam","Club","Tango","Samba","Folklore","Ballad","Power Ballad","Rhythmic Soul","Freestyle","Duet","Punk Rock","Drum Solo","A Cappella","Euro-House","Dance Hall","Goa","Drum & Bass","Club-House","Hardcore","Terror","Indie","BritPop","Negerpunk","Polsk Punk","Beat","Christian Gangsta Rap","Heavy Metal","Black Metal","Crossover","Contemporary Christian","Christian Rock","Merengue","Salsa","Thrash Metal","Anime","JPop","Synthpop","Abstract","Art Rock","Baroque","Bhangra","Big Beat","Breakbeat","Chillout","Downtempo","Dub","EBM","Eclectic","Electro","Electroclash","Emo","Experimental","Garage","Global","IDM","Illbient","Industro-Goth","Jam Band","Krautrock","Leftfield","Lounge","Math Rock","New Romantic","Nu-Breakz","Post-Punk","Post-Rock","Psytrance","Shoegaze","Space Rock","Trop Rock","World Music","Neoclassical","Audiobook","Audio Theatre","Neue Deutsche Welle","Podcast","Indie Rock","G-Funk","Dubstep","Garage Rock","Psybient"];const s={len:128,get:(m,f)=>{const d=new l(3).get(m,f);return d==="TAG"?{header:d,title:new l(30).get(m,f+3),artist:new l(30).get(m,f+33),album:new l(30).get(m,f+63),year:new l(4).get(m,f+93),comment:new l(28).get(m,f+97),zeroByte:n.UINT8.get(m,f+127),track:n.UINT8.get(m,f+126),genre:n.UINT8.get(m,f+127)}:null}};class l extends n.StringType{constructor(f){super(f,"binary")}get(f,d){let b=super.get(f,d);return b=r.trimRightNull(b),b=b.trim(),b.length>0?b:void 0}}class c extends i.BasicParser{static getGenre(f){if(f<e.Genres.length)return e.Genres[f]}async parse(){if(!this.tokenizer.fileInfo.size){o("Skip checking for ID3v1 because the file-size is unknown");return}if(this.options.apeHeader){this.tokenizer.ignore(this.options.apeHeader.offset-this.tokenizer.position);const b=new a.APEv2Parser;b.init(this.metadata,this.tokenizer,this.options),await b.parseTags(this.options.apeHeader.footer)}const f=this.tokenizer.fileInfo.size-s.len;if(this.tokenizer.position>f){o("Already consumed the last 128 bytes");return}const d=await this.tokenizer.readToken(s,f);if(d){o("ID3v1 header found at: pos=%s",this.tokenizer.fileInfo.size-s.len);for(const _ of["title","artist","album","comment","track","year"])d[_]&&d[_]!==""&&this.addTag(_,d[_]);const b=c.getGenre(d.genre);b&&this.addTag("genre",b)}else o("ID3v1 header not found at: pos=%s",this.tokenizer.fileInfo.size-s.len)}addTag(f,d){this.metadata.addTag("ID3v1",f,d)}}e.ID3v1Parser=c;async function u(m){if(m.fileSize>=128){const f=Buffer.alloc(3);return await m.randomRead(f,0,f.length,m.fileSize-128),f.toString("binary")==="TAG"}return!1}e.hasID3v1Header=u})(ID3v1Parser)),ID3v1Parser}var hasRequiredFrameParser;function requireFrameParser(){if(hasRequiredFrameParser)return FrameParser;hasRequiredFrameParser=1,Object.defineProperty(FrameParser,"__esModule",{value:!0}),FrameParser.FrameParser=FrameParser.parseGenre=void 0;const e=requireBrowser$3(),t=requireLib$2(),n=requireUtil$1(),r=requireID3v2Token(),i=requireID3v1Parser(),a=(0,e.default)("music-metadata:id3v2:frame-parser"),o="latin1";function s(u){const m=[];let f,d="";for(const b of u)if(typeof f=="string")if(b==="("&&f==="")d+="(",f=void 0;else if(b===")"){d!==""&&(m.push(d),d="");const _=l(f);_&&m.push(_),f=void 0}else f+=b;else b==="("?f="":d+=b;return d&&(m.length===0&&d.match(/^\d*$/)&&(d=i.Genres[d]),m.push(d)),m}FrameParser.parseGenre=s;function l(u){if(u==="RX")return"Remix";if(u==="CR")return"Cover";if(u.match(/^\d*$/))return i.Genres[u]}let c=class Pe{constructor(m,f){this.major=m,this.warningCollector=f}readData(m,f,d){if(m.length===0){this.warningCollector.addWarning(`id3v2.${this.major} header has empty tag type=${f}`);return}const{encoding:b,bom:_}=r.TextEncodingToken.get(m,0),v=m.length;let T=0,S=[];const I=Pe.getNullTerminatorLength(b);let C;const D={};switch(a(`Parsing tag type=${f}, encoding=${b}, bom=${_}`),f!=="TXXX"&&f[0]==="T"?"T*":f){case"T*":case"IPLS":case"MVIN":case"MVNM":case"PCS":case"PCST":let F;try{F=n.decodeString(m.slice(1),b).replace(/\x00+$/,"")}catch(Y){this.warningCollector.addWarning(`id3v2.${this.major} type=${f} header has invalid string value: ${Y.message}`)}switch(f){case"TMCL":case"TIPL":case"IPLS":S=this.splitValue(f,F),S=Pe.functionList(S);break;case"TRK":case"TRCK":case"TPOS":S=F;break;case"TCOM":case"TEXT":case"TOLY":case"TOPE":case"TPE1":case"TSRC":S=this.splitValue(f,F);break;case"TCO":case"TCON":S=this.splitValue(f,F).map(Y=>s(Y)).reduce((Y,L)=>Y.concat(L),[]);break;case"PCS":case"PCST":S=this.major>=4?this.splitValue(f,F):[F],S=Array.isArray(S)&&S[0]===""?1:0;break;default:S=this.major>=4?this.splitValue(f,F):[F]}break;case"TXXX":S=Pe.readIdentifierAndData(m,T+1,v,b),S={description:S.id,text:this.splitValue(f,n.decodeString(S.data,b).replace(/\x00+$/,""))};break;case"PIC":case"APIC":if(d){const Y={};switch(T+=1,this.major){case 2:Y.format=n.decodeString(m.slice(T,T+3),"latin1"),T+=3;break;case 3:case 4:C=n.findZero(m,T,v,o),Y.format=n.decodeString(m.slice(T,C),o),T=C+1;break;default:throw new Error("Warning: unexpected major versionIndex: "+this.major)}Y.format=Pe.fixPictureMimeType(Y.format),Y.type=r.AttachedPictureType[m[T]],T+=1,C=n.findZero(m,T,v,b),Y.description=n.decodeString(m.slice(T,C),b),T=C+I,Y.data=Buffer.from(m.slice(T,v)),S=Y}break;case"CNT":case"PCNT":S=t.UINT32_BE.get(m,0);break;case"SYLT":for(T+=7,S=[];T<v;){const Y=m.slice(T,T=n.findZero(m,T,v,b));T+=5,S.push(n.decodeString(Y,b))}break;case"ULT":case"USLT":case"COM":case"COMM":T+=1,D.language=n.decodeString(m.slice(T,T+3),o),T+=3,C=n.findZero(m,T,v,b),D.description=n.decodeString(m.slice(T,C),b),T=C+I,D.text=n.decodeString(m.slice(T,v),b).replace(/\x00+$/,""),S=[D];break;case"UFID":S=Pe.readIdentifierAndData(m,T,v,o),S={owner_identifier:S.id,identifier:S.data};break;case"PRIV":S=Pe.readIdentifierAndData(m,T,v,o),S={owner_identifier:S.id,data:S.data};break;case"POPM":C=n.findZero(m,T,v,o);const w=n.decodeString(m.slice(T,C),o);T=C+1;const A=v-T;S={email:w,rating:t.UINT8.get(m,T),counter:A>=5?t.UINT32_BE.get(m,T+1):void 0};break;case"GEOB":{C=n.findZero(m,T+1,v,b);const Y=n.decodeString(m.slice(T+1,C),o);T=C+1,C=n.findZero(m,T,v-T,b);const L=n.decodeString(m.slice(T,C),o);T=C+1,C=n.findZero(m,T,v-T,b);const U=n.decodeString(m.slice(T,C),o);S={type:Y,filename:L,description:U,data:m.slice(T+1,v)};break}case"WCOM":case"WCOP":case"WOAF":case"WOAR":case"WOAS":case"WORS":case"WPAY":case"WPUB":S=n.decodeString(m.slice(T,C),o);break;case"WXXX":{C=n.findZero(m,T+1,v,b);const Y=n.decodeString(m.slice(T+1,C),b);T=C+(b==="utf16le"?2:1),S={description:Y,url:n.decodeString(m.slice(T,v),o)};break}case"WFD":case"WFED":S=n.decodeString(m.slice(T+1,n.findZero(m,T+1,v,b)),b);break;case"MCDI":{S=m.slice(0,v);break}default:a("Warning: unsupported id3v2-tag-type: "+f);break}return S}static fixPictureMimeType(m){switch(m=m.toLocaleLowerCase(),m){case"jpg":return"image/jpeg";case"png":return"image/png"}return m}static functionList(m){const f={};for(let d=0;d+1<m.length;d+=2){const b=m[d+1].split(",");f[m[d]]=f.hasOwnProperty(m[d])?f[m[d]].concat(b):b}return f}splitValue(m,f){let d;return this.major<4?(d=f.split(/\x00/g),d.length>1?this.warningCollector.addWarning(`ID3v2.${this.major} ${m} uses non standard null-separator.`):d=f.split(/\//g)):d=f.split(/\x00/g),Pe.trimArray(d)}static trimArray(m){return m.map(f=>f.replace(/\x00+$/,"").trim())}static readIdentifierAndData(m,f,d,b){const _=n.findZero(m,f,d,b),v=n.decodeString(m.slice(f,_),b);return f=_+Pe.getNullTerminatorLength(b),{id:v,data:m.slice(f,d)}}static getNullTerminatorLength(m){return m==="utf16le"?2:1}};return FrameParser.FrameParser=c,FrameParser}var hasRequiredID3v2Parser;function requireID3v2Parser(){if(hasRequiredID3v2Parser)return ID3v2Parser;hasRequiredID3v2Parser=1,Object.defineProperty(ID3v2Parser,"__esModule",{value:!0}),ID3v2Parser.ID3v2Parser=void 0;const e=requireLib$2(),t=requireUtil$1(),n=requireFrameParser(),r=requireID3v2Token();let i=class Me{static removeUnsyncBytes(o){let s=0,l=0;for(;s<o.length-1;)s!==l&&(o[l]=o[s]),s+=o[s]===255&&o[s+1]===0?2:1,l++;return s<o.length&&(o[l++]=o[s]),o.slice(0,l)}static getFrameHeaderLength(o){switch(o){case 2:return 6;case 3:case 4:return 10;default:throw new Error("header versionIndex is incorrect")}}static readFrameFlags(o){return{status:{tag_alter_preservation:t.getBit(o,0,6),file_alter_preservation:t.getBit(o,0,5),read_only:t.getBit(o,0,4)},format:{grouping_identity:t.getBit(o,1,7),compression:t.getBit(o,1,3),encryption:t.getBit(o,1,2),unsynchronisation:t.getBit(o,1,1),data_length_indicator:t.getBit(o,1,0)}}}static readFrameData(o,s,l,c,u){const m=new n.FrameParser(l,u);switch(l){case 2:return m.readData(o,s.id,c);case 3:case 4:return s.flags.format.unsynchronisation&&(o=Me.removeUnsyncBytes(o)),s.flags.format.data_length_indicator&&(o=o.slice(4,o.length)),m.readData(o,s.id,c);default:throw new Error("Unexpected majorVer: "+l)}}static makeDescriptionTagName(o,s){return o+(s?":"+s:"")}async parse(o,s,l){this.tokenizer=s,this.metadata=o,this.options=l;const c=await this.tokenizer.readToken(r.ID3v2Header);if(c.fileIdentifier!=="ID3")throw new Error("expected ID3-header file-identifier 'ID3' was not found");return this.id3Header=c,this.headerType="ID3v2."+c.version.major,c.flags.isExtendedHeader?this.parseExtendedHeader():this.parseId3Data(c.size)}async parseExtendedHeader(){const o=await this.tokenizer.readToken(r.ExtendedHeader),s=o.size-r.ExtendedHeader.len;return s>0?this.parseExtendedHeaderData(s,o.size):this.parseId3Data(this.id3Header.size-o.size)}async parseExtendedHeaderData(o,s){return await this.tokenizer.ignore(o),this.parseId3Data(this.id3Header.size-s)}async parseId3Data(o){const s=await this.tokenizer.readToken(new e.Uint8ArrayType(o));for(const l of this.parseMetadata(s))if(l.id==="TXXX"){if(l.value)for(const c of l.value.text)this.addTag(Me.makeDescriptionTagName(l.id,l.value.description),c)}else if(l.id==="COM")for(const c of l.value)this.addTag(Me.makeDescriptionTagName(l.id,c.description),c.text);else if(l.id==="COMM")for(const c of l.value)this.addTag(Me.makeDescriptionTagName(l.id,c.description),c);else if(Array.isArray(l.value))for(const c of l.value)this.addTag(l.id,c);else this.addTag(l.id,l.value)}addTag(o,s){this.metadata.addTag(this.headerType,o,s)}parseMetadata(o){let s=0;const l=[];for(;s!==o.length;){const c=Me.getFrameHeaderLength(this.id3Header.version.major);if(s+c>o.length){this.metadata.addWarning("Illegal ID3v2 tag length");break}const u=o.slice(s,s+=c),m=this.readFrameHeader(u,this.id3Header.version.major),f=o.slice(s,s+=m.length),d=Me.readFrameData(f,m,this.id3Header.version.major,!this.options.skipCovers,this.metadata);d&&l.push({id:m.id,value:d})}return l}readFrameHeader(o,s){let l;switch(s){case 2:l={id:Buffer.from(o.slice(0,3)).toString("ascii"),length:e.UINT24_BE.get(o,3)},l.id.match(/[A-Z0-9]{3}/g)||this.metadata.addWarning(`Invalid ID3v2.${this.id3Header.version.major} frame-header-ID: ${l.id}`);break;case 3:case 4:l={id:Buffer.from(o.slice(0,4)).toString("ascii"),length:(s===4?r.UINT32SYNCSAFE:e.UINT32_BE).get(o,4),flags:Me.readFrameFlags(o.slice(8,10))},l.id.match(/[A-Z0-9]{4}/g)||this.metadata.addWarning(`Invalid ID3v2.${this.id3Header.version.major} frame-header-ID: ${l.id}`);break;default:throw new Error("Unexpected majorVer: "+s)}return l}};return ID3v2Parser.ID3v2Parser=i,ID3v2Parser}var AiffToken={},hasRequiredAiffToken;function requireAiffToken(){if(hasRequiredAiffToken)return AiffToken;hasRequiredAiffToken=1,Object.defineProperty(AiffToken,"__esModule",{value:!0}),AiffToken.Common=void 0;const e=requireLib$2(),t=requireFourCC();class n{constructor(i,a){this.isAifc=a;const o=a?22:18;if(i.chunkSize<o)throw new Error(`COMMON CHUNK size should always be at least ${o}`);this.len=i.chunkSize}get(i,a){const o=i.readUInt16BE(a+8)-16398,s=i.readUInt16BE(a+8+2),l={numChannels:i.readUInt16BE(a),numSampleFrames:i.readUInt32BE(a+2),sampleSize:i.readUInt16BE(a+6),sampleRate:o<0?s>>Math.abs(o):s<<o};if(this.isAifc){if(l.compressionType=t.FourCcToken.get(i,a+18),this.len>22){const c=i.readInt8(a+22);if(c>0){const u=(c+1)%2;if(23+c+u===this.len)l.compressionName=new e.StringType(c,"binary").get(i,a+23);else throw new Error("Illegal pstring length")}else l.compressionName=void 0}}else l.compressionName="PCM";return l}}return AiffToken.Common=n,AiffToken}var iff={},hasRequiredIff;function requireIff(){if(hasRequiredIff)return iff;hasRequiredIff=1,Object.defineProperty(iff,"__esModule",{value:!0}),iff.Header=void 0;const e=requireLib$2(),t=requireFourCC();return iff.Header={len:8,get:(n,r)=>({chunkID:t.FourCcToken.get(n,r),chunkSize:Number(BigInt(e.UINT32_BE.get(n,r+4)))})},iff}var hasRequiredAiffParser;function requireAiffParser(){if(hasRequiredAiffParser)return AiffParser;hasRequiredAiffParser=1,Object.defineProperty(AiffParser,"__esModule",{value:!0}),AiffParser.AIFFParser=void 0;const e=requireLib$2(),t=requireBrowser$3(),n=requireCore$2(),r=requireID3v2Parser(),i=requireFourCC(),a=requireBasicParser(),o=requireAiffToken(),s=requireIff(),l=(0,t.default)("music-metadata:parser:aiff"),c={NONE:"not compressed	PCM	Apple Computer",sowt:"PCM (byte swapped)",fl32:"32-bit floating point IEEE 32-bit float",fl64:"64-bit floating point IEEE 64-bit float	Apple Computer",alaw:"ALaw 2:1	8-bit ITU-T G.711 A-law",ulaw:"Law 2:1	8-bit ITU-T G.711 -law	Apple Computer",ULAW:"CCITT G.711 u-law 8-bit ITU-T G.711 -law",ALAW:"CCITT G.711 A-law 8-bit ITU-T G.711 A-law",FL32:"Float 32	IEEE 32-bit float "};class u extends a.BasicParser{async parse(){if((await this.tokenizer.readToken(s.Header)).chunkID!=="FORM")throw new Error("Invalid Chunk-ID, expected 'FORM'");const d=await this.tokenizer.readToken(i.FourCcToken);switch(d){case"AIFF":this.metadata.setFormat("container",d),this.isCompressed=!1;break;case"AIFC":this.metadata.setFormat("container","AIFF-C"),this.isCompressed=!0;break;default:throw Error("Unsupported AIFF type: "+d)}this.metadata.setFormat("lossless",!this.isCompressed);try{for(;!this.tokenizer.fileInfo.size||this.tokenizer.fileInfo.size-this.tokenizer.position>=s.Header.len;){l("Reading AIFF chunk at offset="+this.tokenizer.position);const b=await this.tokenizer.readToken(s.Header),_=2*Math.round(b.chunkSize/2),v=await this.readData(b);await this.tokenizer.ignore(_-v)}}catch(b){if(b instanceof n.EndOfStreamError)l("End-of-stream");else throw b}}async readData(f){var d;switch(f.chunkID){case"COMM":const b=await this.tokenizer.readToken(new o.Common(f,this.isCompressed));return this.metadata.setFormat("bitsPerSample",b.sampleSize),this.metadata.setFormat("sampleRate",b.sampleRate),this.metadata.setFormat("numberOfChannels",b.numChannels),this.metadata.setFormat("numberOfSamples",b.numSampleFrames),this.metadata.setFormat("duration",b.numSampleFrames/b.sampleRate),this.metadata.setFormat("codec",(d=b.compressionName)!==null&&d!==void 0?d:c[b.compressionType]),f.chunkSize;case"ID3 ":const _=await this.tokenizer.readToken(new e.Uint8ArrayType(f.chunkSize)),v=n.fromBuffer(_);return await new r.ID3v2Parser().parse(this.metadata,v,this.options),f.chunkSize;case"SSND":return this.metadata.format.duration&&this.metadata.setFormat("bitrate",8*f.chunkSize/this.metadata.format.duration),0;case"NAME":case"AUTH":case"(c) ":case"ANNO":return this.readTextChunk(f);default:return l(`Ignore chunk id=${f.chunkID}, size=${f.chunkSize}`),0}}async readTextChunk(f){return(await this.tokenizer.readToken(new e.StringType(f.chunkSize,"ascii"))).split("\0").map(b=>b.trim()).filter(b=>b&&b.length>0).forEach(b=>{this.metadata.addTag("AIFF",f.chunkID,b.trim())}),f.chunkSize}}return AiffParser.AIFFParser=u,AiffParser}var AsfParser={},GUID={},hasRequiredGUID;function requireGUID(){if(hasRequiredGUID)return GUID;hasRequiredGUID=1,Object.defineProperty(GUID,"__esModule",{value:!0});let e=class Be{static fromBin(n,r=0){return new Be(this.decode(n,r))}static decode(n,r=0){return(n.readUInt32LE(r).toString(16)+"-"+n.readUInt16LE(r+4).toString(16)+"-"+n.readUInt16LE(r+6).toString(16)+"-"+n.readUInt16BE(r+8).toString(16)+"-"+n.slice(r+10,r+16).toString("hex")).toUpperCase()}static decodeMediaType(n){switch(n.str){case Be.AudioMedia.str:return"audio";case Be.VideoMedia.str:return"video";case Be.CommandMedia.str:return"command";case Be.Degradable_JPEG_Media.str:return"degradable-jpeg";case Be.FileTransferMedia.str:return"file-transfer";case Be.BinaryMedia.str:return"binary"}}static encode(n){const r=Buffer.alloc(16);return r.writeUInt32LE(parseInt(n.slice(0,8),16),0),r.writeUInt16LE(parseInt(n.slice(9,13),16),4),r.writeUInt16LE(parseInt(n.slice(14,18),16),6),Buffer.from(n.slice(19,23),"hex").copy(r,8),Buffer.from(n.slice(24),"hex").copy(r,10),r}constructor(n){this.str=n}equals(n){return this.str===n.str}toBin(){return Be.encode(this.str)}};return e.HeaderObject=new e("75B22630-668E-11CF-A6D9-00AA0062CE6C"),e.DataObject=new e("75B22636-668E-11CF-A6D9-00AA0062CE6C"),e.SimpleIndexObject=new e("33000890-E5B1-11CF-89F4-00A0C90349CB"),e.IndexObject=new e("D6E229D3-35DA-11D1-9034-00A0C90349BE"),e.MediaObjectIndexObject=new e("FEB103F8-12AD-4C64-840F-2A1D2F7AD48C"),e.TimecodeIndexObject=new e("3CB73FD0-0C4A-4803-953D-EDF7B6228F0C"),e.FilePropertiesObject=new e("8CABDCA1-A947-11CF-8EE4-00C00C205365"),e.StreamPropertiesObject=new e("B7DC0791-A9B7-11CF-8EE6-00C00C205365"),e.HeaderExtensionObject=new e("5FBF03B5-A92E-11CF-8EE3-00C00C205365"),e.CodecListObject=new e("86D15240-311D-11D0-A3A4-00A0C90348F6"),e.ScriptCommandObject=new e("1EFB1A30-0B62-11D0-A39B-00A0C90348F6"),e.MarkerObject=new e("F487CD01-A951-11CF-8EE6-00C00C205365"),e.BitrateMutualExclusionObject=new e("D6E229DC-35DA-11D1-9034-00A0C90349BE"),e.ErrorCorrectionObject=new e("75B22635-668E-11CF-A6D9-00AA0062CE6C"),e.ContentDescriptionObject=new e("75B22633-668E-11CF-A6D9-00AA0062CE6C"),e.ExtendedContentDescriptionObject=new e("D2D0A440-E307-11D2-97F0-00A0C95EA850"),e.ContentBrandingObject=new e("2211B3FA-BD23-11D2-B4B7-00A0C955FC6E"),e.StreamBitratePropertiesObject=new e("7BF875CE-468D-11D1-8D82-006097C9A2B2"),e.ContentEncryptionObject=new e("2211B3FB-BD23-11D2-B4B7-00A0C955FC6E"),e.ExtendedContentEncryptionObject=new e("298AE614-2622-4C17-B935-DAE07EE9289C"),e.DigitalSignatureObject=new e("2211B3FC-BD23-11D2-B4B7-00A0C955FC6E"),e.PaddingObject=new e("1806D474-CADF-4509-A4BA-9AABCB96AAE8"),e.ExtendedStreamPropertiesObject=new e("14E6A5CB-C672-4332-8399-A96952065B5A"),e.AdvancedMutualExclusionObject=new e("A08649CF-4775-4670-8A16-6E35357566CD"),e.GroupMutualExclusionObject=new e("D1465A40-5A79-4338-B71B-E36B8FD6C249"),e.StreamPrioritizationObject=new e("D4FED15B-88D3-454F-81F0-ED5C45999E24"),e.BandwidthSharingObject=new e("A69609E6-517B-11D2-B6AF-00C04FD908E9"),e.LanguageListObject=new e("7C4346A9-EFE0-4BFC-B229-393EDE415C85"),e.MetadataObject=new e("C5F8CBEA-5BAF-4877-8467-AA8C44FA4CCA"),e.MetadataLibraryObject=new e("44231C94-9498-49D1-A141-1D134E457054"),e.IndexParametersObject=new e("D6E229DF-35DA-11D1-9034-00A0C90349BE"),e.MediaObjectIndexParametersObject=new e("6B203BAD-3F11-48E4-ACA8-D7613DE2CFA7"),e.TimecodeIndexParametersObject=new e("F55E496D-9797-4B5D-8C8B-604DFE9BFB24"),e.CompatibilityObject=new e("26F18B5D-4584-47EC-9F5F-0E651F0452C9"),e.AdvancedContentEncryptionObject=new e("43058533-6981-49E6-9B74-AD12CB86D58C"),e.AudioMedia=new e("F8699E40-5B4D-11CF-A8FD-00805F5C442B"),e.VideoMedia=new e("BC19EFC0-5B4D-11CF-A8FD-00805F5C442B"),e.CommandMedia=new e("59DACFC0-59E6-11D0-A3AC-00A0C90348F6"),e.JFIF_Media=new e("B61BE100-5B4E-11CF-A8FD-00805F5C442B"),e.Degradable_JPEG_Media=new e("35907DE0-E415-11CF-A917-00805F5C442B"),e.FileTransferMedia=new e("91BD222C-F21C-497A-8B6D-5AA86BFC0185"),e.BinaryMedia=new e("3AFB65E2-47EF-40F2-AC2C-70A90D71D343"),e.ASF_Index_Placeholder_Object=new e("D9AADE20-7C17-4F9C-BC28-8555DD98E2A2"),GUID.default=e,GUID}var AsfObject={},AsfUtil={},hasRequiredAsfUtil;function requireAsfUtil(){if(hasRequiredAsfUtil)return AsfUtil;hasRequiredAsfUtil=1,Object.defineProperty(AsfUtil,"__esModule",{value:!0}),AsfUtil.AsfUtil=void 0;const e=requireLib$2(),t=requireUtil$1();let n=class He{static getParserForAttr(i){return He.attributeParsers[i]}static parseUnicodeAttr(i){return t.stripNulls(t.decodeString(i,"utf16le"))}static parseByteArrayAttr(i){return Buffer.from(i)}static parseBoolAttr(i,a=0){return He.parseWordAttr(i,a)===1}static parseDWordAttr(i,a=0){return i.readUInt32LE(a)}static parseQWordAttr(i,a=0){return e.UINT64_LE.get(i,a)}static parseWordAttr(i,a=0){return i.readUInt16LE(a)}};return n.attributeParsers=[n.parseUnicodeAttr,n.parseByteArrayAttr,n.parseBoolAttr,n.parseDWordAttr,n.parseQWordAttr,n.parseWordAttr,n.parseByteArrayAttr],AsfUtil.AsfUtil=n,AsfUtil}var hasRequiredAsfObject;function requireAsfObject(){return hasRequiredAsfObject||(hasRequiredAsfObject=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WmPictureToken=e.MetadataLibraryObjectState=e.MetadataObjectState=e.ExtendedStreamPropertiesObjectState=e.ExtendedContentDescriptionObjectState=e.ContentDescriptionObjectState=e.readCodecEntries=e.HeaderExtensionObject=e.StreamPropertiesObject=e.FilePropertiesObject=e.IgnoreObjectState=e.State=e.HeaderObjectToken=e.TopLevelHeaderObjectToken=e.DataType=void 0;const t=requireUtil$1(),n=requireLib$2(),r=requireGUID(),i=requireAsfUtil(),a=requireID3v2Token();(function(F){F[F.UnicodeString=0]="UnicodeString",F[F.ByteArray=1]="ByteArray",F[F.Bool=2]="Bool",F[F.DWord=3]="DWord",F[F.QWord=4]="QWord",F[F.Word=5]="Word"})(e.DataType||(e.DataType={})),e.TopLevelHeaderObjectToken={len:30,get:(F,w)=>({objectId:r.default.fromBin(new n.BufferType(16).get(F,w)),objectSize:Number(n.UINT64_LE.get(F,w+16)),numberOfHeaderObjects:n.UINT32_LE.get(F,w+24)})},e.HeaderObjectToken={len:24,get:(F,w)=>({objectId:r.default.fromBin(new n.BufferType(16).get(F,w)),objectSize:Number(n.UINT64_LE.get(F,w+16))})};class o{constructor(w){this.len=Number(w.objectSize)-e.HeaderObjectToken.len}postProcessTag(w,A,Y,L){if(A==="WM/Picture")w.push({id:A,value:D.fromBuffer(L)});else{const U=i.AsfUtil.getParserForAttr(Y);if(!U)throw new Error("unexpected value headerType: "+Y);w.push({id:A,value:U(L)})}}}e.State=o;class s extends o{constructor(w){super(w)}get(w,A){return null}}e.IgnoreObjectState=s;class l extends o{constructor(w){super(w)}get(w,A){return{fileId:r.default.fromBin(w,A),fileSize:n.UINT64_LE.get(w,A+16),creationDate:n.UINT64_LE.get(w,A+24),dataPacketsCount:n.UINT64_LE.get(w,A+32),playDuration:n.UINT64_LE.get(w,A+40),sendDuration:n.UINT64_LE.get(w,A+48),preroll:n.UINT64_LE.get(w,A+56),flags:{broadcast:t.getBit(w,A+64,24),seekable:t.getBit(w,A+64,25)},minimumDataPacketSize:n.UINT32_LE.get(w,A+68),maximumDataPacketSize:n.UINT32_LE.get(w,A+72),maximumBitrate:n.UINT32_LE.get(w,A+76)}}}l.guid=r.default.FilePropertiesObject,e.FilePropertiesObject=l;class c extends o{constructor(w){super(w)}get(w,A){return{streamType:r.default.decodeMediaType(r.default.fromBin(w,A)),errorCorrectionType:r.default.fromBin(w,A+8)}}}c.guid=r.default.StreamPropertiesObject,e.StreamPropertiesObject=c;class u{constructor(){this.len=22}get(w,A){return{reserved1:r.default.fromBin(w,A),reserved2:w.readUInt16LE(A+16),extensionDataSize:w.readUInt32LE(A+18)}}}u.guid=r.default.HeaderExtensionObject,e.HeaderExtensionObject=u;const m={len:20,get:(F,w)=>({entryCount:F.readUInt16LE(w+16)})};async function f(F){const w=await F.readNumber(n.UINT16_LE);return(await F.readToken(new n.StringType(w*2,"utf16le"))).replace("\0","")}async function d(F){const w=await F.readToken(m),A=[];for(let Y=0;Y<w.entryCount;++Y)A.push(await _(F));return A}e.readCodecEntries=d;async function b(F){const w=await F.readNumber(n.UINT16_LE),A=Buffer.alloc(w);return await F.readBuffer(A),A}async function _(F){const w=await F.readNumber(n.UINT16_LE);return{type:{videoCodec:(w&1)===1,audioCodec:(w&2)===2},codecName:await f(F),description:await f(F),information:await b(F)}}class v extends o{constructor(w){super(w)}get(w,A){const Y=[];let L=A+10;for(let U=0;U<v.contentDescTags.length;++U){const V=w.readUInt16LE(A+U*2);if(V>0){const j=v.contentDescTags[U],oe=L+V;Y.push({id:j,value:i.AsfUtil.parseUnicodeAttr(w.slice(L,oe))}),L=oe}}return Y}}v.guid=r.default.ContentDescriptionObject,v.contentDescTags=["Title","Author","Copyright","Description","Rating"],e.ContentDescriptionObjectState=v;class T extends o{constructor(w){super(w)}get(w,A){const Y=[],L=w.readUInt16LE(A);let U=A+2;for(let V=0;V<L;V+=1){const j=w.readUInt16LE(U);U+=2;const oe=i.AsfUtil.parseUnicodeAttr(w.slice(U,U+j));U+=j;const ue=w.readUInt16LE(U);U+=2;const ce=w.readUInt16LE(U);U+=2;const me=w.slice(U,U+ce);U+=ce,this.postProcessTag(Y,oe,ue,me)}return Y}}T.guid=r.default.ExtendedContentDescriptionObject,e.ExtendedContentDescriptionObjectState=T;class S extends o{constructor(w){super(w)}get(w,A){return{startTime:n.UINT64_LE.get(w,A),endTime:n.UINT64_LE.get(w,A+8),dataBitrate:w.readInt32LE(A+12),bufferSize:w.readInt32LE(A+16),initialBufferFullness:w.readInt32LE(A+20),alternateDataBitrate:w.readInt32LE(A+24),alternateBufferSize:w.readInt32LE(A+28),alternateInitialBufferFullness:w.readInt32LE(A+32),maximumObjectSize:w.readInt32LE(A+36),flags:{reliableFlag:t.getBit(w,A+40,0),seekableFlag:t.getBit(w,A+40,1),resendLiveCleanpointsFlag:t.getBit(w,A+40,2)},streamNumber:w.readInt16LE(A+42),streamLanguageId:w.readInt16LE(A+44),averageTimePerFrame:w.readInt32LE(A+52),streamNameCount:w.readInt32LE(A+54),payloadExtensionSystems:w.readInt32LE(A+56),streamNames:[],streamPropertiesObject:null}}}S.guid=r.default.ExtendedStreamPropertiesObject,e.ExtendedStreamPropertiesObjectState=S;class I extends o{constructor(w){super(w)}get(w,A){const Y=[],L=Buffer.from(w),U=L.readUInt16LE(A);let V=A+2;for(let j=0;j<U;j+=1){V+=4;const oe=L.readUInt16LE(V);V+=2;const ue=L.readUInt16LE(V);V+=2;const ce=L.readUInt32LE(V);V+=4;const me=i.AsfUtil.parseUnicodeAttr(L.slice(V,V+oe));V+=oe;const Q=L.slice(V,V+ce);V+=ce,this.postProcessTag(Y,me,ue,Q)}return Y}}I.guid=r.default.MetadataObject,e.MetadataObjectState=I;class C extends I{constructor(w){super(w)}}C.guid=r.default.MetadataLibraryObject,e.MetadataLibraryObjectState=C;class D{static fromBase64(w){return this.fromBuffer(Buffer.from(w,"base64"))}static fromBuffer(w){return new D(w.length).get(w,0)}constructor(w){this.len=w}get(w,A){const Y=w.readUInt8(A++),L=w.readInt32LE(A);let U=5;for(;w.readUInt16BE(U)!==0;)U+=2;const V=w.slice(5,U).toString("utf16le");for(;w.readUInt16BE(U)!==0;)U+=2;const j=w.slice(5,U).toString("utf16le");return{type:a.AttachedPictureType[Y],format:V,description:j,size:L,data:w.slice(U+4)}}}e.WmPictureToken=D})(AsfObject)),AsfObject}var hasRequiredAsfParser;function requireAsfParser(){if(hasRequiredAsfParser)return AsfParser;hasRequiredAsfParser=1,Object.defineProperty(AsfParser,"__esModule",{value:!0}),AsfParser.AsfParser=void 0;const e=requireBrowser$3(),t=requireType(),n=requireGUID(),r=requireAsfObject(),i=requireBasicParser(),a=(0,e.default)("music-metadata:parser:ASF"),o="asf";let s=class extends i.BasicParser{async parse(){const c=await this.tokenizer.readToken(r.TopLevelHeaderObjectToken);if(!c.objectId.equals(n.default.HeaderObject))throw new Error("expected asf header; but was not found; got: "+c.objectId.str);try{await this.parseObjectHeader(c.numberOfHeaderObjects)}catch(u){a("Error while parsing ASF: %s",u)}}async parseObjectHeader(c){let u;do{const m=await this.tokenizer.readToken(r.HeaderObjectToken);switch(a("header GUID=%s",m.objectId.str),m.objectId.str){case r.FilePropertiesObject.guid.str:const f=await this.tokenizer.readToken(new r.FilePropertiesObject(m));this.metadata.setFormat("duration",Number(f.playDuration/BigInt(1e3))/1e4-Number(f.preroll)/1e3),this.metadata.setFormat("bitrate",f.maximumBitrate);break;case r.StreamPropertiesObject.guid.str:const d=await this.tokenizer.readToken(new r.StreamPropertiesObject(m));this.metadata.setFormat("container","ASF/"+d.streamType);break;case r.HeaderExtensionObject.guid.str:const b=await this.tokenizer.readToken(new r.HeaderExtensionObject);await this.parseExtensionObject(b.extensionDataSize);break;case r.ContentDescriptionObjectState.guid.str:u=await this.tokenizer.readToken(new r.ContentDescriptionObjectState(m)),this.addTags(u);break;case r.ExtendedContentDescriptionObjectState.guid.str:u=await this.tokenizer.readToken(new r.ExtendedContentDescriptionObjectState(m)),this.addTags(u);break;case n.default.CodecListObject.str:const _=await r.readCodecEntries(this.tokenizer);_.forEach(T=>{this.metadata.addStreamInfo({type:T.type.videoCodec?t.TrackType.video:t.TrackType.audio,codecName:T.codecName})});const v=_.filter(T=>T.type.audioCodec).map(T=>T.codecName).join("/");this.metadata.setFormat("codec",v);break;case n.default.StreamBitratePropertiesObject.str:await this.tokenizer.ignore(m.objectSize-r.HeaderObjectToken.len);break;case n.default.PaddingObject.str:a("Padding: %s bytes",m.objectSize-r.HeaderObjectToken.len),await this.tokenizer.ignore(m.objectSize-r.HeaderObjectToken.len);break;default:this.metadata.addWarning("Ignore ASF-Object-GUID: "+m.objectId.str),a("Ignore ASF-Object-GUID: %s",m.objectId.str),await this.tokenizer.readToken(new r.IgnoreObjectState(m))}}while(--c)}addTags(c){c.forEach(u=>{this.metadata.addTag(o,u.id,u.value)})}async parseExtensionObject(c){do{const u=await this.tokenizer.readToken(r.HeaderObjectToken),m=u.objectSize-r.HeaderObjectToken.len;switch(u.objectId.str){case r.ExtendedStreamPropertiesObjectState.guid.str:await this.tokenizer.readToken(new r.ExtendedStreamPropertiesObjectState(u));break;case r.MetadataObjectState.guid.str:const f=await this.tokenizer.readToken(new r.MetadataObjectState(u));this.addTags(f);break;case r.MetadataLibraryObjectState.guid.str:const d=await this.tokenizer.readToken(new r.MetadataLibraryObjectState(u));this.addTags(d);break;case n.default.PaddingObject.str:await this.tokenizer.ignore(m);break;case n.default.CompatibilityObject.str:this.tokenizer.ignore(m);break;case n.default.ASF_Index_Placeholder_Object.str:await this.tokenizer.ignore(m);break;default:this.metadata.addWarning("Ignore ASF-Object-GUID: "+u.objectId.str),await this.tokenizer.readToken(new r.IgnoreObjectState(u));break}c-=u.objectSize}while(c>0)}};return AsfParser.AsfParser=s,AsfParser}var FlacParser={},Vorbis={},hasRequiredVorbis;function requireVorbis(){if(hasRequiredVorbis)return Vorbis;hasRequiredVorbis=1,Object.defineProperty(Vorbis,"__esModule",{value:!0}),Vorbis.IdentificationHeader=Vorbis.CommonHeader=Vorbis.VorbisPictureToken=void 0;const e=requireLib$2(),t=requireID3v2Token();class n{static fromBase64(i){return this.fromBuffer(Buffer.from(i,"base64"))}static fromBuffer(i){return new n(i.length).get(i,0)}constructor(i){this.len=i}get(i,a){const o=t.AttachedPictureType[e.UINT32_BE.get(i,a)],s=e.UINT32_BE.get(i,a+=4),l=i.toString("utf-8",a+=4,a+s),c=e.UINT32_BE.get(i,a+=s),u=i.toString("utf-8",a+=4,a+c),m=e.UINT32_BE.get(i,a+=c),f=e.UINT32_BE.get(i,a+=4),d=e.UINT32_BE.get(i,a+=4),b=e.UINT32_BE.get(i,a+=4),_=e.UINT32_BE.get(i,a+=4),v=Buffer.from(i.slice(a+=4,a+_));return{type:o,format:l,description:u,width:m,height:f,colour_depth:d,indexed_color:b,data:v}}}return Vorbis.VorbisPictureToken=n,Vorbis.CommonHeader={len:7,get:(r,i)=>({packetType:r.readUInt8(i),vorbis:new e.StringType(6,"ascii").get(r,i+1)})},Vorbis.IdentificationHeader={len:23,get:(r,i)=>{const a=new DataView(r.buffer,r.byteOffset);return{version:a.getUint32(i+0,!0),channelMode:a.getUint8(i+4),sampleRate:a.getUint32(i+5,!0),bitrateMax:a.getUint32(i+9,!0),bitrateNominal:a.getUint32(i+13,!0),bitrateMin:a.getUint32(i+17,!0)}}},Vorbis}var AbstractID3Parser={},hasRequiredAbstractID3Parser;function requireAbstractID3Parser(){if(hasRequiredAbstractID3Parser)return AbstractID3Parser;hasRequiredAbstractID3Parser=1,Object.defineProperty(AbstractID3Parser,"__esModule",{value:!0}),AbstractID3Parser.AbstractID3Parser=void 0;const e=requireCore$2(),t=requireBrowser$3(),n=requireID3v2Token(),r=requireID3v2Parser(),i=requireID3v1Parser(),a=requireBasicParser(),o=(0,t.default)("music-metadata:parser:ID3");let s=class extends a.BasicParser{constructor(){super(...arguments),this.id3parser=new r.ID3v2Parser}static async startsWithID3v2Header(c){return(await c.peekToken(n.ID3v2Header)).fileIdentifier==="ID3"}async parse(){try{await this.parseID3v2()}catch(c){if(c instanceof e.EndOfStreamError)o("End-of-stream");else throw c}}finalize(){}async parseID3v2(){await this.tryReadId3v2Headers(),o("End of ID3v2 header, go to MPEG-parser: pos=%s",this.tokenizer.position),await this.postId3v2Parse(),this.options.skipPostHeaders&&this.metadata.hasAny()?this.finalize():(await new i.ID3v1Parser().init(this.metadata,this.tokenizer,this.options).parse(),this.finalize())}async tryReadId3v2Headers(){if((await this.tokenizer.peekToken(n.ID3v2Header)).fileIdentifier==="ID3")return o("Found ID3v2 header, pos=%s",this.tokenizer.position),await this.id3parser.parse(this.metadata,this.tokenizer,this.options),this.tryReadId3v2Headers()}};return AbstractID3Parser.AbstractID3Parser=s,AbstractID3Parser}var VorbisParser={},VorbisDecoder={},hasRequiredVorbisDecoder;function requireVorbisDecoder(){if(hasRequiredVorbisDecoder)return VorbisDecoder;hasRequiredVorbisDecoder=1,Object.defineProperty(VorbisDecoder,"__esModule",{value:!0}),VorbisDecoder.VorbisDecoder=void 0;const e=requireLib$2();let t=class{constructor(r,i){this.data=r,this.offset=i}readInt32(){const r=e.UINT32_LE.get(this.data,this.offset);return this.offset+=4,r}readStringUtf8(){const r=this.readInt32(),i=Buffer.from(this.data).toString("utf-8",this.offset,this.offset+r);return this.offset+=r,i}parseUserComment(){const r=this.offset,i=this.readStringUtf8(),a=i.indexOf("=");return{key:i.slice(0,a).toUpperCase(),value:i.slice(a+1),len:this.offset-r}}};return VorbisDecoder.VorbisDecoder=t,VorbisDecoder}var hasRequiredVorbisParser;function requireVorbisParser(){if(hasRequiredVorbisParser)return VorbisParser;hasRequiredVorbisParser=1,Object.defineProperty(VorbisParser,"__esModule",{value:!0}),VorbisParser.VorbisParser=void 0;const e=requireLib$2(),t=requireBrowser$3(),n=requireVorbisDecoder(),r=requireVorbis(),i=(0,t.default)("music-metadata:parser:ogg:vorbis1");let a=class{constructor(s,l){this.metadata=s,this.options=l,this.pageSegments=[]}parsePage(s,l){if(s.headerType.firstPage)this.parseFirstPage(s,l);else{if(s.headerType.continued){if(this.pageSegments.length===0)throw new Error("Cannot continue on previous page");this.pageSegments.push(l)}if(s.headerType.lastPage||!s.headerType.continued){if(this.pageSegments.length>0){const c=Buffer.concat(this.pageSegments);this.parseFullPage(c)}this.pageSegments=s.headerType.lastPage?[]:[l]}}s.headerType.lastPage&&this.calculateDuration(s)}flush(){this.parseFullPage(Buffer.concat(this.pageSegments))}parseUserComment(s,l){const u=new n.VorbisDecoder(s,l).parseUserComment();return this.addTag(u.key,u.value),u.len}addTag(s,l){if(s==="METADATA_BLOCK_PICTURE"&&typeof l=="string"){if(this.options.skipCovers){i("Ignore picture");return}l=r.VorbisPictureToken.fromBase64(l),i(`Push picture: id=${s}, format=${l.format}`)}else i(`Push tag: id=${s}, value=${l}`);this.metadata.addTag("vorbis",s,l)}calculateDuration(s){this.metadata.format.sampleRate&&s.absoluteGranulePosition>=0&&(this.metadata.setFormat("numberOfSamples",s.absoluteGranulePosition),this.metadata.setFormat("duration",this.metadata.format.numberOfSamples/this.metadata.format.sampleRate))}parseFirstPage(s,l){this.metadata.setFormat("codec","Vorbis I"),i("Parse first page");const c=r.CommonHeader.get(l,0);if(c.vorbis!=="vorbis")throw new Error("Metadata does not look like Vorbis");if(c.packetType===1){const u=r.IdentificationHeader.get(l,r.CommonHeader.len);this.metadata.setFormat("sampleRate",u.sampleRate),this.metadata.setFormat("bitrate",u.bitrateNominal),this.metadata.setFormat("numberOfChannels",u.channelMode),i("sample-rate=%s[hz], bitrate=%s[b/s], channel-mode=%s",u.sampleRate,u.bitrateNominal,u.channelMode)}else throw new Error("First Ogg page should be type 1: the identification header")}parseFullPage(s){const l=r.CommonHeader.get(s,0);switch(i("Parse full page: type=%s, byteLength=%s",l.packetType,s.byteLength),l.packetType){case 3:return this.parseUserCommentList(s,r.CommonHeader.len)}}parseUserCommentList(s,l){const c=e.UINT32_LE.get(s,l);l+=4,l+=c;let u=e.UINT32_LE.get(s,l);for(l+=4;u-- >0;)l+=this.parseUserComment(s,l)}};return VorbisParser.VorbisParser=a,VorbisParser}var hasRequiredFlacParser;function requireFlacParser(){if(hasRequiredFlacParser)return FlacParser;hasRequiredFlacParser=1,Object.defineProperty(FlacParser,"__esModule",{value:!0}),FlacParser.FlacParser=void 0;const e=requireLib$2(),t=requireBrowser$3(),n=requireUtil$1(),r=requireVorbis(),i=requireAbstractID3Parser(),a=requireFourCC(),o=requireVorbisParser(),s=requireVorbisDecoder(),l=(0,t.default)("music-metadata:parser:FLAC");var c;(function(f){f[f.STREAMINFO=0]="STREAMINFO",f[f.PADDING=1]="PADDING",f[f.APPLICATION=2]="APPLICATION",f[f.SEEKTABLE=3]="SEEKTABLE",f[f.VORBIS_COMMENT=4]="VORBIS_COMMENT",f[f.CUESHEET=5]="CUESHEET",f[f.PICTURE=6]="PICTURE"})(c||(c={}));let u=class extends i.AbstractID3Parser{constructor(){super(...arguments),this.padding=0}init(d,b,_){return super.init(d,b,_),this.vorbisParser=new o.VorbisParser(d,_),this}async postId3v2Parse(){if((await this.tokenizer.readToken(a.FourCcToken)).toString()!=="fLaC")throw new Error("Invalid FLAC preamble");let b;do b=await this.tokenizer.readToken(m.BlockHeader),await this.parseDataBlock(b);while(!b.lastBlock);if(this.tokenizer.fileInfo.size&&this.metadata.format.duration){const _=this.tokenizer.fileInfo.size-this.tokenizer.position;this.metadata.setFormat("bitrate",8*_/this.metadata.format.duration)}}parseDataBlock(d){switch(l(`blockHeader type=${d.type}, length=${d.length}`),d.type){case c.STREAMINFO:return this.parseBlockStreamInfo(d.length);case c.PADDING:this.padding+=d.length;break;case c.APPLICATION:break;case c.SEEKTABLE:break;case c.VORBIS_COMMENT:return this.parseComment(d.length);case c.CUESHEET:break;case c.PICTURE:return this.parsePicture(d.length).then();default:this.metadata.addWarning("Unknown block type: "+d.type)}return this.tokenizer.ignore(d.length).then()}async parseBlockStreamInfo(d){if(d!==m.BlockStreamInfo.len)throw new Error("Unexpected block-stream-info length");const b=await this.tokenizer.readToken(m.BlockStreamInfo);this.metadata.setFormat("container","FLAC"),this.metadata.setFormat("codec","FLAC"),this.metadata.setFormat("lossless",!0),this.metadata.setFormat("numberOfChannels",b.channels),this.metadata.setFormat("bitsPerSample",b.bitsPerSample),this.metadata.setFormat("sampleRate",b.sampleRate),b.totalSamples>0&&this.metadata.setFormat("duration",b.totalSamples/b.sampleRate)}async parseComment(d){const b=await this.tokenizer.readToken(new e.Uint8ArrayType(d)),_=new s.VorbisDecoder(b,0);_.readStringUtf8();const v=_.readInt32();for(let T=0;T<v;T++){const S=_.parseUserComment();this.vorbisParser.addTag(S.key,S.value)}}async parsePicture(d){if(this.options.skipCovers)return this.tokenizer.ignore(d);{const b=await this.tokenizer.readToken(new r.VorbisPictureToken(d));this.vorbisParser.addTag("METADATA_BLOCK_PICTURE",b)}}};FlacParser.FlacParser=u;class m{}return m.BlockHeader={len:4,get:(f,d)=>({lastBlock:n.getBit(f,d,7),type:n.getBitAllignedNumber(f,d,1,7),length:e.UINT24_BE.get(f,d+1)})},m.BlockStreamInfo={len:34,get:(f,d)=>({minimumBlockSize:e.UINT16_BE.get(f,d),maximumBlockSize:e.UINT16_BE.get(f,d+2)/1e3,minimumFrameSize:e.UINT24_BE.get(f,d+4),maximumFrameSize:e.UINT24_BE.get(f,d+7),sampleRate:e.UINT24_BE.get(f,d+10)>>4,channels:n.getBitAllignedNumber(f,d+12,4,3)+1,bitsPerSample:n.getBitAllignedNumber(f,d+12,7,5)+1,totalSamples:n.getBitAllignedNumber(f,d+13,4,36),fileMD5:new e.Uint8ArrayType(16).get(f,d+18)})},FlacParser}var MP4Parser={},Atom={},AtomToken={},hasRequiredAtomToken;function requireAtomToken(){return hasRequiredAtomToken||(hasRequiredAtomToken=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ChapterText=e.StcoAtom=e.StszAtom=e.StscAtom=e.SampleToChunkToken=e.SttsAtom=e.TimeToSampleToken=e.SoundSampleDescriptionV0=e.SoundSampleDescriptionVersion=e.StsdAtom=e.TrackHeaderAtom=e.NameAtom=e.DataAtom=e.MvhdAtom=e.MdhdAtom=e.FixedLengthAtom=e.mhdr=e.tkhd=e.ftyp=e.ExtendedSize=e.Header=void 0;const t=requireLib$2(),n=requireBrowser$3(),r=requireFourCC(),i=(0,n.default)("music-metadata:parser:MP4:atom");e.Header={len:8,get:(F,w)=>{const A=t.UINT32_BE.get(F,w);if(A<0)throw new Error("Invalid atom header length");return{length:BigInt(A),name:new t.StringType(4,"binary").get(F,w+4)}},put:(F,w,A)=>(t.UINT32_BE.put(F,w,Number(A.length)),r.FourCcToken.put(F,w+4,A.name))},e.ExtendedSize=t.UINT64_BE,e.ftyp={len:4,get:(F,w)=>({type:new t.StringType(4,"ascii").get(F,w)})},e.tkhd={len:4,get:(F,w)=>({type:new t.StringType(4,"ascii").get(F,w)})},e.mhdr={len:8,get:(F,w)=>({version:t.UINT8.get(F,w),flags:t.UINT24_BE.get(F,w+1),nextItemID:t.UINT32_BE.get(F,w+4)})};class a{constructor(w,A,Y){if(this.len=w,w<A)throw new Error(`Atom ${Y} expected to be ${A}, but specifies ${w} bytes long.`);w>A&&i(`Warning: atom ${Y} expected to be ${A}, but was actually ${w} bytes long.`)}}e.FixedLengthAtom=a;const o={len:4,get:(F,w)=>{const A=t.UINT32_BE.get(F,w)-2082844800;return new Date(A*1e3)}};class s extends a{constructor(w){super(w,24,"mdhd"),this.len=w}get(w,A){return{version:t.UINT8.get(w,A+0),flags:t.UINT24_BE.get(w,A+1),creationTime:o.get(w,A+4),modificationTime:o.get(w,A+8),timeScale:t.UINT32_BE.get(w,A+12),duration:t.UINT32_BE.get(w,A+16),language:t.UINT16_BE.get(w,A+20),quality:t.UINT16_BE.get(w,A+22)}}}e.MdhdAtom=s;class l extends a{constructor(w){super(w,100,"mvhd"),this.len=w}get(w,A){return{version:t.UINT8.get(w,A),flags:t.UINT24_BE.get(w,A+1),creationTime:o.get(w,A+4),modificationTime:o.get(w,A+8),timeScale:t.UINT32_BE.get(w,A+12),duration:t.UINT32_BE.get(w,A+16),preferredRate:t.UINT32_BE.get(w,A+20),preferredVolume:t.UINT16_BE.get(w,A+24),previewTime:t.UINT32_BE.get(w,A+72),previewDuration:t.UINT32_BE.get(w,A+76),posterTime:t.UINT32_BE.get(w,A+80),selectionTime:t.UINT32_BE.get(w,A+84),selectionDuration:t.UINT32_BE.get(w,A+88),currentTime:t.UINT32_BE.get(w,A+92),nextTrackID:t.UINT32_BE.get(w,A+96)}}}e.MvhdAtom=l;class c{constructor(w){this.len=w}get(w,A){return{type:{set:t.UINT8.get(w,A+0),type:t.UINT24_BE.get(w,A+1)},locale:t.UINT24_BE.get(w,A+4),value:Buffer.from(new t.Uint8ArrayType(this.len-8).get(w,A+8))}}}e.DataAtom=c;class u{constructor(w){this.len=w}get(w,A){return{version:t.UINT8.get(w,A),flags:t.UINT24_BE.get(w,A+1),name:new t.StringType(this.len-4,"utf-8").get(w,A+4)}}}e.NameAtom=u;class m{constructor(w){this.len=w}get(w,A){return{version:t.UINT8.get(w,A),flags:t.UINT24_BE.get(w,A+1),creationTime:o.get(w,A+4),modificationTime:o.get(w,A+8),trackId:t.UINT32_BE.get(w,A+12),duration:t.UINT32_BE.get(w,A+20),layer:t.UINT16_BE.get(w,A+24),alternateGroup:t.UINT16_BE.get(w,A+26),volume:t.UINT16_BE.get(w,A+28)}}}e.TrackHeaderAtom=m;const f={len:8,get:(F,w)=>({version:t.UINT8.get(F,w),flags:t.UINT24_BE.get(F,w+1),numberOfEntries:t.UINT32_BE.get(F,w+4)})};class d{constructor(w){this.len=w}get(w,A){return{dataFormat:r.FourCcToken.get(w,A),dataReferenceIndex:t.UINT16_BE.get(w,A+10),description:new t.Uint8ArrayType(this.len-12).get(w,A+12)}}}class b{constructor(w){this.len=w}get(w,A){const Y=f.get(w,A);A+=f.len;const L=[];for(let U=0;U<Y.numberOfEntries;++U){const V=t.UINT32_BE.get(w,A);A+=t.UINT32_BE.len,L.push(new d(V).get(w,A)),A+=V}return{header:Y,table:L}}}e.StsdAtom=b,e.SoundSampleDescriptionVersion={len:8,get(F,w){return{version:t.INT16_BE.get(F,w),revision:t.INT16_BE.get(F,w+2),vendor:t.INT32_BE.get(F,w+4)}}},e.SoundSampleDescriptionV0={len:12,get(F,w){return{numAudioChannels:t.INT16_BE.get(F,w+0),sampleSize:t.INT16_BE.get(F,w+2),compressionId:t.INT16_BE.get(F,w+4),packetSize:t.INT16_BE.get(F,w+6),sampleRate:t.UINT16_BE.get(F,w+8)+t.UINT16_BE.get(F,w+10)/1e4}}};class _{constructor(w,A){this.len=w,this.token=A}get(w,A){const Y=t.INT32_BE.get(w,A+4);return{version:t.INT8.get(w,A+0),flags:t.INT24_BE.get(w,A+1),numberOfEntries:Y,entries:D(w,this.token,A+8,this.len-8,Y)}}}e.TimeToSampleToken={len:8,get(F,w){return{count:t.INT32_BE.get(F,w+0),duration:t.INT32_BE.get(F,w+4)}}};class v extends _{constructor(w){super(w,e.TimeToSampleToken),this.len=w}}e.SttsAtom=v,e.SampleToChunkToken={len:12,get(F,w){return{firstChunk:t.INT32_BE.get(F,w),samplesPerChunk:t.INT32_BE.get(F,w+4),sampleDescriptionId:t.INT32_BE.get(F,w+8)}}};class T extends _{constructor(w){super(w,e.SampleToChunkToken),this.len=w}}e.StscAtom=T;class S{constructor(w){this.len=w}get(w,A){const Y=t.INT32_BE.get(w,A+8);return{version:t.INT8.get(w,A),flags:t.INT24_BE.get(w,A+1),sampleSize:t.INT32_BE.get(w,A+4),numberOfEntries:Y,entries:D(w,t.INT32_BE,A+12,this.len-12,Y)}}}e.StszAtom=S;class I extends _{constructor(w){super(w,t.INT32_BE),this.len=w}}e.StcoAtom=I;class C{constructor(w){this.len=w}get(w,A){const Y=t.INT16_BE.get(w,A+0);return new t.StringType(Y,"utf-8").get(w,A+2)}}e.ChapterText=C;function D(F,w,A,Y,L){if(i(`remainingLen=${Y}, numberOfEntries=${L} * token-len=${w.len}`),Y===0)return[];if(Y!==L*w.len)throw new Error("mismatch number-of-entries with remaining atom-length");const U=[];for(let V=0;V<L;++V)U.push(w.get(F,A)),A+=w.len;return U}})(AtomToken)),AtomToken}var hasRequiredAtom;function requireAtom(){if(hasRequiredAtom)return Atom;hasRequiredAtom=1,Object.defineProperty(Atom,"__esModule",{value:!0}),Atom.Atom=void 0;const e=requireBrowser$3(),t=requireAtomToken(),n=(0,e.default)("music-metadata:parser:MP4:Atom");let r=class We{static async readAtom(a,o,s,l){const c=a.position,u=await a.readToken(t.Header);u.length===BigInt(1)&&(u.length=await a.readToken(t.ExtendedSize));const f=new We(u,u.length===BigInt(1),s),d=f.getPayloadLength(l);return n(`parse atom name=${f.atomPath}, extended=${f.extended}, offset=${c}, len=${f.header.length}`),await f.readData(a,o,d),f}constructor(a,o,s){this.header=a,this.extended=o,this.parent=s,this.children=[],this.atomPath=(this.parent?this.parent.atomPath+".":"")+this.header.name}getHeaderLength(){return this.extended?16:8}getPayloadLength(a){return(this.header.length===BigInt(0)?a:Number(this.header.length))-this.getHeaderLength()}async readAtoms(a,o,s){for(;s>0;){const l=await We.readAtom(a,o,this,s);this.children.push(l),s-=l.header.length===BigInt(0)?s:Number(l.header.length)}}async readData(a,o,s){switch(this.header.name){case"moov":case"udta":case"trak":case"mdia":case"minf":case"stbl":case"<id>":case"ilst":case"tref":return this.readAtoms(a,o,this.getPayloadLength(s));case"meta":const c=(await a.peekToken(t.Header)).name==="hdlr"?0:4;return await a.ignore(c),this.readAtoms(a,o,this.getPayloadLength(s)-c);case"mdhd":case"mvhd":case"tkhd":case"stsz":case"mdat":default:return o(this,s)}}};return Atom.Atom=r,Atom}var hasRequiredMP4Parser;function requireMP4Parser(){if(hasRequiredMP4Parser)return MP4Parser;hasRequiredMP4Parser=1,Object.defineProperty(MP4Parser,"__esModule",{value:!0}),MP4Parser.MP4Parser=void 0;const e=requireBrowser$3(),t=requireLib$2(),n=requireBasicParser(),r=requireID3v1Parser(),i=requireType(),a=requireAtom(),o=requireAtomToken(),s=(0,e.default)("music-metadata:parser:MP4"),l="iTunes",c={raw:{lossy:!1,format:"raw"},MAC3:{lossy:!0,format:"MACE 3:1"},MAC6:{lossy:!0,format:"MACE 6:1"},ima4:{lossy:!0,format:"IMA 4:1"},ulaw:{lossy:!0,format:"uLaw 2:1"},alaw:{lossy:!0,format:"uLaw 2:1"},Qclp:{lossy:!0,format:"QUALCOMM PureVoice"},".mp3":{lossy:!0,format:"MPEG-1 layer 3"},alac:{lossy:!1,format:"ALAC"},"ac-3":{lossy:!0,format:"AC-3"},mp4a:{lossy:!0,format:"MPEG-4/AAC"},mp4s:{lossy:!0,format:"MP4S"},c608:{lossy:!0,format:"CEA-608"},c708:{lossy:!0,format:"CEA-708"}};function u(f,d,b){return b.indexOf(f)===d}let m=class Ge extends n.BasicParser{constructor(){super(...arguments),this.atomParsers={mvhd:async d=>{const b=await this.tokenizer.readToken(new o.MvhdAtom(d));this.metadata.setFormat("creationTime",b.creationTime),this.metadata.setFormat("modificationTime",b.modificationTime)},mdhd:async d=>{const b=await this.tokenizer.readToken(new o.MdhdAtom(d)),_=this.getTrackDescription();_.creationTime=b.creationTime,_.modificationTime=b.modificationTime,_.timeScale=b.timeScale,_.duration=b.duration},chap:async d=>{const b=this.getTrackDescription(),_=[];for(;d>=t.UINT32_BE.len;)_.push(await this.tokenizer.readNumber(t.UINT32_BE)),d-=t.UINT32_BE.len;b.chapterList=_},tkhd:async d=>{const b=await this.tokenizer.readToken(new o.TrackHeaderAtom(d));this.tracks.push(b)},mdat:async d=>{if(this.audioLengthInBytes=d,this.calculateBitRate(),this.options.includeChapters){const b=this.tracks.filter(_=>_.chapterList);if(b.length===1){const _=b[0].chapterList,v=this.tracks.filter(T=>_.indexOf(T.trackId)!==-1);if(v.length===1)return this.parseChapterTrack(v[0],b[0],d)}}await this.tokenizer.ignore(d)},ftyp:async d=>{const b=[];for(;d>0;){const v=await this.tokenizer.readToken(o.ftyp);d-=o.ftyp.len;const T=v.type.replace(/\W/g,"");T.length>0&&b.push(T)}s(`ftyp: ${b.join("/")}`);const _=b.filter(u).join("/");this.metadata.setFormat("container",_)},stsd:async d=>{const b=await this.tokenizer.readToken(new o.StsdAtom(d)),_=this.getTrackDescription();_.soundSampleDescription=b.table.map(v=>this.parseSoundSampleDescription(v))},stsc:async d=>{const b=await this.tokenizer.readToken(new o.StscAtom(d));this.getTrackDescription().sampleToChunkTable=b.entries},stts:async d=>{const b=await this.tokenizer.readToken(new o.SttsAtom(d));this.getTrackDescription().timeToSampleTable=b.entries},stsz:async d=>{const b=await this.tokenizer.readToken(new o.StszAtom(d)),_=this.getTrackDescription();_.sampleSize=b.sampleSize,_.sampleSizeTable=b.entries},stco:async d=>{const b=await this.tokenizer.readToken(new o.StcoAtom(d));this.getTrackDescription().chunkOffsetTable=b.entries},date:async d=>{const b=await this.tokenizer.readToken(new t.StringType(d,"utf-8"));this.addTag("date",b)}}}static read_BE_Integer(d,b){const _=(b?"INT":"UINT")+d.length*8+(d.length>1?"_BE":""),v=t[_];if(!v)throw new Error('Token for integer type not found: "'+_+'"');return Number(v.get(d,0))}async parse(){this.tracks=[];let d=this.tokenizer.fileInfo.size;for(;!this.tokenizer.fileInfo.size||d>0;){try{if((await this.tokenizer.peekToken(o.Header)).name==="\0\0\0\0"){const S=`Error at offset=${this.tokenizer.position}: box.id=0`;s(S),this.addWarning(S);break}}catch(T){const S=`Error at offset=${this.tokenizer.position}: ${T.message}`;s(S),this.addWarning(S);break}const v=await a.Atom.readAtom(this.tokenizer,(T,S)=>this.handleAtom(T,S),null,d);d-=v.header.length===BigInt(0)?d:Number(v.header.length)}const b=[];this.tracks.forEach(v=>{const T=[];v.soundSampleDescription.forEach(S=>{const I={},C=c[S.dataFormat];if(C?(T.push(C.format),I.codecName=C.format):I.codecName=`<${S.dataFormat}>`,S.description){const{description:D}=S;D.sampleRate>0&&(I.type=i.TrackType.audio,I.audio={samplingFrequency:D.sampleRate,bitDepth:D.sampleSize,channels:D.numAudioChannels})}this.metadata.addStreamInfo(I)}),T.length>=1&&b.push(T.join("/"))}),b.length>0&&this.metadata.setFormat("codec",b.filter(u).join("+"));const _=this.tracks.filter(v=>v.soundSampleDescription.length>=1&&v.soundSampleDescription[0].description&&v.soundSampleDescription[0].description.numAudioChannels>0);if(_.length>=1){const v=_[0];if(v.timeScale>0){const I=v.duration/v.timeScale;this.metadata.setFormat("duration",I)}const T=v.soundSampleDescription[0];if(T.description&&(this.metadata.setFormat("sampleRate",T.description.sampleRate),this.metadata.setFormat("bitsPerSample",T.description.sampleSize),this.metadata.setFormat("numberOfChannels",T.description.numAudioChannels),v.timeScale===0&&v.timeToSampleTable.length>0)){const C=v.timeToSampleTable.map(D=>D.count*D.duration).reduce((D,F)=>D+F)/T.description.sampleRate;this.metadata.setFormat("duration",C)}const S=c[T.dataFormat];S&&this.metadata.setFormat("lossless",!S.lossy),this.calculateBitRate()}}async handleAtom(d,b){if(d.parent)switch(d.parent.header.name){case"ilst":case"<id>":return this.parseMetadataItemData(d)}if(this.atomParsers[d.header.name])return this.atomParsers[d.header.name](b);s(`No parser for atom path=${d.atomPath}, payload-len=${b}, ignoring atom`),await this.tokenizer.ignore(b)}getTrackDescription(){return this.tracks[this.tracks.length-1]}calculateBitRate(){this.audioLengthInBytes&&this.metadata.format.duration&&this.metadata.setFormat("bitrate",8*this.audioLengthInBytes/this.metadata.format.duration)}addTag(d,b){this.metadata.addTag(l,d,b)}addWarning(d){s("Warning: "+d),this.metadata.addWarning(d)}parseMetadataItemData(d){let b=d.header.name;return d.readAtoms(this.tokenizer,async(_,v)=>{const T=_.getPayloadLength(v);switch(_.header.name){case"data":return this.parseValueAtom(b,_);case"name":case"mean":case"rate":const S=await this.tokenizer.readToken(new o.NameAtom(T));b+=":"+S.name;break;default:const I=await this.tokenizer.readToken(new t.BufferType(T));this.addWarning("Unsupported meta-item: "+b+"["+_.header.name+"] => value="+I.toString("hex")+" ascii="+I.toString("ascii"))}},d.getPayloadLength(0))}async parseValueAtom(d,b){const _=await this.tokenizer.readToken(new o.DataAtom(Number(b.header.length)-o.Header.len));if(_.type.set!==0)throw new Error("Unsupported type-set != 0: "+_.type.set);switch(_.type.type){case 0:switch(d){case"trkn":case"disk":const v=t.UINT8.get(_.value,3),T=t.UINT8.get(_.value,5);this.addTag(d,v+"/"+T);break;case"gnre":const S=t.UINT8.get(_.value,1),I=r.Genres[S-1];this.addTag(d,I);break;case"rate":const C=_.value.toString("ascii");this.addTag(d,C);break;default:s("unknown proprietary value type for: "+b.atomPath)}break;case 1:case 18:this.addTag(d,_.value.toString("utf-8"));break;case 13:if(this.options.skipCovers)break;this.addTag(d,{format:"image/jpeg",data:Buffer.from(_.value)});break;case 14:if(this.options.skipCovers)break;this.addTag(d,{format:"image/png",data:Buffer.from(_.value)});break;case 21:this.addTag(d,Ge.read_BE_Integer(_.value,!0));break;case 22:this.addTag(d,Ge.read_BE_Integer(_.value,!1));break;case 65:this.addTag(d,_.value.readInt8(0));break;case 66:this.addTag(d,_.value.readInt16BE(0));break;case 67:this.addTag(d,_.value.readInt32BE(0));break;default:this.addWarning(`atom key=${d}, has unknown well-known-type (data-type): ${_.type.type}`)}}parseSoundSampleDescription(d){const b={dataFormat:d.dataFormat,dataReferenceIndex:d.dataReferenceIndex};let _=0;const v=o.SoundSampleDescriptionVersion.get(d.description,_);return _+=o.SoundSampleDescriptionVersion.len,v.version===0||v.version===1?b.description=o.SoundSampleDescriptionV0.get(d.description,_):s(`Warning: sound-sample-description ${v} not implemented`),b}async parseChapterTrack(d,b,_){if(!d.sampleSize&&d.chunkOffsetTable.length!==d.sampleSizeTable.length)throw new Error("Expected equal chunk-offset-table & sample-size-table length.");const v=[];for(let T=0;T<d.chunkOffsetTable.length&&_>0;++T){const I=d.chunkOffsetTable[T]-this.tokenizer.position,C=d.sampleSize>0?d.sampleSize:d.sampleSizeTable[T];if(_-=I+C,_<0)throw new Error("Chapter chunk exceeding token length");await this.tokenizer.ignore(I);const D=await this.tokenizer.readToken(new o.ChapterText(C));s(`Chapter ${T+1}: ${D}`);const F={title:D,sampleOffset:this.findSampleOffset(b,this.tokenizer.position)};s(`Chapter title=${F.title}, offset=${F.sampleOffset}/${this.tracks[0].duration}`),v.push(F)}this.metadata.setFormat("chapters",v),await this.tokenizer.ignore(_)}findSampleOffset(d,b){let _=0;d.timeToSampleTable.forEach(T=>{_+=T.count*T.duration}),s(`Total duration=${_}`);let v=0;for(;v<d.chunkOffsetTable.length&&d.chunkOffsetTable[v]<b;)++v;return this.getChunkDuration(v+1,d)}getChunkDuration(d,b){let _=0,v=b.timeToSampleTable[_].count,T=b.timeToSampleTable[_].duration,S=1,I=this.getSamplesPerChunk(S,b.sampleToChunkTable),C=0;for(;S<d;){const D=Math.min(v,I);C+=D*T,v-=D,I-=D,I===0?(++S,I=this.getSamplesPerChunk(S,b.sampleToChunkTable)):(++_,v=b.timeToSampleTable[_].count,T=b.timeToSampleTable[_].duration)}return C}getSamplesPerChunk(d,b){for(let _=0;_<b.length-1;++_)if(d>=b[_].firstChunk&&d<b[_+1].firstChunk)return b[_].samplesPerChunk;return b[b.length-1].samplesPerChunk}};return MP4Parser.MP4Parser=m,MP4Parser}var MpegParser={},XingTag={},ExtendedLameHeader={},ReplayGainDataFormat={},hasRequiredReplayGainDataFormat;function requireReplayGainDataFormat(){if(hasRequiredReplayGainDataFormat)return ReplayGainDataFormat;hasRequiredReplayGainDataFormat=1,Object.defineProperty(ReplayGainDataFormat,"__esModule",{value:!0}),ReplayGainDataFormat.ReplayGain=void 0;const e=requireUtil$1();var t;(function(r){r[r.not_set=0]="not_set",r[r.radio=1]="radio",r[r.audiophile=2]="audiophile"})(t||(t={}));var n;return(function(r){r[r.unspecified=0]="unspecified",r[r.engineer=1]="engineer",r[r.user=2]="user",r[r.automatic=3]="automatic",r[r.rms_average=4]="rms_average"})(n||(n={})),ReplayGainDataFormat.ReplayGain={len:2,get:(r,i)=>{const a=e.getBitAllignedNumber(r,i,0,3),o=e.getBitAllignedNumber(r,i,6,1),s=e.getBitAllignedNumber(r,i,7,9)/10;if(a>0)return{type:e.getBitAllignedNumber(r,i,0,3),origin:e.getBitAllignedNumber(r,i,3,3),adjustment:o?-s:s}}},ReplayGainDataFormat}var hasRequiredExtendedLameHeader;function requireExtendedLameHeader(){if(hasRequiredExtendedLameHeader)return ExtendedLameHeader;hasRequiredExtendedLameHeader=1,Object.defineProperty(ExtendedLameHeader,"__esModule",{value:!0}),ExtendedLameHeader.ExtendedLameHeader=void 0;const e=requireLib$2(),t=requireUtil$1(),n=requireReplayGainDataFormat();return ExtendedLameHeader.ExtendedLameHeader={len:27,get:(r,i)=>{const a=e.UINT32_BE.get(r,i+2);return{revision:t.getBitAllignedNumber(r,i,0,4),vbr_method:t.getBitAllignedNumber(r,i,4,4),lowpass_filter:100*e.UINT8.get(r,i+1),track_peak:a===0?void 0:a/Math.pow(2,23),track_gain:n.ReplayGain.get(r,6),album_gain:n.ReplayGain.get(r,8),music_length:e.UINT32_BE.get(r,i+20),music_crc:e.UINT8.get(r,i+24),header_crc:e.UINT16_BE.get(r,i+24)}}},ExtendedLameHeader}var hasRequiredXingTag;function requireXingTag(){return hasRequiredXingTag||(hasRequiredXingTag=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.readXingHeader=e.XingHeaderFlags=e.LameEncoderVersion=e.InfoTagHeaderTag=void 0;const t=requireLib$2(),n=requireUtil$1(),r=requireExtendedLameHeader();e.InfoTagHeaderTag=new t.StringType(4,"ascii"),e.LameEncoderVersion=new t.StringType(6,"ascii"),e.XingHeaderFlags={len:4,get:(a,o)=>({frames:n.isBitSet(a,o,31),bytes:n.isBitSet(a,o,30),toc:n.isBitSet(a,o,29),vbrScale:n.isBitSet(a,o,28)})};async function i(a){const o=await a.readToken(e.XingHeaderFlags),s={};if(o.frames&&(s.numFrames=await a.readToken(t.UINT32_BE)),o.bytes&&(s.streamSize=await a.readToken(t.UINT32_BE)),o.toc&&(s.toc=Buffer.alloc(100),await a.readBuffer(s.toc)),o.vbrScale&&(s.vbrScale=await a.readToken(t.UINT32_BE)),await a.peekToken(new t.StringType(4,"ascii"))==="LAME"&&(await a.ignore(4),s.lame={version:await a.readToken(new t.StringType(5,"ascii"))},s.lame.version.match(/\d+.\d+/g))){const m=s.lame.version.match(/\d+.\d+/g)[0].split(".").map(f=>parseInt(f,10));m[0]>=3&&m[1]>=90&&(s.lame.extended=await a.readToken(r.ExtendedLameHeader))}return s}e.readXingHeader=i})(XingTag)),XingTag}var hasRequiredMpegParser;function requireMpegParser(){if(hasRequiredMpegParser)return MpegParser;hasRequiredMpegParser=1,Object.defineProperty(MpegParser,"__esModule",{value:!0}),MpegParser.MpegParser=void 0;const e=requireLib$2(),t=requireCore$2(),n=requireBrowser$3(),r=requireUtil$1(),i=requireAbstractID3Parser(),a=requireXingTag(),o=(0,n.default)("music-metadata:parser:mpeg"),s=1024,l={AudioObjectTypes:["AAC Main","AAC LC","AAC SSR","AAC LTP"],SamplingFrequencies:[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350,void 0,void 0,-1]},c=[void 0,["front-center"],["front-left","front-right"],["front-center","front-left","front-right"],["front-center","front-left","front-right","back-center"],["front-center","front-left","front-right","back-left","back-right"],["front-center","front-left","front-right","back-left","back-right","LFE-channel"],["front-center","front-left","front-right","side-left","side-right","back-left","back-right","LFE-channel"]];class u{constructor(_,v){this.versionIndex=r.getBitAllignedNumber(_,v+1,3,2),this.layer=u.LayerDescription[r.getBitAllignedNumber(_,v+1,5,2)],this.versionIndex>1&&this.layer===0?this.parseAdtsHeader(_,v):this.parseMpegHeader(_,v),this.isProtectedByCRC=!r.isBitSet(_,v+1,7)}calcDuration(_){return _*this.calcSamplesPerFrame()/this.samplingRate}calcSamplesPerFrame(){return u.samplesInFrameTable[this.version===1?0:1][this.layer]}calculateSideInfoLength(){if(this.layer!==3)return 2;if(this.channelModeIndex===3){if(this.version===1)return 17;if(this.version===2||this.version===2.5)return 9}else{if(this.version===1)return 32;if(this.version===2||this.version===2.5)return 17}}calcSlotSize(){return[null,4,1,1][this.layer]}parseMpegHeader(_,v){this.container="MPEG",this.bitrateIndex=r.getBitAllignedNumber(_,v+2,0,4),this.sampRateFreqIndex=r.getBitAllignedNumber(_,v+2,4,2),this.padding=r.isBitSet(_,v+2,6),this.privateBit=r.isBitSet(_,v+2,7),this.channelModeIndex=r.getBitAllignedNumber(_,v+3,0,2),this.modeExtension=r.getBitAllignedNumber(_,v+3,2,2),this.isCopyrighted=r.isBitSet(_,v+3,4),this.isOriginalMedia=r.isBitSet(_,v+3,5),this.emphasis=r.getBitAllignedNumber(_,v+3,7,2),this.version=u.VersionID[this.versionIndex],this.channelMode=u.ChannelMode[this.channelModeIndex],this.codec=`MPEG ${this.version} Layer ${this.layer}`;const T=this.calcBitrate();if(!T)throw new Error("Cannot determine bit-rate");if(this.bitrate=T*1e3,this.samplingRate=this.calcSamplingRate(),this.samplingRate==null)throw new Error("Cannot determine sampling-rate")}parseAdtsHeader(_,v){o("layer=0 => ADTS"),this.version=this.versionIndex===2?4:2,this.container="ADTS/MPEG-"+this.version;const T=r.getBitAllignedNumber(_,v+2,0,2);this.codec="AAC",this.codecProfile=l.AudioObjectTypes[T],o(`MPEG-4 audio-codec=${this.codec}`);const S=r.getBitAllignedNumber(_,v+2,2,4);this.samplingRate=l.SamplingFrequencies[S],o(`sampling-rate=${this.samplingRate}`);const I=r.getBitAllignedNumber(_,v+2,7,3);this.mp4ChannelConfig=c[I],o(`channel-config=${this.mp4ChannelConfig.join("+")}`),this.frameLength=r.getBitAllignedNumber(_,v+3,6,2)<<11}calcBitrate(){if(this.bitrateIndex===0||this.bitrateIndex===15)return;const _=`${Math.floor(this.version)}${this.layer}`;return u.bitrate_index[this.bitrateIndex][_]}calcSamplingRate(){return this.sampRateFreqIndex===3?null:u.sampling_rate_freq_index[this.version][this.sampRateFreqIndex]}}u.SyncByte1=255,u.SyncByte2=224,u.VersionID=[2.5,null,2,1],u.LayerDescription=[0,3,2,1],u.ChannelMode=["stereo","joint_stereo","dual_channel","mono"],u.bitrate_index={1:{11:32,12:32,13:32,21:32,22:8,23:8},2:{11:64,12:48,13:40,21:48,22:16,23:16},3:{11:96,12:56,13:48,21:56,22:24,23:24},4:{11:128,12:64,13:56,21:64,22:32,23:32},5:{11:160,12:80,13:64,21:80,22:40,23:40},6:{11:192,12:96,13:80,21:96,22:48,23:48},7:{11:224,12:112,13:96,21:112,22:56,23:56},8:{11:256,12:128,13:112,21:128,22:64,23:64},9:{11:288,12:160,13:128,21:144,22:80,23:80},10:{11:320,12:192,13:160,21:160,22:96,23:96},11:{11:352,12:224,13:192,21:176,22:112,23:112},12:{11:384,12:256,13:224,21:192,22:128,23:128},13:{11:416,12:320,13:256,21:224,22:144,23:144},14:{11:448,12:384,13:320,21:256,22:160,23:160}},u.sampling_rate_freq_index={1:{0:44100,1:48e3,2:32e3},2:{0:22050,1:24e3,2:16e3},2.5:{0:11025,1:12e3,2:8e3}},u.samplesInFrameTable=[[0,384,1152,1152],[0,384,1152,576]];const m={len:4,get:(b,_)=>new u(b,_)};function f(b){return"V"+Math.floor((100-b)/10)}let d=class extends i.AbstractID3Parser{constructor(){super(...arguments),this.frameCount=0,this.syncFrameCount=-1,this.countSkipFrameData=0,this.totalDataLength=0,this.bitrates=[],this.calculateEofDuration=!1,this.buf_frame_header=Buffer.alloc(4),this.syncPeek={buf:Buffer.alloc(s),len:0}}async postId3v2Parse(){this.metadata.setFormat("lossless",!1);try{let _=!1;for(;!_;)await this.sync(),_=await this.parseCommonMpegHeader()}catch(_){if(_ instanceof t.EndOfStreamError){if(o("End-of-stream"),this.calculateEofDuration){const v=this.frameCount*this.samplesPerFrame;this.metadata.setFormat("numberOfSamples",v);const T=v/this.metadata.format.sampleRate;o(`Calculate duration at EOF: ${T} sec.`,T),this.metadata.setFormat("duration",T)}}else throw _}}finalize(){const _=this.metadata.format,v=this.metadata.native.hasOwnProperty("ID3v1");if(_.duration&&this.tokenizer.fileInfo.size){const T=this.tokenizer.fileInfo.size-this.mpegOffset-(v?128:0);_.codecProfile&&_.codecProfile[0]==="V"&&this.metadata.setFormat("bitrate",T*8/_.duration)}else if(this.tokenizer.fileInfo.size&&_.codecProfile==="CBR"){const T=this.tokenizer.fileInfo.size-this.mpegOffset-(v?128:0),S=Math.round(T/this.frame_size)*this.samplesPerFrame;this.metadata.setFormat("numberOfSamples",S);const I=S/_.sampleRate;o("Calculate CBR duration based on file size: %s",I),this.metadata.setFormat("duration",I)}}async sync(){let _=!1;for(;;){let v=0;if(this.syncPeek.len=await this.tokenizer.peekBuffer(this.syncPeek.buf,{length:s,mayBeLess:!0}),this.syncPeek.len<=163)throw new t.EndOfStreamError;for(;;)if(_&&(this.syncPeek.buf[v]&224)===224){this.buf_frame_header[0]=u.SyncByte1,this.buf_frame_header[1]=this.syncPeek.buf[v],await this.tokenizer.ignore(v),o(`Sync at offset=${this.tokenizer.position-1}, frameCount=${this.frameCount}`),this.syncFrameCount===this.frameCount&&(o(`Re-synced MPEG stream, frameCount=${this.frameCount}`),this.frameCount=0,this.frame_size=0),this.syncFrameCount=this.frameCount;return}else if(_=!1,v=this.syncPeek.buf.indexOf(u.SyncByte1,v),v===-1){if(this.syncPeek.len<this.syncPeek.buf.length)throw new t.EndOfStreamError;await this.tokenizer.ignore(this.syncPeek.len);break}else++v,_=!0}}async parseCommonMpegHeader(){this.frameCount===0&&(this.mpegOffset=this.tokenizer.position-1),await this.tokenizer.peekBuffer(this.buf_frame_header,{offset:1,length:3});let _;try{_=m.get(this.buf_frame_header,0)}catch(v){return await this.tokenizer.ignore(1),this.metadata.addWarning("Parse error: "+v.message),!1}return await this.tokenizer.ignore(3),this.metadata.setFormat("container",_.container),this.metadata.setFormat("codec",_.codec),this.metadata.setFormat("lossless",!1),this.metadata.setFormat("sampleRate",_.samplingRate),this.frameCount++,_.version>=2&&_.layer===0?this.parseAdts(_):this.parseAudioFrameHeader(_)}async parseAudioFrameHeader(_){this.metadata.setFormat("numberOfChannels",_.channelMode==="mono"?1:2),this.metadata.setFormat("bitrate",_.bitrate),this.frameCount<20*1e4&&o("offset=%s MP%s bitrate=%s sample-rate=%s",this.tokenizer.position-4,_.layer,_.bitrate,_.samplingRate);const v=_.calcSlotSize();if(v===null)throw new Error("invalid slot_size");const T=_.calcSamplesPerFrame();o(`samples_per_frame=${T}`);const I=T/8*_.bitrate/_.samplingRate+(_.padding?v:0);if(this.frame_size=Math.floor(I),this.audioFrameHeader=_,this.bitrates.push(_.bitrate),this.frameCount===1)return this.offset=m.len,await this.skipSideInformation(),!1;if(this.frameCount===3){if(this.areAllSame(this.bitrates)){if(this.samplesPerFrame=T,this.metadata.setFormat("codecProfile","CBR"),this.tokenizer.fileInfo.size)return!0}else if(this.metadata.format.duration)return!0;if(!this.options.duration)return!0}return this.options.duration&&this.frameCount===4&&(this.samplesPerFrame=T,this.calculateEofDuration=!0),this.offset=4,_.isProtectedByCRC?(await this.parseCrc(),!1):(await this.skipSideInformation(),!1)}async parseAdts(_){const v=Buffer.alloc(3);await this.tokenizer.readBuffer(v),_.frameLength+=r.getBitAllignedNumber(v,0,0,11),this.totalDataLength+=_.frameLength,this.samplesPerFrame=1024;const T=_.samplingRate/this.samplesPerFrame,I=8*(this.frameCount===0?0:this.totalDataLength/this.frameCount)*T+.5;if(this.metadata.setFormat("bitrate",I),o(`frame-count=${this.frameCount}, size=${_.frameLength} bytes, bit-rate=${I}`),await this.tokenizer.ignore(_.frameLength>7?_.frameLength-7:1),this.frameCount===3)if(this.metadata.setFormat("codecProfile",_.codecProfile),_.mp4ChannelConfig&&this.metadata.setFormat("numberOfChannels",_.mp4ChannelConfig.length),this.options.duration)this.calculateEofDuration=!0;else return!0;return!1}async parseCrc(){return this.crc=await this.tokenizer.readNumber(e.INT16_BE),this.offset+=2,this.skipSideInformation()}async skipSideInformation(){const _=this.audioFrameHeader.calculateSideInfoLength();await this.tokenizer.readToken(new e.Uint8ArrayType(_)),this.offset+=_,await this.readXtraInfoHeader()}async readXtraInfoHeader(){const _=await this.tokenizer.readToken(a.InfoTagHeaderTag);switch(this.offset+=a.InfoTagHeaderTag.len,_){case"Info":return this.metadata.setFormat("codecProfile","CBR"),this.readXingInfoHeader();case"Xing":const T=await this.readXingInfoHeader(),S=f(T.vbrScale);return this.metadata.setFormat("codecProfile",S),null;case"Xtra":break;case"LAME":const I=await this.tokenizer.readToken(a.LameEncoderVersion);if(this.frame_size>=this.offset+a.LameEncoderVersion.len)return this.offset+=a.LameEncoderVersion.len,this.metadata.setFormat("tool","LAME "+I),await this.skipFrameData(this.frame_size-this.offset),null;this.metadata.addWarning("Corrupt LAME header");break}const v=this.frame_size-this.offset;return v<0?this.metadata.addWarning("Frame "+this.frameCount+"corrupt: negative frameDataLeft"):await this.skipFrameData(v),null}async readXingInfoHeader(){const _=this.tokenizer.position,v=await(0,a.readXingHeader)(this.tokenizer);if(this.offset+=this.tokenizer.position-_,v.lame&&(this.metadata.setFormat("tool","LAME "+r.stripNulls(v.lame.version)),v.lame.extended&&(this.metadata.setFormat("trackPeakLevel",v.lame.extended.track_peak),v.lame.extended.track_gain&&this.metadata.setFormat("trackGain",v.lame.extended.track_gain.adjustment),v.lame.extended.album_gain&&this.metadata.setFormat("albumGain",v.lame.extended.album_gain.adjustment),this.metadata.setFormat("duration",v.lame.extended.music_length/1e3))),v.streamSize){const S=this.audioFrameHeader.calcDuration(v.numFrames);return this.metadata.setFormat("duration",S),o("Get duration from Xing header: %s",this.metadata.format.duration),v}const T=this.frame_size-this.offset;return await this.skipFrameData(T),v}async skipFrameData(_){if(_<0)throw new Error("frame-data-left cannot be negative");await this.tokenizer.ignore(_),this.countSkipFrameData+=_}areAllSame(_){const v=_[0];return _.every(T=>T===v)}};return MpegParser.MpegParser=d,MpegParser}var musepack={},MpcSv8Parser={},StreamVersion8={},hasRequiredStreamVersion8;function requireStreamVersion8(){if(hasRequiredStreamVersion8)return StreamVersion8;hasRequiredStreamVersion8=1,Object.defineProperty(StreamVersion8,"__esModule",{value:!0}),StreamVersion8.StreamReader=void 0;const e=requireLib$2(),t=requireBrowser$3(),n=requireUtil$1(),r=(0,t.default)("music-metadata:parser:musepack:sv8"),i=new e.StringType(2,"binary"),a={len:5,get:(l,c)=>({crc:e.UINT32_LE.get(l,c),streamVersion:e.UINT8.get(l,c+4)})},o={len:2,get:(l,c)=>({sampleFrequency:[44100,48e3,37800,32e3][n.getBitAllignedNumber(l,c,0,3)],maxUsedBands:n.getBitAllignedNumber(l,c,3,5),channelCount:n.getBitAllignedNumber(l,c+1,0,4)+1,msUsed:n.isBitSet(l,c+1,4),audioBlockFrames:n.getBitAllignedNumber(l,c+1,5,3)})};class s{constructor(c){this.tokenizer=c}async readPacketHeader(){const c=await this.tokenizer.readToken(i),u=await this.readVariableSizeField();return{key:c,payloadLength:u.value-2-u.len}}async readStreamHeader(c){const u={};r(`Reading SH at offset=${this.tokenizer.position}`);const m=await this.tokenizer.readToken(a);c-=a.len,Object.assign(u,m),r(`SH.streamVersion = ${m.streamVersion}`);const f=await this.readVariableSizeField();c-=f.len,u.sampleCount=f.value;const d=await this.readVariableSizeField();c-=d.len,u.beginningOfSilence=d.value;const b=await this.tokenizer.readToken(o);return c-=o.len,Object.assign(u,b),await this.tokenizer.ignore(c),u}async readVariableSizeField(c=1,u=0){let m=await this.tokenizer.readNumber(e.UINT8);return(m&128)===0?{len:c,value:u+m}:(m&=127,m+=u,this.readVariableSizeField(c+1,m<<7))}}return StreamVersion8.StreamReader=s,StreamVersion8}var hasRequiredMpcSv8Parser;function requireMpcSv8Parser(){if(hasRequiredMpcSv8Parser)return MpcSv8Parser;hasRequiredMpcSv8Parser=1,Object.defineProperty(MpcSv8Parser,"__esModule",{value:!0}),MpcSv8Parser.MpcSv8Parser=void 0;const e=requireBrowser$3(),t=requireBasicParser(),n=requireAPEv2Parser(),r=requireFourCC(),i=requireStreamVersion8(),a=(0,e.default)("music-metadata:parser:musepack");let o=class extends t.BasicParser{constructor(){super(...arguments),this.audioLength=0}async parse(){if(await this.tokenizer.readToken(r.FourCcToken)!=="MPCK")throw new Error("Invalid Magic number");return this.metadata.setFormat("container","Musepack, SV8"),this.parsePacket()}async parsePacket(){const l=new i.StreamReader(this.tokenizer);do{const c=await l.readPacketHeader();switch(a(`packet-header key=${c.key}, payloadLength=${c.payloadLength}`),c.key){case"SH":const u=await l.readStreamHeader(c.payloadLength);this.metadata.setFormat("numberOfSamples",u.sampleCount),this.metadata.setFormat("sampleRate",u.sampleFrequency),this.metadata.setFormat("duration",u.sampleCount/u.sampleFrequency),this.metadata.setFormat("numberOfChannels",u.channelCount);break;case"AP":this.audioLength+=c.payloadLength,await this.tokenizer.ignore(c.payloadLength);break;case"RG":case"EI":case"SO":case"ST":case"CT":await this.tokenizer.ignore(c.payloadLength);break;case"SE":return this.metadata.setFormat("bitrate",this.audioLength*8/this.metadata.format.duration),n.APEv2Parser.tryParseApeHeader(this.metadata,this.tokenizer,this.options);default:throw new Error(`Unexpected header: ${c.key}`)}}while(!0)}};return MpcSv8Parser.MpcSv8Parser=o,MpcSv8Parser}var MpcSv7Parser={},BitReader={},hasRequiredBitReader;function requireBitReader(){if(hasRequiredBitReader)return BitReader;hasRequiredBitReader=1,Object.defineProperty(BitReader,"__esModule",{value:!0}),BitReader.BitReader=void 0;const e=requireLib$2();let t=class{constructor(r){this.tokenizer=r,this.pos=0,this.dword=void 0}async read(r){for(;this.dword===void 0;)this.dword=await this.tokenizer.readToken(e.UINT32_LE);let i=this.dword;return this.pos+=r,this.pos<32?(i>>>=32-this.pos,i&(1<<r)-1):(this.pos-=32,this.pos===0?(this.dword=void 0,i&(1<<r)-1):(this.dword=await this.tokenizer.readToken(e.UINT32_LE),this.pos&&(i<<=this.pos,i|=this.dword>>>32-this.pos),i&(1<<r)-1))}async ignore(r){if(this.pos>0){const o=32-this.pos;this.dword=void 0,r-=o,this.pos=0}const i=r%32,a=(r-i)/32;return await this.tokenizer.ignore(a*4),this.read(i)}};return BitReader.BitReader=t,BitReader}var StreamVersion7={},hasRequiredStreamVersion7;function requireStreamVersion7(){if(hasRequiredStreamVersion7)return StreamVersion7;hasRequiredStreamVersion7=1,Object.defineProperty(StreamVersion7,"__esModule",{value:!0}),StreamVersion7.Header=void 0;const e=requireLib$2(),t=requireUtil$1();return StreamVersion7.Header={len:24,get:(n,r)=>{const i={signature:Buffer.from(n).toString("latin1",r,r+3),streamMinorVersion:t.getBitAllignedNumber(n,r+3,0,4),streamMajorVersion:t.getBitAllignedNumber(n,r+3,4,4),frameCount:e.UINT32_LE.get(n,r+4),maxLevel:e.UINT16_LE.get(n,r+8),sampleFrequency:[44100,48e3,37800,32e3][t.getBitAllignedNumber(n,r+10,0,2)],link:t.getBitAllignedNumber(n,r+10,2,2),profile:t.getBitAllignedNumber(n,r+10,4,4),maxBand:t.getBitAllignedNumber(n,r+11,0,6),intensityStereo:t.isBitSet(n,r+11,6),midSideStereo:t.isBitSet(n,r+11,7),titlePeak:e.UINT16_LE.get(n,r+12),titleGain:e.UINT16_LE.get(n,r+14),albumPeak:e.UINT16_LE.get(n,r+16),albumGain:e.UINT16_LE.get(n,r+18),lastFrameLength:e.UINT32_LE.get(n,r+20)>>>20&2047,trueGapless:t.isBitSet(n,r+23,0)};return i.lastFrameLength=i.trueGapless?e.UINT32_LE.get(n,20)>>>20&2047:0,i}},StreamVersion7}var hasRequiredMpcSv7Parser;function requireMpcSv7Parser(){if(hasRequiredMpcSv7Parser)return MpcSv7Parser;hasRequiredMpcSv7Parser=1,Object.defineProperty(MpcSv7Parser,"__esModule",{value:!0}),MpcSv7Parser.MpcSv7Parser=void 0;const e=requireBrowser$3(),t=requireBasicParser(),n=requireAPEv2Parser(),r=requireBitReader(),i=requireStreamVersion7(),a=(0,e.default)("music-metadata:parser:musepack");let o=class extends t.BasicParser{constructor(){super(...arguments),this.audioLength=0}async parse(){const l=await this.tokenizer.readToken(i.Header);if(l.signature!=="MP+")throw new Error("Unexpected magic number");a(`stream-version=${l.streamMajorVersion}.${l.streamMinorVersion}`),this.metadata.setFormat("container","Musepack, SV7"),this.metadata.setFormat("sampleRate",l.sampleFrequency);const c=1152*(l.frameCount-1)+l.lastFrameLength;this.metadata.setFormat("numberOfSamples",c),this.duration=c/l.sampleFrequency,this.metadata.setFormat("duration",this.duration),this.bitreader=new r.BitReader(this.tokenizer),this.metadata.setFormat("numberOfChannels",l.midSideStereo||l.intensityStereo?2:1);const u=await this.bitreader.read(8);return this.metadata.setFormat("codec",(u/100).toFixed(2)),await this.skipAudioData(l.frameCount),a(`End of audio stream, switching to APEv2, offset=${this.tokenizer.position}`),n.APEv2Parser.tryParseApeHeader(this.metadata,this.tokenizer,this.options)}async skipAudioData(l){for(;l-- >0;){const u=await this.bitreader.read(20);this.audioLength+=20+u,await this.bitreader.ignore(u)}const c=await this.bitreader.read(11);this.audioLength+=c,this.metadata.setFormat("bitrate",this.audioLength/this.duration)}};return MpcSv7Parser.MpcSv7Parser=o,MpcSv7Parser}var hasRequiredMusepack;function requireMusepack(){if(hasRequiredMusepack)return musepack;hasRequiredMusepack=1,Object.defineProperty(musepack,"__esModule",{value:!0});const e=requireBrowser$3(),t=requireLib$2(),n=requireAbstractID3Parser(),r=requireMpcSv8Parser(),i=requireMpcSv7Parser(),a=(0,e.default)("music-metadata:parser:musepack");class o extends n.AbstractID3Parser{async postId3v2Parse(){const l=await this.tokenizer.peekToken(new t.StringType(3,"binary"));let c;switch(l){case"MP+":{a("Musepack stream-version 7"),c=new i.MpcSv7Parser;break}case"MPC":{a("Musepack stream-version 8"),c=new r.MpcSv8Parser;break}default:throw new Error("Invalid Musepack signature prefix")}return c.init(this.metadata,this.tokenizer,this.options),c.parse()}}return musepack.default=o,musepack}var OggParser={},OpusParser={},Opus={},hasRequiredOpus;function requireOpus(){if(hasRequiredOpus)return Opus;hasRequiredOpus=1,Object.defineProperty(Opus,"__esModule",{value:!0}),Opus.IdHeader=void 0;const e=requireLib$2();class t{constructor(r){if(this.len=r,r<19)throw new Error("ID-header-page 0 should be at least 19 bytes long")}get(r,i){return{magicSignature:new e.StringType(8,"ascii").get(r,i+0),version:r.readUInt8(i+8),channelCount:r.readUInt8(i+9),preSkip:r.readInt16LE(i+10),inputSampleRate:r.readInt32LE(i+12),outputGain:r.readInt16LE(i+16),channelMapping:r.readUInt8(i+18)}}}return Opus.IdHeader=t,Opus}var hasRequiredOpusParser;function requireOpusParser(){if(hasRequiredOpusParser)return OpusParser;hasRequiredOpusParser=1,Object.defineProperty(OpusParser,"__esModule",{value:!0}),OpusParser.OpusParser=void 0;const e=requireLib$2(),t=requireVorbisParser(),n=requireOpus();let r=class extends t.VorbisParser{constructor(a,o,s){super(a,o),this.tokenizer=s,this.lastPos=-1}parseFirstPage(a,o){if(this.metadata.setFormat("codec","Opus"),this.idHeader=new n.IdHeader(o.length).get(o,0),this.idHeader.magicSignature!=="OpusHead")throw new Error("Illegal ogg/Opus magic-signature");this.metadata.setFormat("sampleRate",this.idHeader.inputSampleRate),this.metadata.setFormat("numberOfChannels",this.idHeader.channelCount)}parseFullPage(a){switch(new e.StringType(8,"ascii").get(a,0)){case"OpusTags":this.parseUserCommentList(a,8),this.lastPos=this.tokenizer.position-a.length;break}}calculateDuration(a){if(this.metadata.format.sampleRate&&a.absoluteGranulePosition>=0){const o=a.absoluteGranulePosition-this.idHeader.preSkip;if(this.metadata.setFormat("numberOfSamples",o),this.metadata.setFormat("duration",o/48e3),this.lastPos!==-1&&this.tokenizer.fileInfo.size&&this.metadata.format.duration){const s=this.tokenizer.fileInfo.size-this.lastPos;this.metadata.setFormat("bitrate",8*s/this.metadata.format.duration)}}}};return OpusParser.OpusParser=r,OpusParser}var SpeexParser={},Speex={},hasRequiredSpeex;function requireSpeex(){if(hasRequiredSpeex)return Speex;hasRequiredSpeex=1,Object.defineProperty(Speex,"__esModule",{value:!0}),Speex.Header=void 0;const e=requireLib$2(),t=requireUtil$1();return Speex.Header={len:80,get:(n,r)=>({speex:new e.StringType(8,"ascii").get(n,r+0),version:t.trimRightNull(new e.StringType(20,"ascii").get(n,r+8)),version_id:n.readInt32LE(r+28),header_size:n.readInt32LE(r+32),rate:n.readInt32LE(r+36),mode:n.readInt32LE(r+40),mode_bitstream_version:n.readInt32LE(r+44),nb_channels:n.readInt32LE(r+48),bitrate:n.readInt32LE(r+52),frame_size:n.readInt32LE(r+56),vbr:n.readInt32LE(r+60),frames_per_packet:n.readInt32LE(r+64),extra_headers:n.readInt32LE(r+68),reserved1:n.readInt32LE(r+72),reserved2:n.readInt32LE(r+76)})},Speex}var hasRequiredSpeexParser;function requireSpeexParser(){if(hasRequiredSpeexParser)return SpeexParser;hasRequiredSpeexParser=1,Object.defineProperty(SpeexParser,"__esModule",{value:!0}),SpeexParser.SpeexParser=void 0;const e=requireBrowser$3(),t=requireVorbisParser(),n=requireSpeex(),r=(0,e.default)("music-metadata:parser:ogg:speex");let i=class extends t.VorbisParser{constructor(o,s,l){super(o,s),this.tokenizer=l}parseFirstPage(o,s){r("First Ogg/Speex page");const l=n.Header.get(s,0);this.metadata.setFormat("codec",`Speex ${l.version}`),this.metadata.setFormat("numberOfChannels",l.nb_channels),this.metadata.setFormat("sampleRate",l.rate),l.bitrate!==-1&&this.metadata.setFormat("bitrate",l.bitrate)}};return SpeexParser.SpeexParser=i,SpeexParser}var TheoraParser={},Theora={},hasRequiredTheora;function requireTheora(){if(hasRequiredTheora)return Theora;hasRequiredTheora=1,Object.defineProperty(Theora,"__esModule",{value:!0}),Theora.IdentificationHeader=void 0;const e=requireLib$2();return Theora.IdentificationHeader={len:42,get:(t,n)=>({id:new e.StringType(7,"ascii").get(t,n),vmaj:t.readUInt8(n+7),vmin:t.readUInt8(n+8),vrev:t.readUInt8(n+9),vmbw:t.readUInt16BE(n+10),vmbh:t.readUInt16BE(n+17),nombr:e.UINT24_BE.get(t,n+37),nqual:t.readUInt8(n+40)})},Theora}var hasRequiredTheoraParser;function requireTheoraParser(){if(hasRequiredTheoraParser)return TheoraParser;hasRequiredTheoraParser=1,Object.defineProperty(TheoraParser,"__esModule",{value:!0}),TheoraParser.TheoraParser=void 0;const e=requireBrowser$3(),t=requireTheora(),n=(0,e.default)("music-metadata:parser:ogg:theora");let r=class{constructor(a,o,s){this.metadata=a,this.tokenizer=s}parsePage(a,o){a.headerType.firstPage&&this.parseFirstPage(a,o)}flush(){n("flush")}calculateDuration(a){n("duration calculation not implemented")}parseFirstPage(a,o){n("First Ogg/Theora page"),this.metadata.setFormat("codec","Theora");const s=t.IdentificationHeader.get(o,0);this.metadata.setFormat("bitrate",s.nombr)}};return TheoraParser.TheoraParser=r,TheoraParser}var hasRequiredOggParser;function requireOggParser(){if(hasRequiredOggParser)return OggParser;hasRequiredOggParser=1,Object.defineProperty(OggParser,"__esModule",{value:!0}),OggParser.OggParser=OggParser.SegmentTable=void 0;const e=requireLib$2(),t=requireCore$2(),n=requireBrowser$3(),r=requireUtil$1(),i=requireFourCC(),a=requireBasicParser(),o=requireVorbisParser(),s=requireOpusParser(),l=requireSpeexParser(),c=requireTheoraParser(),u=(0,n.default)("music-metadata:parser:ogg");class m{static sum(b,_,v){let T=0;for(let S=_;S<_+v;++S)T+=b[S];return T}constructor(b){this.len=b.page_segments}get(b,_){return{totalPageSize:m.sum(b,_,this.len)}}}OggParser.SegmentTable=m;let f=class it extends a.BasicParser{async parse(){u("pos=%s, parsePage()",this.tokenizer.position);try{let b;do{if(b=await this.tokenizer.readToken(it.Header),b.capturePattern!=="OggS")throw new Error("Invalid Ogg capture pattern");this.metadata.setFormat("container","Ogg"),this.header=b,this.pageNumber=b.pageSequenceNo,u("page#=%s, Ogg.id=%s",b.pageSequenceNo,b.capturePattern);const _=await this.tokenizer.readToken(new m(b));u("totalPageSize=%s",_.totalPageSize);const v=await this.tokenizer.readToken(new e.Uint8ArrayType(_.totalPageSize));if(u("firstPage=%s, lastPage=%s, continued=%s",b.headerType.firstPage,b.headerType.lastPage,b.headerType.continued),b.headerType.firstPage){const T=new e.StringType(7,"ascii").get(Buffer.from(v),0);switch(T){case"vorbis":u("Set page consumer to Ogg/Vorbis"),this.pageConsumer=new o.VorbisParser(this.metadata,this.options);break;case"OpusHea":u("Set page consumer to Ogg/Opus"),this.pageConsumer=new s.OpusParser(this.metadata,this.options,this.tokenizer);break;case"Speex  ":u("Set page consumer to Ogg/Speex"),this.pageConsumer=new l.SpeexParser(this.metadata,this.options,this.tokenizer);break;case"fishead":case"\0theora":u("Set page consumer to Ogg/Theora"),this.pageConsumer=new c.TheoraParser(this.metadata,this.options,this.tokenizer);break;default:throw new Error("gg audio-codec not recognized (id="+T+")")}}this.pageConsumer.parsePage(b,v)}while(!b.headerType.lastPage)}catch(b){if(b instanceof t.EndOfStreamError)this.metadata.addWarning("Last OGG-page is not marked with last-page flag"),u("End-of-stream"),this.metadata.addWarning("Last OGG-page is not marked with last-page flag"),this.header&&this.pageConsumer.calculateDuration(this.header);else if(b.message.startsWith("FourCC"))this.pageNumber>0&&(this.metadata.addWarning("Invalid FourCC ID, maybe last OGG-page is not marked with last-page flag"),this.pageConsumer.flush());else throw b}}};return f.Header={len:27,get:(d,b)=>({capturePattern:i.FourCcToken.get(d,b),version:e.UINT8.get(d,b+4),headerType:{continued:r.getBit(d,b+5,0),firstPage:r.getBit(d,b+5,1),lastPage:r.getBit(d,b+5,2)},absoluteGranulePosition:Number(e.UINT64_LE.get(d,b+6)),streamSerialNumber:e.UINT32_LE.get(d,b+14),pageSequenceNo:e.UINT32_LE.get(d,b+18),pageChecksum:e.UINT32_LE.get(d,b+22),page_segments:e.UINT8.get(d,b+26)})},OggParser.OggParser=f,OggParser}var WaveParser={},RiffChunk={},hasRequiredRiffChunk;function requireRiffChunk(){if(hasRequiredRiffChunk)return RiffChunk;hasRequiredRiffChunk=1,Object.defineProperty(RiffChunk,"__esModule",{value:!0}),RiffChunk.ListInfoTagValue=RiffChunk.Header=void 0;const e=requireLib$2();RiffChunk.Header={len:8,get:(n,r)=>({chunkID:n.toString("binary",r,r+4),chunkSize:e.UINT32_LE.get(n,4)})};class t{constructor(r){this.tagHeader=r,this.len=r.chunkSize,this.len+=this.len&1}get(r,i){return new e.StringType(this.tagHeader.chunkSize,"ascii").get(r,i)}}return RiffChunk.ListInfoTagValue=t,RiffChunk}var WaveChunk={},hasRequiredWaveChunk;function requireWaveChunk(){return hasRequiredWaveChunk||(hasRequiredWaveChunk=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FactChunk=e.Format=e.WaveFormat=void 0,(function(r){r[r.PCM=1]="PCM",r[r.ADPCM=2]="ADPCM",r[r.IEEE_FLOAT=3]="IEEE_FLOAT",r[r.MPEG_ADTS_AAC=5632]="MPEG_ADTS_AAC",r[r.MPEG_LOAS=5634]="MPEG_LOAS",r[r.RAW_AAC1=255]="RAW_AAC1",r[r.DOLBY_AC3_SPDIF=146]="DOLBY_AC3_SPDIF",r[r.DVM=8192]="DVM",r[r.RAW_SPORT=576]="RAW_SPORT",r[r.ESST_AC3=577]="ESST_AC3",r[r.DRM=9]="DRM",r[r.DTS2=8193]="DTS2",r[r.MPEG=80]="MPEG"})(e.WaveFormat||(e.WaveFormat={}));class t{constructor(i){if(i.chunkSize<16)throw new Error("Invalid chunk size");this.len=i.chunkSize}get(i,a){return{wFormatTag:i.readUInt16LE(a),nChannels:i.readUInt16LE(a+2),nSamplesPerSec:i.readUInt32LE(a+4),nAvgBytesPerSec:i.readUInt32LE(a+8),nBlockAlign:i.readUInt16LE(a+12),wBitsPerSample:i.readUInt16LE(a+14)}}}e.Format=t;class n{constructor(i){if(i.chunkSize<4)throw new Error("Invalid fact chunk size.");this.len=i.chunkSize}get(i,a){return{dwSampleLength:i.readUInt32LE(a)}}}e.FactChunk=n})(WaveChunk)),WaveChunk}var BwfChunk={},hasRequiredBwfChunk;function requireBwfChunk(){if(hasRequiredBwfChunk)return BwfChunk;hasRequiredBwfChunk=1,Object.defineProperty(BwfChunk,"__esModule",{value:!0}),BwfChunk.BroadcastAudioExtensionChunk=void 0;const e=requireLib$2(),t=requireUtil$1();return BwfChunk.BroadcastAudioExtensionChunk={len:420,get:(n,r)=>({description:(0,t.stripNulls)(new e.StringType(256,"ascii").get(n,r)).trim(),originator:(0,t.stripNulls)(new e.StringType(32,"ascii").get(n,r+256)).trim(),originatorReference:(0,t.stripNulls)(new e.StringType(32,"ascii").get(n,r+288)).trim(),originationDate:(0,t.stripNulls)(new e.StringType(10,"ascii").get(n,r+320)).trim(),originationTime:(0,t.stripNulls)(new e.StringType(8,"ascii").get(n,r+330)).trim(),timeReferenceLow:e.UINT32_LE.get(n,r+338),timeReferenceHigh:e.UINT32_LE.get(n,r+342),version:e.UINT16_LE.get(n,r+346),umid:new e.Uint8ArrayType(64).get(n,r+348),loudnessValue:e.UINT16_LE.get(n,r+412),maxTruePeakLevel:e.UINT16_LE.get(n,r+414),maxMomentaryLoudness:e.UINT16_LE.get(n,r+416),maxShortTermLoudness:e.UINT16_LE.get(n,r+418)})},BwfChunk}var hasRequiredWaveParser;function requireWaveParser(){if(hasRequiredWaveParser)return WaveParser;hasRequiredWaveParser=1,Object.defineProperty(WaveParser,"__esModule",{value:!0}),WaveParser.WaveParser=void 0;const e=requireCore$2(),t=requireLib$2(),n=requireBrowser$3(),r=requireRiffChunk(),i=requireWaveChunk(),a=requireID3v2Parser(),o=requireUtil$1(),s=requireFourCC(),l=requireBasicParser(),c=requireBwfChunk(),u=(0,n.default)("music-metadata:parser:RIFF");let m=class extends l.BasicParser{async parse(){const d=await this.tokenizer.readToken(r.Header);if(u(`pos=${this.tokenizer.position}, parse: chunkID=${d.chunkID}`),d.chunkID==="RIFF")return this.parseRiffChunk(d.chunkSize).catch(b=>{if(!(b instanceof e.EndOfStreamError))throw b})}async parseRiffChunk(d){const b=await this.tokenizer.readToken(s.FourCcToken);switch(this.metadata.setFormat("container",b),b){case"WAVE":return this.readWaveChunk(d-s.FourCcToken.len);default:throw new Error(`Unsupported RIFF format: RIFF/${b}`)}}async readWaveChunk(d){for(;d>=r.Header.len;){const b=await this.tokenizer.readToken(r.Header);switch(d-=r.Header.len+b.chunkSize,b.chunkSize>d&&this.metadata.addWarning("Data chunk size exceeds file size"),this.header=b,u(`pos=${this.tokenizer.position}, readChunk: chunkID=RIFF/WAVE/${b.chunkID}`),b.chunkID){case"LIST":await this.parseListTag(b);break;case"fact":this.metadata.setFormat("lossless",!1),this.fact=await this.tokenizer.readToken(new i.FactChunk(b));break;case"fmt ":const _=await this.tokenizer.readToken(new i.Format(b));let v=i.WaveFormat[_.wFormatTag];v||(u("WAVE/non-PCM format="+_.wFormatTag),v="non-PCM ("+_.wFormatTag+")"),this.metadata.setFormat("codec",v),this.metadata.setFormat("bitsPerSample",_.wBitsPerSample),this.metadata.setFormat("sampleRate",_.nSamplesPerSec),this.metadata.setFormat("numberOfChannels",_.nChannels),this.metadata.setFormat("bitrate",_.nBlockAlign*_.nSamplesPerSec*8),this.blockAlign=_.nBlockAlign;break;case"id3 ":case"ID3 ":const T=await this.tokenizer.readToken(new t.Uint8ArrayType(b.chunkSize)),S=e.fromBuffer(T);await new a.ID3v2Parser().parse(this.metadata,S,this.options);break;case"data":this.metadata.format.lossless!==!1&&this.metadata.setFormat("lossless",!0);let I=b.chunkSize;if(this.tokenizer.fileInfo.size){const w=this.tokenizer.fileInfo.size-this.tokenizer.position;w<I&&(this.metadata.addWarning("data chunk length exceeding file length"),I=w)}const C=this.fact?this.fact.dwSampleLength:I===4294967295?void 0:I/this.blockAlign;C&&(this.metadata.setFormat("numberOfSamples",C),this.metadata.setFormat("duration",C/this.metadata.format.sampleRate)),this.metadata.format.codec==="ADPCM"?this.metadata.setFormat("bitrate",352e3):this.metadata.setFormat("bitrate",this.blockAlign*this.metadata.format.sampleRate*8),await this.tokenizer.ignore(b.chunkSize);break;case"bext":const D=await this.tokenizer.readToken(c.BroadcastAudioExtensionChunk);Object.keys(D).forEach(w=>{this.metadata.addTag("exif","bext."+w,D[w])});const F=b.chunkSize-c.BroadcastAudioExtensionChunk.len;await this.tokenizer.ignore(F);break;case"\0\0\0\0":u(`Ignore padding chunk: RIFF/${b.chunkID} of ${b.chunkSize} bytes`),this.metadata.addWarning("Ignore chunk: RIFF/"+b.chunkID),await this.tokenizer.ignore(b.chunkSize);break;default:u(`Ignore chunk: RIFF/${b.chunkID} of ${b.chunkSize} bytes`),this.metadata.addWarning("Ignore chunk: RIFF/"+b.chunkID),await this.tokenizer.ignore(b.chunkSize)}this.header.chunkSize%2===1&&(u("Read odd padding byte"),await this.tokenizer.ignore(1))}}async parseListTag(d){const b=await this.tokenizer.readToken(new t.StringType(4,"binary"));switch(u("pos=%s, parseListTag: chunkID=RIFF/WAVE/LIST/%s",this.tokenizer.position,b),b){case"INFO":return this.parseRiffInfoTags(d.chunkSize-4);case"adtl":default:return this.metadata.addWarning("Ignore chunk: RIFF/WAVE/LIST/"+b),u("Ignoring chunkID=RIFF/WAVE/LIST/"+b),this.tokenizer.ignore(d.chunkSize-4).then()}}async parseRiffInfoTags(d){for(;d>=8;){const b=await this.tokenizer.readToken(r.Header),_=new r.ListInfoTagValue(b),v=await this.tokenizer.readToken(_);this.addTag(b.chunkID,o.stripNulls(v)),d-=8+_.len}if(d!==0)throw Error("Illegal remaining size: "+d)}addTag(d,b){this.metadata.addTag("exif",d,b)}};return WaveParser.WaveParser=m,WaveParser}var WavPackParser={},WavPackToken={},hasRequiredWavPackToken;function requireWavPackToken(){if(hasRequiredWavPackToken)return WavPackToken;hasRequiredWavPackToken=1,Object.defineProperty(WavPackToken,"__esModule",{value:!0}),WavPackToken.WavPack=void 0;const e=requireLib$2(),t=requireFourCC(),n=[6e3,8e3,9600,11025,12e3,16e3,22050,24e3,32e3,44100,48e3,64e3,88200,96e3,192e3,-1];class r{static isBitSet(a,o){return r.getBitAllignedNumber(a,o,1)===1}static getBitAllignedNumber(a,o,s){return a>>>o&4294967295>>>32-s}}return r.BlockHeaderToken={len:32,get:(i,a)=>{const o=e.UINT32_LE.get(i,a+24),s={BlockID:t.FourCcToken.get(i,a),blockSize:e.UINT32_LE.get(i,a+4),version:e.UINT16_LE.get(i,a+8),totalSamples:e.UINT32_LE.get(i,a+12),blockIndex:e.UINT32_LE.get(i,a+16),blockSamples:e.UINT32_LE.get(i,a+20),flags:{bitsPerSample:(1+r.getBitAllignedNumber(o,0,2))*8,isMono:r.isBitSet(o,2),isHybrid:r.isBitSet(o,3),isJointStereo:r.isBitSet(o,4),crossChannel:r.isBitSet(o,5),hybridNoiseShaping:r.isBitSet(o,6),floatingPoint:r.isBitSet(o,7),samplingRate:n[r.getBitAllignedNumber(o,23,4)],isDSD:r.isBitSet(o,31)},crc:new e.Uint8ArrayType(4).get(i,a+28)};return s.flags.isDSD&&(s.totalSamples*=8),s}},r.MetadataIdToken={len:1,get:(i,a)=>({functionId:r.getBitAllignedNumber(i[a],0,6),isOptional:r.isBitSet(i[a],5),isOddSize:r.isBitSet(i[a],6),largeBlock:r.isBitSet(i[a],7)})},WavPackToken.WavPack=r,WavPackToken}var hasRequiredWavPackParser;function requireWavPackParser(){if(hasRequiredWavPackParser)return WavPackParser;hasRequiredWavPackParser=1,Object.defineProperty(WavPackParser,"__esModule",{value:!0}),WavPackParser.WavPackParser=void 0;const e=requireLib$2(),t=requireAPEv2Parser(),n=requireFourCC(),r=requireBasicParser(),i=requireWavPackToken(),o=(0,requireBrowser$3().default)("music-metadata:parser:WavPack");let s=class extends r.BasicParser{async parse(){return this.audioDataSize=0,await this.parseWavPackBlocks(),t.APEv2Parser.tryParseApeHeader(this.metadata,this.tokenizer,this.options)}async parseWavPackBlocks(){do{if(await this.tokenizer.peekToken(n.FourCcToken)!=="wvpk")break;const u=await this.tokenizer.readToken(i.WavPack.BlockHeaderToken);if(u.BlockID!=="wvpk")throw new Error("Invalid WavPack Block-ID");o(`WavPack header blockIndex=${u.blockIndex}, len=${i.WavPack.BlockHeaderToken.len}`),u.blockIndex===0&&!this.metadata.format.container&&(this.metadata.setFormat("container","WavPack"),this.metadata.setFormat("lossless",!u.flags.isHybrid),this.metadata.setFormat("bitsPerSample",u.flags.bitsPerSample),u.flags.isDSD||(this.metadata.setFormat("sampleRate",u.flags.samplingRate),this.metadata.setFormat("duration",u.totalSamples/u.flags.samplingRate)),this.metadata.setFormat("numberOfChannels",u.flags.isMono?1:2),this.metadata.setFormat("numberOfSamples",u.totalSamples),this.metadata.setFormat("codec",u.flags.isDSD?"DSD":"PCM"));const m=u.blockSize-(i.WavPack.BlockHeaderToken.len-8);await(u.blockIndex===0?this.parseMetadataSubBlock(u,m):this.tokenizer.ignore(m)),u.blockSamples>0&&(this.audioDataSize+=u.blockSize)}while(!this.tokenizer.fileInfo.size||this.tokenizer.fileInfo.size-this.tokenizer.position>=i.WavPack.BlockHeaderToken.len);this.metadata.setFormat("bitrate",this.audioDataSize*8/this.metadata.format.duration)}async parseMetadataSubBlock(c,u){for(;u>i.WavPack.MetadataIdToken.len;){const m=await this.tokenizer.readToken(i.WavPack.MetadataIdToken),f=await this.tokenizer.readNumber(m.largeBlock?e.UINT24_LE:e.UINT8),d=Buffer.alloc(f*2-(m.isOddSize?1:0));switch(await this.tokenizer.readBuffer(d),o(`Metadata Sub-Blocks functionId=0x${m.functionId.toString(16)}, id.largeBlock=${m.largeBlock},data-size=${d.length}`),m.functionId){case 0:break;case 14:o("ID_DSD_BLOCK");const b=1<<d.readUInt8(0),_=c.flags.samplingRate*b*8;if(!c.flags.isDSD)throw new Error("Only expect DSD block if DSD-flag is set");this.metadata.setFormat("sampleRate",_),this.metadata.setFormat("duration",c.totalSamples/_);break;case 36:o("ID_ALT_TRAILER: trailer for non-wav files");break;case 38:this.metadata.setFormat("audioMD5",d);break;case 47:o(`ID_BLOCK_CHECKSUM: checksum=${d.toString("hex")}`);break;default:o(`Ignore unsupported meta-sub-block-id functionId=0x${m.functionId.toString(16)}`);break}u-=i.WavPack.MetadataIdToken.len+(m.largeBlock?e.UINT24_LE.len:e.UINT8.len)+f*2,o(`remainingLength=${u}`),m.isOddSize&&this.tokenizer.ignore(1)}if(u!==0)throw new Error("metadata-sub-block should fit it remaining length")}};return WavPackParser.WavPackParser=s,WavPackParser}var DsfParser={},DsfChunk={},hasRequiredDsfChunk;function requireDsfChunk(){return hasRequiredDsfChunk||(hasRequiredDsfChunk=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FormatChunk=e.ChannelType=e.DsdChunk=e.ChunkHeader=void 0;const t=requireLib$2(),n=requireFourCC();e.ChunkHeader={len:12,get:(r,i)=>({id:n.FourCcToken.get(r,i),size:t.UINT64_LE.get(r,i+4)})},e.DsdChunk={len:16,get:(r,i)=>({fileSize:t.INT64_LE.get(r,i),metadataPointer:t.INT64_LE.get(r,i+8)})},(function(r){r[r.mono=1]="mono",r[r.stereo=2]="stereo",r[r.channels=3]="channels",r[r.quad=4]="quad",r[r["4 channels"]=5]="4 channels",r[r["5 channels"]=6]="5 channels",r[r["5.1 channels"]=7]="5.1 channels"})(e.ChannelType||(e.ChannelType={})),e.FormatChunk={len:40,get:(r,i)=>({formatVersion:t.INT32_LE.get(r,i),formatID:t.INT32_LE.get(r,i+4),channelType:t.INT32_LE.get(r,i+8),channelNum:t.INT32_LE.get(r,i+12),samplingFrequency:t.INT32_LE.get(r,i+16),bitsPerSample:t.INT32_LE.get(r,i+20),sampleCount:t.INT64_LE.get(r,i+24),blockSizePerChannel:t.INT32_LE.get(r,i+32)})}})(DsfChunk)),DsfChunk}var hasRequiredDsfParser;function requireDsfParser(){if(hasRequiredDsfParser)return DsfParser;hasRequiredDsfParser=1,Object.defineProperty(DsfParser,"__esModule",{value:!0}),DsfParser.DsfParser=void 0;const e=requireBrowser$3(),t=requireAbstractID3Parser(),n=requireDsfChunk(),r=requireID3v2Parser(),i=(0,e.default)("music-metadata:parser:DSF");let a=class extends t.AbstractID3Parser{async postId3v2Parse(){const s=this.tokenizer.position,l=await this.tokenizer.readToken(n.ChunkHeader);if(l.id!=="DSD ")throw new Error("Invalid chunk signature");this.metadata.setFormat("container","DSF"),this.metadata.setFormat("lossless",!0);const c=await this.tokenizer.readToken(n.DsdChunk);if(c.metadataPointer===BigInt(0))i("No ID3v2 tag present");else return i(`expect ID3v2 at offset=${c.metadataPointer}`),await this.parseChunks(c.fileSize-l.size),await this.tokenizer.ignore(Number(c.metadataPointer)-this.tokenizer.position-s),new r.ID3v2Parser().parse(this.metadata,this.tokenizer,this.options)}async parseChunks(s){for(;s>=n.ChunkHeader.len;){const l=await this.tokenizer.readToken(n.ChunkHeader);switch(i(`Parsing chunk name=${l.id} size=${l.size}`),l.id){case"fmt ":const c=await this.tokenizer.readToken(n.FormatChunk);this.metadata.setFormat("numberOfChannels",c.channelNum),this.metadata.setFormat("sampleRate",c.samplingFrequency),this.metadata.setFormat("bitsPerSample",c.bitsPerSample),this.metadata.setFormat("numberOfSamples",c.sampleCount),this.metadata.setFormat("duration",Number(c.sampleCount)/c.samplingFrequency);const u=c.bitsPerSample*c.samplingFrequency*c.channelNum;this.metadata.setFormat("bitrate",u);return;default:this.tokenizer.ignore(Number(l.size)-n.ChunkHeader.len);break}s-=l.size}}};return DsfParser.DsfParser=a,DsfParser}var DsdiffParser={},DsdiffToken={},hasRequiredDsdiffToken;function requireDsdiffToken(){if(hasRequiredDsdiffToken)return DsdiffToken;hasRequiredDsdiffToken=1,Object.defineProperty(DsdiffToken,"__esModule",{value:!0}),DsdiffToken.ChunkHeader64=void 0;const e=requireLib$2(),t=requireFourCC();return DsdiffToken.ChunkHeader64={len:12,get:(n,r)=>({chunkID:t.FourCcToken.get(n,r),chunkSize:e.INT64_BE.get(n,r+4)})},DsdiffToken}var hasRequiredDsdiffParser;function requireDsdiffParser(){if(hasRequiredDsdiffParser)return DsdiffParser;hasRequiredDsdiffParser=1,Object.defineProperty(DsdiffParser,"__esModule",{value:!0}),DsdiffParser.DsdiffParser=void 0;const e=requireLib$2(),t=requireBrowser$3(),n=requireCore$2(),r=requireFourCC(),i=requireBasicParser(),a=requireID3v2Parser(),o=requireDsdiffToken(),s=(0,t.default)("music-metadata:parser:aiff");let l=class extends i.BasicParser{async parse(){const u=await this.tokenizer.readToken(o.ChunkHeader64);if(u.chunkID!=="FRM8")throw new Error("Unexpected chunk-ID");const m=(await this.tokenizer.readToken(r.FourCcToken)).trim();switch(m){case"DSD":return this.metadata.setFormat("container",`DSDIFF/${m}`),this.metadata.setFormat("lossless",!0),this.readFmt8Chunks(u.chunkSize-BigInt(r.FourCcToken.len));default:throw Error(`Unsupported DSDIFF type: ${m}`)}}async readFmt8Chunks(u){for(;u>=o.ChunkHeader64.len;){const m=await this.tokenizer.readToken(o.ChunkHeader64);s(`Chunk id=${m.chunkID}`),await this.readData(m),u-=BigInt(o.ChunkHeader64.len)+m.chunkSize}}async readData(u){s(`Reading data of chunk[ID=${u.chunkID}, size=${u.chunkSize}]`);const m=this.tokenizer.position;switch(u.chunkID.trim()){case"FVER":const d=await this.tokenizer.readToken(e.UINT32_LE);s(`DSDIFF version=${d}`);break;case"PROP":if(await this.tokenizer.readToken(r.FourCcToken)!=="SND ")throw new Error("Unexpected PROP-chunk ID");await this.handleSoundPropertyChunks(u.chunkSize-BigInt(r.FourCcToken.len));break;case"ID3":const _=await this.tokenizer.readToken(new e.Uint8ArrayType(Number(u.chunkSize))),v=n.fromBuffer(_);await new a.ID3v2Parser().parse(this.metadata,v,this.options);break;default:s(`Ignore chunk[ID=${u.chunkID}, size=${u.chunkSize}]`);break;case"DSD":this.metadata.setFormat("numberOfSamples",Number(u.chunkSize*BigInt(8)/BigInt(this.metadata.format.numberOfChannels))),this.metadata.setFormat("duration",this.metadata.format.numberOfSamples/this.metadata.format.sampleRate);break}const f=u.chunkSize-BigInt(this.tokenizer.position-m);f>0&&(s(`After Parsing chunk, remaining ${f} bytes`),await this.tokenizer.ignore(Number(f)))}async handleSoundPropertyChunks(u){for(s(`Parsing sound-property-chunks, remainingSize=${u}`);u>0;){const m=await this.tokenizer.readToken(o.ChunkHeader64);s(`Sound-property-chunk[ID=${m.chunkID}, size=${m.chunkSize}]`);const f=this.tokenizer.position;switch(m.chunkID.trim()){case"FS":const b=await this.tokenizer.readToken(e.UINT32_BE);this.metadata.setFormat("sampleRate",b);break;case"CHNL":const _=await this.tokenizer.readToken(e.UINT16_BE);this.metadata.setFormat("numberOfChannels",_),await this.handleChannelChunks(m.chunkSize-BigInt(e.UINT16_BE.len));break;case"CMPR":const v=(await this.tokenizer.readToken(r.FourCcToken)).trim(),T=await this.tokenizer.readToken(e.UINT8),S=await this.tokenizer.readToken(new e.StringType(T,"ascii"));v==="DSD"&&(this.metadata.setFormat("lossless",!0),this.metadata.setFormat("bitsPerSample",1)),this.metadata.setFormat("codec",`${v} (${S})`);break;case"ABSS":const I=await this.tokenizer.readToken(e.UINT16_BE),C=await this.tokenizer.readToken(e.UINT8),D=await this.tokenizer.readToken(e.UINT8),F=await this.tokenizer.readToken(e.UINT32_BE);s(`ABSS ${I}:${C}:${D}.${F}`);break;case"LSCO":const w=await this.tokenizer.readToken(e.UINT16_BE);s(`LSCO lsConfig=${w}`);break;case"COMT":default:s(`Unknown sound-property-chunk[ID=${m.chunkID}, size=${m.chunkSize}]`),await this.tokenizer.ignore(Number(m.chunkSize))}const d=m.chunkSize-BigInt(this.tokenizer.position-f);d>0&&(s(`After Parsing sound-property-chunk ${m.chunkSize}, remaining ${d} bytes`),await this.tokenizer.ignore(Number(d))),u-=BigInt(o.ChunkHeader64.len)+m.chunkSize,s(`Parsing sound-property-chunks, remainingSize=${u}`)}if(this.metadata.format.lossless&&this.metadata.format.sampleRate&&this.metadata.format.numberOfChannels&&this.metadata.format.bitsPerSample){const m=this.metadata.format.sampleRate*this.metadata.format.numberOfChannels*this.metadata.format.bitsPerSample;this.metadata.setFormat("bitrate",m)}}async handleChannelChunks(u){s(`Parsing channel-chunks, remainingSize=${u}`);const m=[];for(;u>=r.FourCcToken.len;){const f=await this.tokenizer.readToken(r.FourCcToken);s(`Channel[ID=${f}]`),m.push(f),u-=BigInt(r.FourCcToken.len)}return s(`Channels: ${m.join(", ")}`),m}};return DsdiffParser.DsdiffParser=l,DsdiffParser}var MatroskaParser={},MatroskaDtd={},hasRequiredMatroskaDtd;function requireMatroskaDtd(){if(hasRequiredMatroskaDtd)return MatroskaDtd;hasRequiredMatroskaDtd=1,Object.defineProperty(MatroskaDtd,"__esModule",{value:!0}),MatroskaDtd.elements=void 0;const e=requireTypes();return MatroskaDtd.elements={440786851:{name:"ebml",container:{17030:{name:"ebmlVersion",value:e.DataType.uint},17143:{name:"ebmlReadVersion",value:e.DataType.uint},17138:{name:"ebmlMaxIDWidth",value:e.DataType.uint},17139:{name:"ebmlMaxSizeWidth",value:e.DataType.uint},17026:{name:"docType",value:e.DataType.string},17031:{name:"docTypeVersion",value:e.DataType.uint},17029:{name:"docTypeReadVersion",value:e.DataType.uint}}},408125543:{name:"segment",container:{290298740:{name:"seekHead",container:{19899:{name:"seek",container:{21419:{name:"seekId",value:e.DataType.binary},21420:{name:"seekPosition",value:e.DataType.uint}}}}},357149030:{name:"info",container:{29604:{name:"uid",value:e.DataType.uid},29572:{name:"filename",value:e.DataType.string},3979555:{name:"prevUID",value:e.DataType.uid},3965867:{name:"prevFilename",value:e.DataType.string},4110627:{name:"nextUID",value:e.DataType.uid},4096955:{name:"nextFilename",value:e.DataType.string},2807729:{name:"timecodeScale",value:e.DataType.uint},17545:{name:"duration",value:e.DataType.float},17505:{name:"dateUTC",value:e.DataType.uint},31657:{name:"title",value:e.DataType.string},19840:{name:"muxingApp",value:e.DataType.string},22337:{name:"writingApp",value:e.DataType.string}}},524531317:{name:"cluster",multiple:!0,container:{231:{name:"timecode",value:e.DataType.uid},163:{name:"unknown",value:e.DataType.binary},167:{name:"position",value:e.DataType.uid},171:{name:"prevSize",value:e.DataType.uid}}},374648427:{name:"tracks",container:{174:{name:"entries",multiple:!0,container:{215:{name:"trackNumber",value:e.DataType.uint},29637:{name:"uid",value:e.DataType.uid},131:{name:"trackType",value:e.DataType.uint},185:{name:"flagEnabled",value:e.DataType.bool},136:{name:"flagDefault",value:e.DataType.bool},21930:{name:"flagForced",value:e.DataType.bool},156:{name:"flagLacing",value:e.DataType.bool},28135:{name:"minCache",value:e.DataType.uint},28136:{name:"maxCache",value:e.DataType.uint},2352003:{name:"defaultDuration",value:e.DataType.uint},2306383:{name:"timecodeScale",value:e.DataType.float},21358:{name:"name",value:e.DataType.string},2274716:{name:"language",value:e.DataType.string},134:{name:"codecID",value:e.DataType.string},25506:{name:"codecPrivate",value:e.DataType.binary},2459272:{name:"codecName",value:e.DataType.string},3839639:{name:"codecSettings",value:e.DataType.string},3883072:{name:"codecInfoUrl",value:e.DataType.string},2536e3:{name:"codecDownloadUrl",value:e.DataType.string},170:{name:"codecDecodeAll",value:e.DataType.bool},28587:{name:"trackOverlay",value:e.DataType.uint},224:{name:"video",container:{154:{name:"flagInterlaced",value:e.DataType.bool},21432:{name:"stereoMode",value:e.DataType.uint},176:{name:"pixelWidth",value:e.DataType.uint},186:{name:"pixelHeight",value:e.DataType.uint},21680:{name:"displayWidth",value:e.DataType.uint},21690:{name:"displayHeight",value:e.DataType.uint},21683:{name:"aspectRatioType",value:e.DataType.uint},3061028:{name:"colourSpace",value:e.DataType.uint},3126563:{name:"gammaValue",value:e.DataType.float}}},225:{name:"audio",container:{181:{name:"samplingFrequency",value:e.DataType.float},30901:{name:"outputSamplingFrequency",value:e.DataType.float},159:{name:"channels",value:e.DataType.uint},148:{name:"channels",value:e.DataType.uint},32123:{name:"channelPositions",value:e.DataType.binary},25188:{name:"bitDepth",value:e.DataType.uint}}},28032:{name:"contentEncodings",container:{25152:{name:"contentEncoding",container:{20529:{name:"order",value:e.DataType.uint},20530:{name:"scope",value:e.DataType.bool},20531:{name:"type",value:e.DataType.uint},20532:{name:"contentEncoding",container:{16980:{name:"contentCompAlgo",value:e.DataType.uint},16981:{name:"contentCompSettings",value:e.DataType.binary}}},20533:{name:"contentEncoding",container:{18401:{name:"contentEncAlgo",value:e.DataType.uint},18402:{name:"contentEncKeyID",value:e.DataType.binary},18403:{name:"contentSignature ",value:e.DataType.binary},18404:{name:"ContentSigKeyID  ",value:e.DataType.binary},18405:{name:"contentSigAlgo ",value:e.DataType.uint},18406:{name:"contentSigHashAlgo ",value:e.DataType.uint}}},25188:{name:"bitDepth",value:e.DataType.uint}}}}}}}}},475249515:{name:"cues",container:{187:{name:"cuePoint",container:{179:{name:"cueTime",value:e.DataType.uid},183:{name:"positions",container:{247:{name:"track",value:e.DataType.uint},241:{name:"clusterPosition",value:e.DataType.uint},21368:{name:"blockNumber",value:e.DataType.uint},234:{name:"codecState",value:e.DataType.uint},219:{name:"reference",container:{150:{name:"time",value:e.DataType.uint},151:{name:"cluster",value:e.DataType.uint},21343:{name:"number",value:e.DataType.uint},235:{name:"codecState",value:e.DataType.uint}}},240:{name:"relativePosition",value:e.DataType.uint}}}}}}},423732329:{name:"attachments",container:{24999:{name:"attachedFiles",multiple:!0,container:{18046:{name:"description",value:e.DataType.string},18030:{name:"name",value:e.DataType.string},18016:{name:"mimeType",value:e.DataType.string},18012:{name:"data",value:e.DataType.binary},18094:{name:"uid",value:e.DataType.uid}}}}},272869232:{name:"chapters",container:{17849:{name:"editionEntry",container:{182:{name:"chapterAtom",container:{29636:{name:"uid",value:e.DataType.uid},145:{name:"timeStart",value:e.DataType.uint},146:{name:"timeEnd",value:e.DataType.uid},152:{name:"hidden",value:e.DataType.bool},17816:{name:"enabled",value:e.DataType.uid},143:{name:"track",container:{137:{name:"trackNumber",value:e.DataType.uid},128:{name:"display",container:{133:{name:"string",value:e.DataType.string},17276:{name:"language ",value:e.DataType.string},17278:{name:"country ",value:e.DataType.string}}}}}}}}}}},307544935:{name:"tags",container:{29555:{name:"tag",multiple:!0,container:{25536:{name:"target",container:{25541:{name:"tagTrackUID",value:e.DataType.uid},25540:{name:"tagChapterUID",value:e.DataType.uint},25542:{name:"tagAttachmentUID",value:e.DataType.uid},25546:{name:"targetType",value:e.DataType.string},26826:{name:"targetTypeValue",value:e.DataType.uint},25545:{name:"tagEditionUID",value:e.DataType.uid}}},26568:{name:"simpleTags",multiple:!0,container:{17827:{name:"name",value:e.DataType.string},17543:{name:"string",value:e.DataType.string},17541:{name:"binary",value:e.DataType.binary},17530:{name:"language",value:e.DataType.string},17531:{name:"languageIETF",value:e.DataType.string},17540:{name:"default",value:e.DataType.bool}}}}}}}}}},MatroskaDtd}var hasRequiredMatroskaParser;function requireMatroskaParser(){if(hasRequiredMatroskaParser)return MatroskaParser;hasRequiredMatroskaParser=1,Object.defineProperty(MatroskaParser,"__esModule",{value:!0}),MatroskaParser.MatroskaParser=void 0;const e=requireLib$2(),t=requireBrowser$3(),n=requireBasicParser(),r=requireTypes(),i=requireMatroskaDtd(),a=(0,t.default)("music-metadata:parser:matroska");let o=class extends n.BasicParser{constructor(){super(),this.padding=0,this.parserMap=new Map,this.ebmlMaxIDLength=4,this.ebmlMaxSizeLength=8,this.parserMap.set(r.DataType.uint,l=>this.readUint(l)),this.parserMap.set(r.DataType.string,l=>this.readString(l)),this.parserMap.set(r.DataType.binary,l=>this.readBuffer(l)),this.parserMap.set(r.DataType.uid,async l=>await this.readUint(l)===1),this.parserMap.set(r.DataType.bool,l=>this.readFlag(l)),this.parserMap.set(r.DataType.float,l=>this.readFloat(l))}init(l,c,u){return super.init(l,c,u),this}async parse(){const l=await this.parseContainer(i.elements,this.tokenizer.fileInfo.size,[]);if(this.metadata.setFormat("container",`EBML/${l.ebml.docType}`),l.segment){const c=l.segment.info;if(c){const m=c.timecodeScale?c.timecodeScale:1e6;if(typeof c.duration=="number"){const f=c.duration*m/1e9;this.addTag("segment:title",c.title),this.metadata.setFormat("duration",f)}}const u=l.segment.tracks;if(u&&u.entries){u.entries.forEach(f=>{const d={codecName:f.codecID.replace("A_","").replace("V_",""),codecSettings:f.codecSettings,flagDefault:f.flagDefault,flagLacing:f.flagLacing,flagEnabled:f.flagEnabled,language:f.language,name:f.name,type:f.trackType,audio:f.audio,video:f.video};this.metadata.addStreamInfo(d)});const m=u.entries.filter(f=>f.trackType===r.TrackType.audio.valueOf()).reduce((f,d)=>!f||!f.flagDefault&&d.flagDefault||d.trackNumber&&d.trackNumber<f.trackNumber?d:f,null);m&&(this.metadata.setFormat("codec",m.codecID.replace("A_","")),this.metadata.setFormat("sampleRate",m.audio.samplingFrequency),this.metadata.setFormat("numberOfChannels",m.audio.channels)),l.segment.tags&&l.segment.tags.tag.forEach(f=>{const d=f.target,b=d?.targetTypeValue?r.TargetType[d.targetTypeValue]:d?.targetType?d.targetType:"track";f.simpleTags.forEach(_=>{const v=_.string?_.string:_.binary;this.addTag(`${b}:${_.name}`,v)})}),l.segment.attachments&&l.segment.attachments.attachedFiles.filter(f=>f.mimeType.startsWith("image/")).map(f=>({data:f.data,format:f.mimeType,description:f.description,name:f.name})).forEach(f=>{this.addTag("picture",f)})}}}async parseContainer(l,c,u){const m={};for(;this.tokenizer.position<c;){let f;try{f=await this.readElement()}catch(b){if(b.message==="End-Of-Stream")break;throw b}const d=l[f.id];if(d)if(a(`Element: name=${d.name}, container=${!!d.container}`),d.container){const b=await this.parseContainer(d.container,f.len>=0?this.tokenizer.position+f.len:-1,u.concat([d.name]));d.multiple?(m[d.name]||(m[d.name]=[]),m[d.name].push(b)):m[d.name]=b}else m[d.name]=await this.parserMap.get(d.value)(f);else switch(f.id){case 236:this.padding+=f.len,await this.tokenizer.ignore(f.len);break;default:a(`parseEbml: path=${u.join("/")}, unknown element: id=${f.id.toString(16)}`),this.padding+=f.len,await this.tokenizer.ignore(f.len)}}return m}async readVintData(l){const c=await this.tokenizer.peekNumber(e.UINT8);let u=128,m=1;for(;(c&u)===0;){if(m>l)throw new Error("VINT value exceeding maximum size");++m,u>>=1}const f=Buffer.alloc(m);return await this.tokenizer.readBuffer(f),f}async readElement(){const l=await this.readVintData(this.ebmlMaxIDLength),c=await this.readVintData(this.ebmlMaxSizeLength);c[0]^=128>>c.length-1;const u=Math.min(6,c.length);return{id:l.readUIntBE(0,l.length),len:c.readUIntBE(c.length-u,u)}}isMaxValue(l){if(l.length===this.ebmlMaxSizeLength){for(let c=1;c<this.ebmlMaxSizeLength;++c)if(l[c]!==255)return!1;return!0}return!1}async readFloat(l){switch(l.len){case 0:return 0;case 4:return this.tokenizer.readNumber(e.Float32_BE);case 8:return this.tokenizer.readNumber(e.Float64_BE);case 10:return this.tokenizer.readNumber(e.Float64_BE);default:throw new Error(`Invalid IEEE-754 float length: ${l.len}`)}}async readFlag(l){return await this.readUint(l)===1}async readUint(l){const c=await this.readBuffer(l),u=Math.min(6,l.len);return c.readUIntBE(l.len-u,u)}async readString(l){return(await this.tokenizer.readToken(new e.StringType(l.len,"utf-8"))).replace(/\00.*$/g,"")}async readBuffer(l){const c=Buffer.alloc(l.len);return await this.tokenizer.readBuffer(c),c}addTag(l,c){this.metadata.addTag("matroska",l,c)}};return MatroskaParser.MatroskaParser=o,MatroskaParser}var hasRequiredParserFactory;function requireParserFactory(){if(hasRequiredParserFactory)return ParserFactory;hasRequiredParserFactory=1,Object.defineProperty(ParserFactory,"__esModule",{value:!0}),ParserFactory.ParserFactory=ParserFactory.parseHttpContentType=void 0;const e=requireCore$1(),t=requireContentType(),n=requireMediaTyper(),r=requireBrowser$3(),i=requireMetadataCollector(),a=requireAiffParser(),o=requireAPEv2Parser(),s=requireAsfParser(),l=requireFlacParser(),c=requireMP4Parser(),u=requireMpegParser(),m=requireMusepack(),f=requireOggParser(),d=requireWaveParser(),b=requireWavPackParser(),_=requireDsfParser(),v=requireDsdiffParser(),T=requireMatroskaParser(),S=(0,r.default)("music-metadata:parser:factory");function I(F){const w=t.parse(F),A=n.parse(w.type);return{type:A.type,subtype:A.subtype,suffix:A.suffix,parameters:w.parameters}}ParserFactory.parseHttpContentType=I;async function C(F,w,A={}){const Y=await D.loadParser(w),L=new i.MetadataCollector(A);return await Y.init(L,F,A).parse(),L.toCommonMetadata()}let D=class Le{static async parseOnContentType(w,A){const{mimeType:Y,path:L,url:U}=await w.fileInfo,V=Le.getParserIdForMimeType(Y)||Le.getParserIdForExtension(L)||Le.getParserIdForExtension(U);return V||S("No parser found for MIME-type / extension: "+Y),this.parse(w,V,A)}static async parse(w,A,Y){if(!A){S("Guess parser on content...");const L=Buffer.alloc(4100);if(await w.peekBuffer(L,{mayBeLess:!0}),w.fileInfo.path&&(A=this.getParserIdForExtension(w.fileInfo.path)),!A){const U=await e.fromBuffer(L);if(!U)throw new Error("Failed to determine audio format");if(S(`Guessed file type is mime=${U.mime}, extension=${U.ext}`),A=Le.getParserIdForMimeType(U.mime),!A)throw new Error("Guessed MIME-type not supported: "+U.mime)}}return C(w,A,Y)}static getParserIdForExtension(w){if(!w)return;switch(this.getExtension(w).toLocaleLowerCase()||w){case".mp2":case".mp3":case".m2a":case".aac":return"mpeg";case".ape":return"apev2";case".mp4":case".m4a":case".m4b":case".m4pa":case".m4v":case".m4r":case".3gp":return"mp4";case".wma":case".wmv":case".asf":return"asf";case".flac":return"flac";case".ogg":case".ogv":case".oga":case".ogm":case".ogx":case".opus":case".spx":return"ogg";case".aif":case".aiff":case".aifc":return"aiff";case".wav":case".bwf":return"riff";case".wv":case".wvp":return"wavpack";case".mpc":return"musepack";case".dsf":return"dsf";case".dff":return"dsdiff";case".mka":case".mkv":case".mk3d":case".mks":case".webm":return"matroska"}}static async loadParser(w){switch(w){case"aiff":return new a.AIFFParser;case"adts":case"mpeg":return new u.MpegParser;case"apev2":return new o.APEv2Parser;case"asf":return new s.AsfParser;case"dsf":return new _.DsfParser;case"dsdiff":return new v.DsdiffParser;case"flac":return new l.FlacParser;case"mp4":return new c.MP4Parser;case"musepack":return new m.default;case"ogg":return new f.OggParser;case"riff":return new d.WaveParser;case"wavpack":return new b.WavPackParser;case"matroska":return new T.MatroskaParser;default:throw new Error(`Unknown parser type: ${w}`)}}static getExtension(w){const A=w.lastIndexOf(".");return A===-1?"":w.slice(A)}static getParserIdForMimeType(w){let A;try{A=I(w)}catch{S(`Invalid HTTP Content-Type header value: ${w}`);return}const Y=A.subtype.indexOf("x-")===0?A.subtype.substring(2):A.subtype;switch(A.type){case"audio":switch(Y){case"mp3":case"mpeg":return"mpeg";case"aac":case"aacp":return"adts";case"flac":return"flac";case"ape":case"monkeys-audio":return"apev2";case"mp4":case"m4a":return"mp4";case"ogg":case"opus":case"speex":return"ogg";case"ms-wma":case"ms-wmv":case"ms-asf":return"asf";case"aiff":case"aif":case"aifc":return"aiff";case"vnd.wave":case"wav":case"wave":return"riff";case"wavpack":return"wavpack";case"musepack":return"musepack";case"matroska":case"webm":return"matroska";case"dsf":return"dsf"}break;case"video":switch(Y){case"ms-asf":case"ms-wmv":return"asf";case"m4v":case"mp4":return"mp4";case"ogg":return"ogg";case"matroska":case"webm":return"matroska"}break;case"application":switch(Y){case"vnd.ms-asf":return"asf";case"ogg":return"ogg"}break}}};return ParserFactory.ParserFactory=D,ParserFactory}var RandomUint8ArrayReader={},hasRequiredRandomUint8ArrayReader;function requireRandomUint8ArrayReader(){if(hasRequiredRandomUint8ArrayReader)return RandomUint8ArrayReader;hasRequiredRandomUint8ArrayReader=1,Object.defineProperty(RandomUint8ArrayReader,"__esModule",{value:!0}),RandomUint8ArrayReader.RandomUint8ArrayReader=void 0;let e=class{constructor(n){this.uint8Array=n,this.fileSize=n.length}async randomRead(n,r,i,a){return n.set(this.uint8Array.subarray(a,a+i),r),i}};return RandomUint8ArrayReader.RandomUint8ArrayReader=e,RandomUint8ArrayReader}var Lyrics3={},hasRequiredLyrics3;function requireLyrics3(){return hasRequiredLyrics3||(hasRequiredLyrics3=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getLyricsHeaderLength=e.endTag2=void 0,e.endTag2="LYRICS200";async function t(n){if(n.fileSize>=143){const r=Buffer.alloc(15);await n.randomRead(r,0,r.length,n.fileSize-143);const i=r.toString("binary");if(i.substr(6)===e.endTag2)return parseInt(i.substr(0,6),10)+15}return 0}e.getLyricsHeaderLength=t})(Lyrics3)),Lyrics3}var hasRequiredCore;function requireCore(){if(hasRequiredCore)return core$2;hasRequiredCore=1,Object.defineProperty(core$2,"__esModule",{value:!0}),core$2.scanAppendingHeaders=core$2.selectCover=core$2.ratingToStars=core$2.orderTags=core$2.parseFromTokenizer=core$2.parseBuffer=core$2.parseStream=void 0;const e=requireCore$2(),t=requireParserFactory(),n=requireRandomUint8ArrayReader(),r=requireAPEv2Parser(),i=requireID3v1Parser(),a=requireLyrics3();function o(d,b,_={}){return l(e.fromStream(d,typeof b=="string"?{mimeType:b}:b),_)}core$2.parseStream=o;async function s(d,b,_={}){const v=new n.RandomUint8ArrayReader(d);await f(v,_);const T=e.fromBuffer(d,typeof b=="string"?{mimeType:b}:b);return l(T,_)}core$2.parseBuffer=s;function l(d,b){return t.ParserFactory.parseOnContentType(d,b)}core$2.parseFromTokenizer=l;function c(d){const b={};for(const _ of d)(b[_.id]=b[_.id]||[]).push(_.value);return b}core$2.orderTags=c;function u(d){return d===void 0?0:1+Math.round(d*4)}core$2.ratingToStars=u;function m(d){return d?d.reduce((b,_)=>_.name&&_.name.toLowerCase()in["front","cover","cover (front)"]?_:b):null}core$2.selectCover=m;async function f(d,b={}){let _=d.fileSize;if(await(0,i.hasID3v1Header)(d)){_-=128;const v=await(0,a.getLyricsHeaderLength)(d);_-=v}b.apeHeader=await r.APEv2Parser.findApeFooterOffset(d,_)}return core$2.scanAppendingHeaders=f,core$2}var lib={},browser$2={exports:{}},stream={exports:{}},buffer={},base64Js={},hasRequiredBase64Js;function requireBase64Js(){if(hasRequiredBase64Js)return base64Js;hasRequiredBase64Js=1,base64Js.byteLength=s,base64Js.toByteArray=c,base64Js.fromByteArray=f;for(var e=[],t=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,a=r.length;i<a;++i)e[i]=r[i],t[r.charCodeAt(i)]=i;t[45]=62,t[95]=63;function o(d){var b=d.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=d.indexOf("=");_===-1&&(_=b);var v=_===b?0:4-_%4;return[_,v]}function s(d){var b=o(d),_=b[0],v=b[1];return(_+v)*3/4-v}function l(d,b,_){return(b+_)*3/4-_}function c(d){var b,_=o(d),v=_[0],T=_[1],S=new n(l(d,v,T)),I=0,C=T>0?v-4:v,D;for(D=0;D<C;D+=4)b=t[d.charCodeAt(D)]<<18|t[d.charCodeAt(D+1)]<<12|t[d.charCodeAt(D+2)]<<6|t[d.charCodeAt(D+3)],S[I++]=b>>16&255,S[I++]=b>>8&255,S[I++]=b&255;return T===2&&(b=t[d.charCodeAt(D)]<<2|t[d.charCodeAt(D+1)]>>4,S[I++]=b&255),T===1&&(b=t[d.charCodeAt(D)]<<10|t[d.charCodeAt(D+1)]<<4|t[d.charCodeAt(D+2)]>>2,S[I++]=b>>8&255,S[I++]=b&255),S}function u(d){return e[d>>18&63]+e[d>>12&63]+e[d>>6&63]+e[d&63]}function m(d,b,_){for(var v,T=[],S=b;S<_;S+=3)v=(d[S]<<16&16711680)+(d[S+1]<<8&65280)+(d[S+2]&255),T.push(u(v));return T.join("")}function f(d){for(var b,_=d.length,v=_%3,T=[],S=16383,I=0,C=_-v;I<C;I+=S)T.push(m(d,I,I+S>C?C:I+S));return v===1?(b=d[_-1],T.push(e[b>>2]+e[b<<4&63]+"==")):v===2&&(b=(d[_-2]<<8)+d[_-1],T.push(e[b>>10]+e[b>>4&63]+e[b<<2&63]+"=")),T.join("")}return base64Js}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var hasRequiredBuffer;function requireBuffer(){return hasRequiredBuffer||(hasRequiredBuffer=1,(function(e){const t=requireBase64Js(),n=requireIeee754(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=s,e.SlowBuffer=S,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=a(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const k=new Uint8Array(1),g={foo:function(){return 42}};return Object.setPrototypeOf(g,Uint8Array.prototype),Object.setPrototypeOf(k,g),k.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function o(k){if(k>i)throw new RangeError('The value "'+k+'" is invalid for option "size"');const g=new Uint8Array(k);return Object.setPrototypeOf(g,s.prototype),g}function s(k,g,y){if(typeof k=="number"){if(typeof g=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(k)}return l(k,g,y)}s.poolSize=8192;function l(k,g,y){if(typeof k=="string")return f(k,g);if(ArrayBuffer.isView(k))return b(k);if(k==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k);if(X(k,ArrayBuffer)||k&&X(k.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(X(k,SharedArrayBuffer)||k&&X(k.buffer,SharedArrayBuffer)))return _(k,g,y);if(typeof k=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const P=k.valueOf&&k.valueOf();if(P!=null&&P!==k)return s.from(P,g,y);const $=v(k);if($)return $;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof k[Symbol.toPrimitive]=="function")return s.from(k[Symbol.toPrimitive]("string"),g,y);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k)}s.from=function(k,g,y){return l(k,g,y)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function c(k){if(typeof k!="number")throw new TypeError('"size" argument must be of type number');if(k<0)throw new RangeError('The value "'+k+'" is invalid for option "size"')}function u(k,g,y){return c(k),k<=0?o(k):g!==void 0?typeof y=="string"?o(k).fill(g,y):o(k).fill(g):o(k)}s.alloc=function(k,g,y){return u(k,g,y)};function m(k){return c(k),o(k<0?0:T(k)|0)}s.allocUnsafe=function(k){return m(k)},s.allocUnsafeSlow=function(k){return m(k)};function f(k,g){if((typeof g!="string"||g==="")&&(g="utf8"),!s.isEncoding(g))throw new TypeError("Unknown encoding: "+g);const y=I(k,g)|0;let P=o(y);const $=P.write(k,g);return $!==y&&(P=P.slice(0,$)),P}function d(k){const g=k.length<0?0:T(k.length)|0,y=o(g);for(let P=0;P<g;P+=1)y[P]=k[P]&255;return y}function b(k){if(X(k,Uint8Array)){const g=new Uint8Array(k);return _(g.buffer,g.byteOffset,g.byteLength)}return d(k)}function _(k,g,y){if(g<0||k.byteLength<g)throw new RangeError('"offset" is outside of buffer bounds');if(k.byteLength<g+(y||0))throw new RangeError('"length" is outside of buffer bounds');let P;return g===void 0&&y===void 0?P=new Uint8Array(k):y===void 0?P=new Uint8Array(k,g):P=new Uint8Array(k,g,y),Object.setPrototypeOf(P,s.prototype),P}function v(k){if(s.isBuffer(k)){const g=T(k.length)|0,y=o(g);return y.length===0||k.copy(y,0,0,g),y}if(k.length!==void 0)return typeof k.length!="number"||se(k.length)?o(0):d(k);if(k.type==="Buffer"&&Array.isArray(k.data))return d(k.data)}function T(k){if(k>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return k|0}function S(k){return+k!=k&&(k=0),s.alloc(+k)}s.isBuffer=function(g){return g!=null&&g._isBuffer===!0&&g!==s.prototype},s.compare=function(g,y){if(X(g,Uint8Array)&&(g=s.from(g,g.offset,g.byteLength)),X(y,Uint8Array)&&(y=s.from(y,y.offset,y.byteLength)),!s.isBuffer(g)||!s.isBuffer(y))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(g===y)return 0;let P=g.length,$=y.length;for(let J=0,ie=Math.min(P,$);J<ie;++J)if(g[J]!==y[J]){P=g[J],$=y[J];break}return P<$?-1:$<P?1:0},s.isEncoding=function(g){switch(String(g).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(g,y){if(!Array.isArray(g))throw new TypeError('"list" argument must be an Array of Buffers');if(g.length===0)return s.alloc(0);let P;if(y===void 0)for(y=0,P=0;P<g.length;++P)y+=g[P].length;const $=s.allocUnsafe(y);let J=0;for(P=0;P<g.length;++P){let ie=g[P];if(X(ie,Uint8Array))J+ie.length>$.length?(s.isBuffer(ie)||(ie=s.from(ie)),ie.copy($,J)):Uint8Array.prototype.set.call($,ie,J);else if(s.isBuffer(ie))ie.copy($,J);else throw new TypeError('"list" argument must be an Array of Buffers');J+=ie.length}return $};function I(k,g){if(s.isBuffer(k))return k.length;if(ArrayBuffer.isView(k)||X(k,ArrayBuffer))return k.byteLength;if(typeof k!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof k);const y=k.length,P=arguments.length>2&&arguments[2]===!0;if(!P&&y===0)return 0;let $=!1;for(;;)switch(g){case"ascii":case"latin1":case"binary":return y;case"utf8":case"utf-8":return W(k).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y*2;case"hex":return y>>>1;case"base64":return z(k).length;default:if($)return P?-1:W(k).length;g=(""+g).toLowerCase(),$=!0}}s.byteLength=I;function C(k,g,y){let P=!1;if((g===void 0||g<0)&&(g=0),g>this.length||((y===void 0||y>this.length)&&(y=this.length),y<=0)||(y>>>=0,g>>>=0,y<=g))return"";for(k||(k="utf8");;)switch(k){case"hex":return pe(this,g,y);case"utf8":case"utf-8":return oe(this,g,y);case"ascii":return me(this,g,y);case"latin1":case"binary":return Q(this,g,y);case"base64":return j(this,g,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,g,y);default:if(P)throw new TypeError("Unknown encoding: "+k);k=(k+"").toLowerCase(),P=!0}}s.prototype._isBuffer=!0;function D(k,g,y){const P=k[g];k[g]=k[y],k[y]=P}s.prototype.swap16=function(){const g=this.length;if(g%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let y=0;y<g;y+=2)D(this,y,y+1);return this},s.prototype.swap32=function(){const g=this.length;if(g%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let y=0;y<g;y+=4)D(this,y,y+3),D(this,y+1,y+2);return this},s.prototype.swap64=function(){const g=this.length;if(g%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let y=0;y<g;y+=8)D(this,y,y+7),D(this,y+1,y+6),D(this,y+2,y+5),D(this,y+3,y+4);return this},s.prototype.toString=function(){const g=this.length;return g===0?"":arguments.length===0?oe(this,0,g):C.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(g){if(!s.isBuffer(g))throw new TypeError("Argument must be a Buffer");return this===g?!0:s.compare(this,g)===0},s.prototype.inspect=function(){let g="";const y=e.INSPECT_MAX_BYTES;return g=this.toString("hex",0,y).replace(/(.{2})/g,"$1 ").trim(),this.length>y&&(g+=" ... "),"<Buffer "+g+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(g,y,P,$,J){if(X(g,Uint8Array)&&(g=s.from(g,g.offset,g.byteLength)),!s.isBuffer(g))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof g);if(y===void 0&&(y=0),P===void 0&&(P=g?g.length:0),$===void 0&&($=0),J===void 0&&(J=this.length),y<0||P>g.length||$<0||J>this.length)throw new RangeError("out of range index");if($>=J&&y>=P)return 0;if($>=J)return-1;if(y>=P)return 1;if(y>>>=0,P>>>=0,$>>>=0,J>>>=0,this===g)return 0;let ie=J-$,Se=P-y;const Ee=Math.min(ie,Se),ke=this.slice($,J),xe=g.slice(y,P);for(let Ie=0;Ie<Ee;++Ie)if(ke[Ie]!==xe[Ie]){ie=ke[Ie],Se=xe[Ie];break}return ie<Se?-1:Se<ie?1:0};function F(k,g,y,P,$){if(k.length===0)return-1;if(typeof y=="string"?(P=y,y=0):y>2147483647?y=2147483647:y<-2147483648&&(y=-2147483648),y=+y,se(y)&&(y=$?0:k.length-1),y<0&&(y=k.length+y),y>=k.length){if($)return-1;y=k.length-1}else if(y<0)if($)y=0;else return-1;if(typeof g=="string"&&(g=s.from(g,P)),s.isBuffer(g))return g.length===0?-1:w(k,g,y,P,$);if(typeof g=="number")return g=g&255,typeof Uint8Array.prototype.indexOf=="function"?$?Uint8Array.prototype.indexOf.call(k,g,y):Uint8Array.prototype.lastIndexOf.call(k,g,y):w(k,[g],y,P,$);throw new TypeError("val must be string, number or Buffer")}function w(k,g,y,P,$){let J=1,ie=k.length,Se=g.length;if(P!==void 0&&(P=String(P).toLowerCase(),P==="ucs2"||P==="ucs-2"||P==="utf16le"||P==="utf-16le")){if(k.length<2||g.length<2)return-1;J=2,ie/=2,Se/=2,y/=2}function Ee(xe,Ie){return J===1?xe[Ie]:xe.readUInt16BE(Ie*J)}let ke;if($){let xe=-1;for(ke=y;ke<ie;ke++)if(Ee(k,ke)===Ee(g,xe===-1?0:ke-xe)){if(xe===-1&&(xe=ke),ke-xe+1===Se)return xe*J}else xe!==-1&&(ke-=ke-xe),xe=-1}else for(y+Se>ie&&(y=ie-Se),ke=y;ke>=0;ke--){let xe=!0;for(let Ie=0;Ie<Se;Ie++)if(Ee(k,ke+Ie)!==Ee(g,Ie)){xe=!1;break}if(xe)return ke}return-1}s.prototype.includes=function(g,y,P){return this.indexOf(g,y,P)!==-1},s.prototype.indexOf=function(g,y,P){return F(this,g,y,P,!0)},s.prototype.lastIndexOf=function(g,y,P){return F(this,g,y,P,!1)};function A(k,g,y,P){y=Number(y)||0;const $=k.length-y;P?(P=Number(P),P>$&&(P=$)):P=$;const J=g.length;P>J/2&&(P=J/2);let ie;for(ie=0;ie<P;++ie){const Se=parseInt(g.substr(ie*2,2),16);if(se(Se))return ie;k[y+ie]=Se}return ie}function Y(k,g,y,P){return G(W(g,k.length-y),k,y,P)}function L(k,g,y,P){return G(K(g),k,y,P)}function U(k,g,y,P){return G(z(g),k,y,P)}function V(k,g,y,P){return G(M(g,k.length-y),k,y,P)}s.prototype.write=function(g,y,P,$){if(y===void 0)$="utf8",P=this.length,y=0;else if(P===void 0&&typeof y=="string")$=y,P=this.length,y=0;else if(isFinite(y))y=y>>>0,isFinite(P)?(P=P>>>0,$===void 0&&($="utf8")):($=P,P=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const J=this.length-y;if((P===void 0||P>J)&&(P=J),g.length>0&&(P<0||y<0)||y>this.length)throw new RangeError("Attempt to write outside buffer bounds");$||($="utf8");let ie=!1;for(;;)switch($){case"hex":return A(this,g,y,P);case"utf8":case"utf-8":return Y(this,g,y,P);case"ascii":case"latin1":case"binary":return L(this,g,y,P);case"base64":return U(this,g,y,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,g,y,P);default:if(ie)throw new TypeError("Unknown encoding: "+$);$=(""+$).toLowerCase(),ie=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function j(k,g,y){return g===0&&y===k.length?t.fromByteArray(k):t.fromByteArray(k.slice(g,y))}function oe(k,g,y){y=Math.min(k.length,y);const P=[];let $=g;for(;$<y;){const J=k[$];let ie=null,Se=J>239?4:J>223?3:J>191?2:1;if($+Se<=y){let Ee,ke,xe,Ie;switch(Se){case 1:J<128&&(ie=J);break;case 2:Ee=k[$+1],(Ee&192)===128&&(Ie=(J&31)<<6|Ee&63,Ie>127&&(ie=Ie));break;case 3:Ee=k[$+1],ke=k[$+2],(Ee&192)===128&&(ke&192)===128&&(Ie=(J&15)<<12|(Ee&63)<<6|ke&63,Ie>2047&&(Ie<55296||Ie>57343)&&(ie=Ie));break;case 4:Ee=k[$+1],ke=k[$+2],xe=k[$+3],(Ee&192)===128&&(ke&192)===128&&(xe&192)===128&&(Ie=(J&15)<<18|(Ee&63)<<12|(ke&63)<<6|xe&63,Ie>65535&&Ie<1114112&&(ie=Ie))}}ie===null?(ie=65533,Se=1):ie>65535&&(ie-=65536,P.push(ie>>>10&1023|55296),ie=56320|ie&1023),P.push(ie),$+=Se}return ce(P)}const ue=4096;function ce(k){const g=k.length;if(g<=ue)return String.fromCharCode.apply(String,k);let y="",P=0;for(;P<g;)y+=String.fromCharCode.apply(String,k.slice(P,P+=ue));return y}function me(k,g,y){let P="";y=Math.min(k.length,y);for(let $=g;$<y;++$)P+=String.fromCharCode(k[$]&127);return P}function Q(k,g,y){let P="";y=Math.min(k.length,y);for(let $=g;$<y;++$)P+=String.fromCharCode(k[$]);return P}function pe(k,g,y){const P=k.length;(!g||g<0)&&(g=0),(!y||y<0||y>P)&&(y=P);let $="";for(let J=g;J<y;++J)$+=ge[k[J]];return $}function q(k,g,y){const P=k.slice(g,y);let $="";for(let J=0;J<P.length-1;J+=2)$+=String.fromCharCode(P[J]+P[J+1]*256);return $}s.prototype.slice=function(g,y){const P=this.length;g=~~g,y=y===void 0?P:~~y,g<0?(g+=P,g<0&&(g=0)):g>P&&(g=P),y<0?(y+=P,y<0&&(y=0)):y>P&&(y=P),y<g&&(y=g);const $=this.subarray(g,y);return Object.setPrototypeOf($,s.prototype),$};function ee(k,g,y){if(k%1!==0||k<0)throw new RangeError("offset is not uint");if(k+g>y)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(g,y,P){g=g>>>0,y=y>>>0,P||ee(g,y,this.length);let $=this[g],J=1,ie=0;for(;++ie<y&&(J*=256);)$+=this[g+ie]*J;return $},s.prototype.readUintBE=s.prototype.readUIntBE=function(g,y,P){g=g>>>0,y=y>>>0,P||ee(g,y,this.length);let $=this[g+--y],J=1;for(;y>0&&(J*=256);)$+=this[g+--y]*J;return $},s.prototype.readUint8=s.prototype.readUInt8=function(g,y){return g=g>>>0,y||ee(g,1,this.length),this[g]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(g,y){return g=g>>>0,y||ee(g,2,this.length),this[g]|this[g+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(g,y){return g=g>>>0,y||ee(g,2,this.length),this[g]<<8|this[g+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(g,y){return g=g>>>0,y||ee(g,4,this.length),(this[g]|this[g+1]<<8|this[g+2]<<16)+this[g+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(g,y){return g=g>>>0,y||ee(g,4,this.length),this[g]*16777216+(this[g+1]<<16|this[g+2]<<8|this[g+3])},s.prototype.readBigUInt64LE=de(function(g){g=g>>>0,E(g,"offset");const y=this[g],P=this[g+7];(y===void 0||P===void 0)&&x(g,this.length-8);const $=y+this[++g]*2**8+this[++g]*2**16+this[++g]*2**24,J=this[++g]+this[++g]*2**8+this[++g]*2**16+P*2**24;return BigInt($)+(BigInt(J)<<BigInt(32))}),s.prototype.readBigUInt64BE=de(function(g){g=g>>>0,E(g,"offset");const y=this[g],P=this[g+7];(y===void 0||P===void 0)&&x(g,this.length-8);const $=y*2**24+this[++g]*2**16+this[++g]*2**8+this[++g],J=this[++g]*2**24+this[++g]*2**16+this[++g]*2**8+P;return(BigInt($)<<BigInt(32))+BigInt(J)}),s.prototype.readIntLE=function(g,y,P){g=g>>>0,y=y>>>0,P||ee(g,y,this.length);let $=this[g],J=1,ie=0;for(;++ie<y&&(J*=256);)$+=this[g+ie]*J;return J*=128,$>=J&&($-=Math.pow(2,8*y)),$},s.prototype.readIntBE=function(g,y,P){g=g>>>0,y=y>>>0,P||ee(g,y,this.length);let $=y,J=1,ie=this[g+--$];for(;$>0&&(J*=256);)ie+=this[g+--$]*J;return J*=128,ie>=J&&(ie-=Math.pow(2,8*y)),ie},s.prototype.readInt8=function(g,y){return g=g>>>0,y||ee(g,1,this.length),this[g]&128?(255-this[g]+1)*-1:this[g]},s.prototype.readInt16LE=function(g,y){g=g>>>0,y||ee(g,2,this.length);const P=this[g]|this[g+1]<<8;return P&32768?P|4294901760:P},s.prototype.readInt16BE=function(g,y){g=g>>>0,y||ee(g,2,this.length);const P=this[g+1]|this[g]<<8;return P&32768?P|4294901760:P},s.prototype.readInt32LE=function(g,y){return g=g>>>0,y||ee(g,4,this.length),this[g]|this[g+1]<<8|this[g+2]<<16|this[g+3]<<24},s.prototype.readInt32BE=function(g,y){return g=g>>>0,y||ee(g,4,this.length),this[g]<<24|this[g+1]<<16|this[g+2]<<8|this[g+3]},s.prototype.readBigInt64LE=de(function(g){g=g>>>0,E(g,"offset");const y=this[g],P=this[g+7];(y===void 0||P===void 0)&&x(g,this.length-8);const $=this[g+4]+this[g+5]*2**8+this[g+6]*2**16+(P<<24);return(BigInt($)<<BigInt(32))+BigInt(y+this[++g]*2**8+this[++g]*2**16+this[++g]*2**24)}),s.prototype.readBigInt64BE=de(function(g){g=g>>>0,E(g,"offset");const y=this[g],P=this[g+7];(y===void 0||P===void 0)&&x(g,this.length-8);const $=(y<<24)+this[++g]*2**16+this[++g]*2**8+this[++g];return(BigInt($)<<BigInt(32))+BigInt(this[++g]*2**24+this[++g]*2**16+this[++g]*2**8+P)}),s.prototype.readFloatLE=function(g,y){return g=g>>>0,y||ee(g,4,this.length),n.read(this,g,!0,23,4)},s.prototype.readFloatBE=function(g,y){return g=g>>>0,y||ee(g,4,this.length),n.read(this,g,!1,23,4)},s.prototype.readDoubleLE=function(g,y){return g=g>>>0,y||ee(g,8,this.length),n.read(this,g,!0,52,8)},s.prototype.readDoubleBE=function(g,y){return g=g>>>0,y||ee(g,8,this.length),n.read(this,g,!1,52,8)};function le(k,g,y,P,$,J){if(!s.isBuffer(k))throw new TypeError('"buffer" argument must be a Buffer instance');if(g>$||g<J)throw new RangeError('"value" argument is out of bounds');if(y+P>k.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(g,y,P,$){if(g=+g,y=y>>>0,P=P>>>0,!$){const Se=Math.pow(2,8*P)-1;le(this,g,y,P,Se,0)}let J=1,ie=0;for(this[y]=g&255;++ie<P&&(J*=256);)this[y+ie]=g/J&255;return y+P},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(g,y,P,$){if(g=+g,y=y>>>0,P=P>>>0,!$){const Se=Math.pow(2,8*P)-1;le(this,g,y,P,Se,0)}let J=P-1,ie=1;for(this[y+J]=g&255;--J>=0&&(ie*=256);)this[y+J]=g/ie&255;return y+P},s.prototype.writeUint8=s.prototype.writeUInt8=function(g,y,P){return g=+g,y=y>>>0,P||le(this,g,y,1,255,0),this[y]=g&255,y+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(g,y,P){return g=+g,y=y>>>0,P||le(this,g,y,2,65535,0),this[y]=g&255,this[y+1]=g>>>8,y+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(g,y,P){return g=+g,y=y>>>0,P||le(this,g,y,2,65535,0),this[y]=g>>>8,this[y+1]=g&255,y+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(g,y,P){return g=+g,y=y>>>0,P||le(this,g,y,4,4294967295,0),this[y+3]=g>>>24,this[y+2]=g>>>16,this[y+1]=g>>>8,this[y]=g&255,y+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(g,y,P){return g=+g,y=y>>>0,P||le(this,g,y,4,4294967295,0),this[y]=g>>>24,this[y+1]=g>>>16,this[y+2]=g>>>8,this[y+3]=g&255,y+4};function ne(k,g,y,P,$){R(g,P,$,k,y,7);let J=Number(g&BigInt(4294967295));k[y++]=J,J=J>>8,k[y++]=J,J=J>>8,k[y++]=J,J=J>>8,k[y++]=J;let ie=Number(g>>BigInt(32)&BigInt(4294967295));return k[y++]=ie,ie=ie>>8,k[y++]=ie,ie=ie>>8,k[y++]=ie,ie=ie>>8,k[y++]=ie,y}function be(k,g,y,P,$){R(g,P,$,k,y,7);let J=Number(g&BigInt(4294967295));k[y+7]=J,J=J>>8,k[y+6]=J,J=J>>8,k[y+5]=J,J=J>>8,k[y+4]=J;let ie=Number(g>>BigInt(32)&BigInt(4294967295));return k[y+3]=ie,ie=ie>>8,k[y+2]=ie,ie=ie>>8,k[y+1]=ie,ie=ie>>8,k[y]=ie,y+8}s.prototype.writeBigUInt64LE=de(function(g,y=0){return ne(this,g,y,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=de(function(g,y=0){return be(this,g,y,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(g,y,P,$){if(g=+g,y=y>>>0,!$){const Ee=Math.pow(2,8*P-1);le(this,g,y,P,Ee-1,-Ee)}let J=0,ie=1,Se=0;for(this[y]=g&255;++J<P&&(ie*=256);)g<0&&Se===0&&this[y+J-1]!==0&&(Se=1),this[y+J]=(g/ie>>0)-Se&255;return y+P},s.prototype.writeIntBE=function(g,y,P,$){if(g=+g,y=y>>>0,!$){const Ee=Math.pow(2,8*P-1);le(this,g,y,P,Ee-1,-Ee)}let J=P-1,ie=1,Se=0;for(this[y+J]=g&255;--J>=0&&(ie*=256);)g<0&&Se===0&&this[y+J+1]!==0&&(Se=1),this[y+J]=(g/ie>>0)-Se&255;return y+P},s.prototype.writeInt8=function(g,y,P){return g=+g,y=y>>>0,P||le(this,g,y,1,127,-128),g<0&&(g=255+g+1),this[y]=g&255,y+1},s.prototype.writeInt16LE=function(g,y,P){return g=+g,y=y>>>0,P||le(this,g,y,2,32767,-32768),this[y]=g&255,this[y+1]=g>>>8,y+2},s.prototype.writeInt16BE=function(g,y,P){return g=+g,y=y>>>0,P||le(this,g,y,2,32767,-32768),this[y]=g>>>8,this[y+1]=g&255,y+2},s.prototype.writeInt32LE=function(g,y,P){return g=+g,y=y>>>0,P||le(this,g,y,4,2147483647,-2147483648),this[y]=g&255,this[y+1]=g>>>8,this[y+2]=g>>>16,this[y+3]=g>>>24,y+4},s.prototype.writeInt32BE=function(g,y,P){return g=+g,y=y>>>0,P||le(this,g,y,4,2147483647,-2147483648),g<0&&(g=4294967295+g+1),this[y]=g>>>24,this[y+1]=g>>>16,this[y+2]=g>>>8,this[y+3]=g&255,y+4},s.prototype.writeBigInt64LE=de(function(g,y=0){return ne(this,g,y,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=de(function(g,y=0){return be(this,g,y,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function _e(k,g,y,P,$,J){if(y+P>k.length)throw new RangeError("Index out of range");if(y<0)throw new RangeError("Index out of range")}function we(k,g,y,P,$){return g=+g,y=y>>>0,$||_e(k,g,y,4),n.write(k,g,y,P,23,4),y+4}s.prototype.writeFloatLE=function(g,y,P){return we(this,g,y,!0,P)},s.prototype.writeFloatBE=function(g,y,P){return we(this,g,y,!1,P)};function Te(k,g,y,P,$){return g=+g,y=y>>>0,$||_e(k,g,y,8),n.write(k,g,y,P,52,8),y+8}s.prototype.writeDoubleLE=function(g,y,P){return Te(this,g,y,!0,P)},s.prototype.writeDoubleBE=function(g,y,P){return Te(this,g,y,!1,P)},s.prototype.copy=function(g,y,P,$){if(!s.isBuffer(g))throw new TypeError("argument should be a Buffer");if(P||(P=0),!$&&$!==0&&($=this.length),y>=g.length&&(y=g.length),y||(y=0),$>0&&$<P&&($=P),$===P||g.length===0||this.length===0)return 0;if(y<0)throw new RangeError("targetStart out of bounds");if(P<0||P>=this.length)throw new RangeError("Index out of range");if($<0)throw new RangeError("sourceEnd out of bounds");$>this.length&&($=this.length),g.length-y<$-P&&($=g.length-y+P);const J=$-P;return this===g&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(y,P,$):Uint8Array.prototype.set.call(g,this.subarray(P,$),y),J},s.prototype.fill=function(g,y,P,$){if(typeof g=="string"){if(typeof y=="string"?($=y,y=0,P=this.length):typeof P=="string"&&($=P,P=this.length),$!==void 0&&typeof $!="string")throw new TypeError("encoding must be a string");if(typeof $=="string"&&!s.isEncoding($))throw new TypeError("Unknown encoding: "+$);if(g.length===1){const ie=g.charCodeAt(0);($==="utf8"&&ie<128||$==="latin1")&&(g=ie)}}else typeof g=="number"?g=g&255:typeof g=="boolean"&&(g=Number(g));if(y<0||this.length<y||this.length<P)throw new RangeError("Out of range index");if(P<=y)return this;y=y>>>0,P=P===void 0?this.length:P>>>0,g||(g=0);let J;if(typeof g=="number")for(J=y;J<P;++J)this[J]=g;else{const ie=s.isBuffer(g)?g:s.from(g,$),Se=ie.length;if(Se===0)throw new TypeError('The value "'+g+'" is invalid for argument "value"');for(J=0;J<P-y;++J)this[J+y]=ie[J%Se]}return this};const te={};function ae(k,g,y){te[k]=class extends y{constructor(){super(),Object.defineProperty(this,"message",{value:g.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${k}]`,this.stack,delete this.name}get code(){return k}set code($){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:$,writable:!0})}toString(){return`${this.name} [${k}]: ${this.message}`}}}ae("ERR_BUFFER_OUT_OF_BOUNDS",function(k){return k?`${k} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ae("ERR_INVALID_ARG_TYPE",function(k,g){return`The "${k}" argument must be of type number. Received type ${typeof g}`},TypeError),ae("ERR_OUT_OF_RANGE",function(k,g,y){let P=`The value of "${k}" is out of range.`,$=y;return Number.isInteger(y)&&Math.abs(y)>2**32?$=Z(String(y)):typeof y=="bigint"&&($=String(y),(y>BigInt(2)**BigInt(32)||y<-(BigInt(2)**BigInt(32)))&&($=Z($)),$+="n"),P+=` It must be ${g}. Received ${$}`,P},RangeError);function Z(k){let g="",y=k.length;const P=k[0]==="-"?1:0;for(;y>=P+4;y-=3)g=`_${k.slice(y-3,y)}${g}`;return`${k.slice(0,y)}${g}`}function re(k,g,y){E(g,"offset"),(k[g]===void 0||k[g+y]===void 0)&&x(g,k.length-(y+1))}function R(k,g,y,P,$,J){if(k>y||k<g){const ie=typeof g=="bigint"?"n":"";let Se;throw g===0||g===BigInt(0)?Se=`>= 0${ie} and < 2${ie} ** ${(J+1)*8}${ie}`:Se=`>= -(2${ie} ** ${(J+1)*8-1}${ie}) and < 2 ** ${(J+1)*8-1}${ie}`,new te.ERR_OUT_OF_RANGE("value",Se,k)}re(P,$,J)}function E(k,g){if(typeof k!="number")throw new te.ERR_INVALID_ARG_TYPE(g,"number",k)}function x(k,g,y){throw Math.floor(k)!==k?(E(k,y),new te.ERR_OUT_OF_RANGE("offset","an integer",k)):g<0?new te.ERR_BUFFER_OUT_OF_BOUNDS:new te.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${g}`,k)}const O=/[^+/0-9A-Za-z-_]/g;function H(k){if(k=k.split("=")[0],k=k.trim().replace(O,""),k.length<2)return"";for(;k.length%4!==0;)k=k+"=";return k}function W(k,g){g=g||1/0;let y;const P=k.length;let $=null;const J=[];for(let ie=0;ie<P;++ie){if(y=k.charCodeAt(ie),y>55295&&y<57344){if(!$){if(y>56319){(g-=3)>-1&&J.push(239,191,189);continue}else if(ie+1===P){(g-=3)>-1&&J.push(239,191,189);continue}$=y;continue}if(y<56320){(g-=3)>-1&&J.push(239,191,189),$=y;continue}y=($-55296<<10|y-56320)+65536}else $&&(g-=3)>-1&&J.push(239,191,189);if($=null,y<128){if((g-=1)<0)break;J.push(y)}else if(y<2048){if((g-=2)<0)break;J.push(y>>6|192,y&63|128)}else if(y<65536){if((g-=3)<0)break;J.push(y>>12|224,y>>6&63|128,y&63|128)}else if(y<1114112){if((g-=4)<0)break;J.push(y>>18|240,y>>12&63|128,y>>6&63|128,y&63|128)}else throw new Error("Invalid code point")}return J}function K(k){const g=[];for(let y=0;y<k.length;++y)g.push(k.charCodeAt(y)&255);return g}function M(k,g){let y,P,$;const J=[];for(let ie=0;ie<k.length&&!((g-=2)<0);++ie)y=k.charCodeAt(ie),P=y>>8,$=y%256,J.push($),J.push(P);return J}function z(k){return t.toByteArray(H(k))}function G(k,g,y,P){let $;for($=0;$<P&&!($+y>=g.length||$>=k.length);++$)g[$+y]=k[$];return $}function X(k,g){return k instanceof g||k!=null&&k.constructor!=null&&k.constructor.name!=null&&k.constructor.name===g.name}function se(k){return k!==k}const ge=(function(){const k="0123456789abcdef",g=new Array(256);for(let y=0;y<16;++y){const P=y*16;for(let $=0;$<16;++$)g[P+$]=k[y]+k[$]}return g})();function de(k){return typeof BigInt>"u"?ve:k}function ve(){throw new Error("BigInt not supported")}})(buffer)),buffer}var primordials,hasRequiredPrimordials;function requirePrimordials(){if(hasRequiredPrimordials)return primordials;hasRequiredPrimordials=1;class e extends Error{constructor(n){if(!Array.isArray(n))throw new TypeError(`Expected input to be an Array, got ${typeof n}`);let r="";for(let i=0;i<n.length;i++)r+=`    ${n[i].stack}
`;super(r),this.name="AggregateError",this.errors=n}}return primordials={AggregateError:e,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,n){return t.includes(n)},ArrayPrototypeIndexOf(t,n){return t.indexOf(n)},ArrayPrototypeJoin(t,n){return t.join(n)},ArrayPrototypeMap(t,n){return t.map(n)},ArrayPrototypePop(t,n){return t.pop(n)},ArrayPrototypePush(t,n){return t.push(n)},ArrayPrototypeSlice(t,n,r){return t.slice(n,r)},Error,FunctionPrototypeCall(t,n,...r){return t.call(n,...r)},FunctionPrototypeSymbolHasInstance(t,n){return Function.prototype[Symbol.hasInstance].call(t,n)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,n){return Object.defineProperties(t,n)},ObjectDefineProperty(t,n,r){return Object.defineProperty(t,n,r)},ObjectGetOwnPropertyDescriptor(t,n){return Object.getOwnPropertyDescriptor(t,n)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,n){return Object.setPrototypeOf(t,n)},Promise,PromisePrototypeCatch(t,n){return t.catch(n)},PromisePrototypeThen(t,n,r){return t.then(n,r)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,n){return t.test(n)},SafeSet:Set,String,StringPrototypeSlice(t,n,r){return t.slice(n,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,n,r){return t.set(n,r)},Boolean,Uint8Array},primordials}var util={exports:{}},inspect,hasRequiredInspect;function requireInspect(){return hasRequiredInspect||(hasRequiredInspect=1,inspect={format(e,...t){return e.replace(/%([sdifj])/g,function(...[n,r]){const i=t.shift();return r==="f"?i.toFixed(6):r==="j"?JSON.stringify(i):r==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(e){switch(typeof e){case"string":if(e.includes("'"))if(e.includes('"')){if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}else return`"${e}"`;return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}}}),inspect}var errors,hasRequiredErrors;function requireErrors(){if(hasRequiredErrors)return errors;hasRequiredErrors=1;const{format:e,inspect:t}=requireInspect(),{AggregateError:n}=requirePrimordials(),r=globalThis.AggregateError||n,i=Symbol("kIsNodeError"),a=["string","function","number","object","Function","Object","boolean","bigint","symbol"],o=/^([A-Z][a-z0-9]*)+$/,s="__node_internal_",l={};function c(v,T){if(!v)throw new l.ERR_INTERNAL_ASSERTION(T)}function u(v){let T="",S=v.length;const I=v[0]==="-"?1:0;for(;S>=I+4;S-=3)T=`_${v.slice(S-3,S)}${T}`;return`${v.slice(0,S)}${T}`}function m(v,T,S){if(typeof T=="function")return c(T.length<=S.length,`Code: ${v}; The provided arguments length (${S.length}) does not match the required ones (${T.length}).`),T(...S);const I=(T.match(/%[dfijoOs]/g)||[]).length;return c(I===S.length,`Code: ${v}; The provided arguments length (${S.length}) does not match the required ones (${I}).`),S.length===0?T:e(T,...S)}function f(v,T,S){S||(S=Error);class I extends S{constructor(...D){super(m(v,T,D))}toString(){return`${this.name} [${v}]: ${this.message}`}}Object.defineProperties(I.prototype,{name:{value:S.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${v}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),I.prototype.code=v,I.prototype[i]=!0,l[v]=I}function d(v){const T=s+v.name;return Object.defineProperty(v,"name",{value:T}),v}function b(v,T){if(v&&T&&v!==T){if(Array.isArray(T.errors))return T.errors.push(v),T;const S=new r([T,v],T.message);return S.code=T.code,S}return v||T}class _ extends Error{constructor(T="The operation was aborted",S=void 0){if(S!==void 0&&typeof S!="object")throw new l.ERR_INVALID_ARG_TYPE("options","Object",S);super(T,S),this.code="ABORT_ERR",this.name="AbortError"}}return f("ERR_ASSERTION","%s",Error),f("ERR_INVALID_ARG_TYPE",(v,T,S)=>{c(typeof v=="string","'name' must be a string"),Array.isArray(T)||(T=[T]);let I="The ";v.endsWith(" argument")?I+=`${v} `:I+=`"${v}" ${v.includes(".")?"property":"argument"} `,I+="must be ";const C=[],D=[],F=[];for(const A of T)c(typeof A=="string","All expected entries have to be of type string"),a.includes(A)?C.push(A.toLowerCase()):o.test(A)?D.push(A):(c(A!=="object",'The value "object" should be written as "Object"'),F.push(A));if(D.length>0){const A=C.indexOf("object");A!==-1&&(C.splice(C,A,1),D.push("Object"))}if(C.length>0){switch(C.length){case 1:I+=`of type ${C[0]}`;break;case 2:I+=`one of type ${C[0]} or ${C[1]}`;break;default:{const A=C.pop();I+=`one of type ${C.join(", ")}, or ${A}`}}(D.length>0||F.length>0)&&(I+=" or ")}if(D.length>0){switch(D.length){case 1:I+=`an instance of ${D[0]}`;break;case 2:I+=`an instance of ${D[0]} or ${D[1]}`;break;default:{const A=D.pop();I+=`an instance of ${D.join(", ")}, or ${A}`}}F.length>0&&(I+=" or ")}switch(F.length){case 0:break;case 1:F[0].toLowerCase()!==F[0]&&(I+="an "),I+=`${F[0]}`;break;case 2:I+=`one of ${F[0]} or ${F[1]}`;break;default:{const A=F.pop();I+=`one of ${F.join(", ")}, or ${A}`}}if(S==null)I+=`. Received ${S}`;else if(typeof S=="function"&&S.name)I+=`. Received function ${S.name}`;else if(typeof S=="object"){var w;if((w=S.constructor)!==null&&w!==void 0&&w.name)I+=`. Received an instance of ${S.constructor.name}`;else{const A=t(S,{depth:-1});I+=`. Received ${A}`}}else{let A=t(S,{colors:!1});A.length>25&&(A=`${A.slice(0,25)}...`),I+=`. Received type ${typeof S} (${A})`}return I},TypeError),f("ERR_INVALID_ARG_VALUE",(v,T,S="is invalid")=>{let I=t(T);return I.length>128&&(I=I.slice(0,128)+"..."),`The ${v.includes(".")?"property":"argument"} '${v}' ${S}. Received ${I}`},TypeError),f("ERR_INVALID_RETURN_VALUE",(v,T,S)=>{var I;const C=S!=null&&(I=S.constructor)!==null&&I!==void 0&&I.name?`instance of ${S.constructor.name}`:`type ${typeof S}`;return`Expected ${v} to be returned from the "${T}" function but got ${C}.`},TypeError),f("ERR_MISSING_ARGS",(...v)=>{c(v.length>0,"At least one arg needs to be specified");let T;const S=v.length;switch(v=(Array.isArray(v)?v:[v]).map(I=>`"${I}"`).join(" or "),S){case 1:T+=`The ${v[0]} argument`;break;case 2:T+=`The ${v[0]} and ${v[1]} arguments`;break;default:{const I=v.pop();T+=`The ${v.join(", ")}, and ${I} arguments`}break}return`${T} must be specified`},TypeError),f("ERR_OUT_OF_RANGE",(v,T,S)=>{c(T,'Missing "range" argument');let I;if(Number.isInteger(S)&&Math.abs(S)>2**32)I=u(String(S));else if(typeof S=="bigint"){I=String(S);const C=BigInt(2)**BigInt(32);(S>C||S<-C)&&(I=u(I)),I+="n"}else I=t(S);return`The value of "${v}" is out of range. It must be ${T}. Received ${I}`},RangeError),f("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),f("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),f("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),f("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),f("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),f("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),f("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),f("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),f("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),f("ERR_STREAM_WRITE_AFTER_END","write after end",Error),f("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),errors={AbortError:_,aggregateTwoErrors:d(b),hideStackFrames:d,codes:l},errors}var browser$1={exports:{}},hasRequiredBrowser$2;function requireBrowser$2(){if(hasRequiredBrowser$2)return browser$1.exports;hasRequiredBrowser$2=1;const{AbortController:e,AbortSignal:t}=typeof self<"u"?self:typeof window<"u"?window:void 0;return browser$1.exports=e,browser$1.exports.AbortSignal=t,browser$1.exports.default=e,browser$1.exports}var events={exports:{}},hasRequiredEvents;function requireEvents(){if(hasRequiredEvents)return events.exports;hasRequiredEvents=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(D,F,w){return Function.prototype.apply.call(D,F,w)},n;e&&typeof e.ownKeys=="function"?n=e.ownKeys:Object.getOwnPropertySymbols?n=function(D){return Object.getOwnPropertyNames(D).concat(Object.getOwnPropertySymbols(D))}:n=function(D){return Object.getOwnPropertyNames(D)};function r(C){console&&console.warn&&console.warn(C)}var i=Number.isNaN||function(D){return D!==D};function a(){a.init.call(this)}events.exports=a,events.exports.once=T,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var o=10;function s(C){if(typeof C!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof C)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(C){if(typeof C!="number"||C<0||i(C))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+C+".");o=C}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(D){if(typeof D!="number"||D<0||i(D))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+D+".");return this._maxListeners=D,this};function l(C){return C._maxListeners===void 0?a.defaultMaxListeners:C._maxListeners}a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(D){for(var F=[],w=1;w<arguments.length;w++)F.push(arguments[w]);var A=D==="error",Y=this._events;if(Y!==void 0)A=A&&Y.error===void 0;else if(!A)return!1;if(A){var L;if(F.length>0&&(L=F[0]),L instanceof Error)throw L;var U=new Error("Unhandled error."+(L?" ("+L.message+")":""));throw U.context=L,U}var V=Y[D];if(V===void 0)return!1;if(typeof V=="function")t(V,this,F);else for(var j=V.length,oe=b(V,j),w=0;w<j;++w)t(oe[w],this,F);return!0};function c(C,D,F,w){var A,Y,L;if(s(F),Y=C._events,Y===void 0?(Y=C._events=Object.create(null),C._eventsCount=0):(Y.newListener!==void 0&&(C.emit("newListener",D,F.listener?F.listener:F),Y=C._events),L=Y[D]),L===void 0)L=Y[D]=F,++C._eventsCount;else if(typeof L=="function"?L=Y[D]=w?[F,L]:[L,F]:w?L.unshift(F):L.push(F),A=l(C),A>0&&L.length>A&&!L.warned){L.warned=!0;var U=new Error("Possible EventEmitter memory leak detected. "+L.length+" "+String(D)+" listeners added. Use emitter.setMaxListeners() to increase limit");U.name="MaxListenersExceededWarning",U.emitter=C,U.type=D,U.count=L.length,r(U)}return C}a.prototype.addListener=function(D,F){return c(this,D,F,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(D,F){return c(this,D,F,!0)};function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(C,D,F){var w={fired:!1,wrapFn:void 0,target:C,type:D,listener:F},A=u.bind(w);return A.listener=F,w.wrapFn=A,A}a.prototype.once=function(D,F){return s(F),this.on(D,m(this,D,F)),this},a.prototype.prependOnceListener=function(D,F){return s(F),this.prependListener(D,m(this,D,F)),this},a.prototype.removeListener=function(D,F){var w,A,Y,L,U;if(s(F),A=this._events,A===void 0)return this;if(w=A[D],w===void 0)return this;if(w===F||w.listener===F)--this._eventsCount===0?this._events=Object.create(null):(delete A[D],A.removeListener&&this.emit("removeListener",D,w.listener||F));else if(typeof w!="function"){for(Y=-1,L=w.length-1;L>=0;L--)if(w[L]===F||w[L].listener===F){U=w[L].listener,Y=L;break}if(Y<0)return this;Y===0?w.shift():_(w,Y),w.length===1&&(A[D]=w[0]),A.removeListener!==void 0&&this.emit("removeListener",D,U||F)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(D){var F,w,A;if(w=this._events,w===void 0)return this;if(w.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):w[D]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete w[D]),this;if(arguments.length===0){var Y=Object.keys(w),L;for(A=0;A<Y.length;++A)L=Y[A],L!=="removeListener"&&this.removeAllListeners(L);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(F=w[D],typeof F=="function")this.removeListener(D,F);else if(F!==void 0)for(A=F.length-1;A>=0;A--)this.removeListener(D,F[A]);return this};function f(C,D,F){var w=C._events;if(w===void 0)return[];var A=w[D];return A===void 0?[]:typeof A=="function"?F?[A.listener||A]:[A]:F?v(A):b(A,A.length)}a.prototype.listeners=function(D){return f(this,D,!0)},a.prototype.rawListeners=function(D){return f(this,D,!1)},a.listenerCount=function(C,D){return typeof C.listenerCount=="function"?C.listenerCount(D):d.call(C,D)},a.prototype.listenerCount=d;function d(C){var D=this._events;if(D!==void 0){var F=D[C];if(typeof F=="function")return 1;if(F!==void 0)return F.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function b(C,D){for(var F=new Array(D),w=0;w<D;++w)F[w]=C[w];return F}function _(C,D){for(;D+1<C.length;D++)C[D]=C[D+1];C.pop()}function v(C){for(var D=new Array(C.length),F=0;F<D.length;++F)D[F]=C[F].listener||C[F];return D}function T(C,D){return new Promise(function(F,w){function A(L){C.removeListener(D,Y),w(L)}function Y(){typeof C.removeListener=="function"&&C.removeListener("error",A),F([].slice.call(arguments))}I(C,D,Y,{once:!0}),D!=="error"&&S(C,A,{once:!0})})}function S(C,D,F){typeof C.on=="function"&&I(C,"error",D,F)}function I(C,D,F,w){if(typeof C.on=="function")w.once?C.once(D,F):C.on(D,F);else if(typeof C.addEventListener=="function")C.addEventListener(D,function A(Y){w.once&&C.removeEventListener(D,A),F(Y)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof C)}return events.exports}var hasRequiredUtil;function requireUtil(){return hasRequiredUtil||(hasRequiredUtil=1,(function(e){const t=requireBuffer(),{format:n,inspect:r}=requireInspect(),{codes:{ERR_INVALID_ARG_TYPE:i}}=requireErrors(),{kResistStopPropagation:a,AggregateError:o,SymbolDispose:s}=requirePrimordials(),l=globalThis.AbortSignal||requireBrowser$2().AbortSignal,c=globalThis.AbortController||requireBrowser$2().AbortController,u=Object.getPrototypeOf(async function(){}).constructor,m=globalThis.Blob||t.Blob,f=typeof m<"u"?function(v){return v instanceof m}:function(v){return!1},d=(_,v)=>{if(_!==void 0&&(_===null||typeof _!="object"||!("aborted"in _)))throw new i(v,"AbortSignal",_)},b=(_,v)=>{if(typeof _!="function")throw new i(v,"Function",_)};e.exports={AggregateError:o,kEmptyObject:Object.freeze({}),once(_){let v=!1;return function(...T){v||(v=!0,_.apply(this,T))}},createDeferredPromise:function(){let _,v;return{promise:new Promise((S,I)=>{_=S,v=I}),resolve:_,reject:v}},promisify(_){return new Promise((v,T)=>{_((S,...I)=>S?T(S):v(...I))})},debuglog(){return function(){}},format:n,inspect:r,types:{isAsyncFunction(_){return _ instanceof u},isArrayBufferView(_){return ArrayBuffer.isView(_)}},isBlob:f,deprecate(_,v){return _},addAbortListener:requireEvents().addAbortListener||function(v,T){if(v===void 0)throw new i("signal","AbortSignal",v);d(v,"signal"),b(T,"listener");let S;return v.aborted?queueMicrotask(()=>T()):(v.addEventListener("abort",T,{__proto__:null,once:!0,[a]:!0}),S=()=>{v.removeEventListener("abort",T)}),{__proto__:null,[s](){var I;(I=S)===null||I===void 0||I()}}},AbortSignalAny:l.any||function(v){if(v.length===1)return v[0];const T=new c,S=()=>T.abort();return v.forEach(I=>{d(I,"signals"),I.addEventListener("abort",S,{once:!0})}),T.signal.addEventListener("abort",()=>{v.forEach(I=>I.removeEventListener("abort",S))},{once:!0}),T.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})(util)),util.exports}var operators={},validators,hasRequiredValidators;function requireValidators(){if(hasRequiredValidators)return validators;hasRequiredValidators=1;const{ArrayIsArray:e,ArrayPrototypeIncludes:t,ArrayPrototypeJoin:n,ArrayPrototypeMap:r,NumberIsInteger:i,NumberIsNaN:a,NumberMAX_SAFE_INTEGER:o,NumberMIN_SAFE_INTEGER:s,NumberParseInt:l,ObjectPrototypeHasOwnProperty:c,RegExpPrototypeExec:u,String:m,StringPrototypeToUpperCase:f,StringPrototypeTrim:d}=requirePrimordials(),{hideStackFrames:b,codes:{ERR_SOCKET_BAD_PORT:_,ERR_INVALID_ARG_TYPE:v,ERR_INVALID_ARG_VALUE:T,ERR_OUT_OF_RANGE:S,ERR_UNKNOWN_SIGNAL:I}}=requireErrors(),{normalizeEncoding:C}=requireUtil(),{isAsyncFunction:D,isArrayBufferView:F}=requireUtil().types,w={};function A(M){return M===(M|0)}function Y(M){return M===M>>>0}const L=/^[0-7]+$/,U="must be a 32-bit unsigned integer or an octal string";function V(M,z,G){if(typeof M>"u"&&(M=G),typeof M=="string"){if(u(L,M)===null)throw new T(z,M,U);M=l(M,8)}return ue(M,z),M}const j=b((M,z,G=s,X=o)=>{if(typeof M!="number")throw new v(z,"number",M);if(!i(M))throw new S(z,"an integer",M);if(M<G||M>X)throw new S(z,`>= ${G} && <= ${X}`,M)}),oe=b((M,z,G=-2147483648,X=2147483647)=>{if(typeof M!="number")throw new v(z,"number",M);if(!i(M))throw new S(z,"an integer",M);if(M<G||M>X)throw new S(z,`>= ${G} && <= ${X}`,M)}),ue=b((M,z,G=!1)=>{if(typeof M!="number")throw new v(z,"number",M);if(!i(M))throw new S(z,"an integer",M);const X=G?1:0,se=4294967295;if(M<X||M>se)throw new S(z,`>= ${X} && <= ${se}`,M)});function ce(M,z){if(typeof M!="string")throw new v(z,"string",M)}function me(M,z,G=void 0,X){if(typeof M!="number")throw new v(z,"number",M);if(G!=null&&M<G||X!=null&&M>X||(G!=null||X!=null)&&a(M))throw new S(z,`${G!=null?`>= ${G}`:""}${G!=null&&X!=null?" && ":""}${X!=null?`<= ${X}`:""}`,M)}const Q=b((M,z,G)=>{if(!t(G,M)){const se="must be one of: "+n(r(G,ge=>typeof ge=="string"?`'${ge}'`:m(ge)),", ");throw new T(z,M,se)}});function pe(M,z){if(typeof M!="boolean")throw new v(z,"boolean",M)}function q(M,z,G){return M==null||!c(M,z)?G:M[z]}const ee=b((M,z,G=null)=>{const X=q(G,"allowArray",!1),se=q(G,"allowFunction",!1);if(!q(G,"nullable",!1)&&M===null||!X&&e(M)||typeof M!="object"&&(!se||typeof M!="function"))throw new v(z,"Object",M)}),le=b((M,z)=>{if(M!=null&&typeof M!="object"&&typeof M!="function")throw new v(z,"a dictionary",M)}),ne=b((M,z,G=0)=>{if(!e(M))throw new v(z,"Array",M);if(M.length<G){const X=`must be longer than ${G}`;throw new T(z,M,X)}});function be(M,z){ne(M,z);for(let G=0;G<M.length;G++)ce(M[G],`${z}[${G}]`)}function _e(M,z){ne(M,z);for(let G=0;G<M.length;G++)pe(M[G],`${z}[${G}]`)}function we(M,z){ne(M,z);for(let G=0;G<M.length;G++){const X=M[G],se=`${z}[${G}]`;if(X==null)throw new v(se,"AbortSignal",X);re(X,se)}}function Te(M,z="signal"){if(ce(M,z),w[M]===void 0)throw w[f(M)]!==void 0?new I(M+" (signals must use all capital letters)"):new I(M)}const te=b((M,z="buffer")=>{if(!F(M))throw new v(z,["Buffer","TypedArray","DataView"],M)});function ae(M,z){const G=C(z),X=M.length;if(G==="hex"&&X%2!==0)throw new T("encoding",z,`is invalid for data of length ${X}`)}function Z(M,z="Port",G=!0){if(typeof M!="number"&&typeof M!="string"||typeof M=="string"&&d(M).length===0||+M!==+M>>>0||M>65535||M===0&&!G)throw new _(z,M,G);return M|0}const re=b((M,z)=>{if(M!==void 0&&(M===null||typeof M!="object"||!("aborted"in M)))throw new v(z,"AbortSignal",M)}),R=b((M,z)=>{if(typeof M!="function")throw new v(z,"Function",M)}),E=b((M,z)=>{if(typeof M!="function"||D(M))throw new v(z,"Function",M)}),x=b((M,z)=>{if(M!==void 0)throw new v(z,"undefined",M)});function O(M,z,G){if(!t(G,M))throw new v(z,`('${n(G,"|")}')`,M)}const H=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function W(M,z){if(typeof M>"u"||!u(H,M))throw new T(z,M,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function K(M){if(typeof M=="string")return W(M,"hints"),M;if(e(M)){const z=M.length;let G="";if(z===0)return G;for(let X=0;X<z;X++){const se=M[X];W(se,"hints"),G+=se,X!==z-1&&(G+=", ")}return G}throw new T("hints",M,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return validators={isInt32:A,isUint32:Y,parseFileMode:V,validateArray:ne,validateStringArray:be,validateBooleanArray:_e,validateAbortSignalArray:we,validateBoolean:pe,validateBuffer:te,validateDictionary:le,validateEncoding:ae,validateFunction:R,validateInt32:oe,validateInteger:j,validateNumber:me,validateObject:ee,validateOneOf:Q,validatePlainFunction:E,validatePort:Z,validateSignalName:Te,validateString:ce,validateUint32:ue,validateUndefined:x,validateUnion:O,validateAbortSignal:re,validateLinkHeaderValue:K},validators}var endOfStream={exports:{}},browser={exports:{}},hasRequiredBrowser$1;function requireBrowser$1(){if(hasRequiredBrowser$1)return browser.exports;hasRequiredBrowser$1=1;var e=browser.exports={},t,n;function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=r}catch{t=r}try{typeof clearTimeout=="function"?n=clearTimeout:n=i}catch{n=i}})();function a(_){if(t===setTimeout)return setTimeout(_,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(_,0);try{return t(_,0)}catch{try{return t.call(null,_,0)}catch{return t.call(this,_,0)}}}function o(_){if(n===clearTimeout)return clearTimeout(_);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(_);try{return n(_)}catch{try{return n.call(null,_)}catch{return n.call(this,_)}}}var s=[],l=!1,c,u=-1;function m(){!l||!c||(l=!1,c.length?s=c.concat(s):u=-1,s.length&&f())}function f(){if(!l){var _=a(m);l=!0;for(var v=s.length;v;){for(c=s,s=[];++u<v;)c&&c[u].run();u=-1,v=s.length}c=null,l=!1,o(_)}}e.nextTick=function(_){var v=new Array(arguments.length-1);if(arguments.length>1)for(var T=1;T<arguments.length;T++)v[T-1]=arguments[T];s.push(new d(_,v)),s.length===1&&!l&&a(f)};function d(_,v){this.fun=_,this.array=v}d.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function b(){}return e.on=b,e.addListener=b,e.once=b,e.off=b,e.removeListener=b,e.removeAllListeners=b,e.emit=b,e.prependListener=b,e.prependOnceListener=b,e.listeners=function(_){return[]},e.binding=function(_){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(_){throw new Error("process.chdir is not supported")},e.umask=function(){return 0},browser.exports}var utils,hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils;hasRequiredUtils=1;const{SymbolAsyncIterator:e,SymbolIterator:t,SymbolFor:n}=requirePrimordials(),r=n("nodejs.stream.destroyed"),i=n("nodejs.stream.errored"),a=n("nodejs.stream.readable"),o=n("nodejs.stream.writable"),s=n("nodejs.stream.disturbed"),l=n("nodejs.webstream.isClosedPromise"),c=n("nodejs.webstream.controllerErrorFunction");function u(q,ee=!1){var le;return!!(q&&typeof q.pipe=="function"&&typeof q.on=="function"&&(!ee||typeof q.pause=="function"&&typeof q.resume=="function")&&(!q._writableState||((le=q._readableState)===null||le===void 0?void 0:le.readable)!==!1)&&(!q._writableState||q._readableState))}function m(q){var ee;return!!(q&&typeof q.write=="function"&&typeof q.on=="function"&&(!q._readableState||((ee=q._writableState)===null||ee===void 0?void 0:ee.writable)!==!1))}function f(q){return!!(q&&typeof q.pipe=="function"&&q._readableState&&typeof q.on=="function"&&typeof q.write=="function")}function d(q){return q&&(q._readableState||q._writableState||typeof q.write=="function"&&typeof q.on=="function"||typeof q.pipe=="function"&&typeof q.on=="function")}function b(q){return!!(q&&!d(q)&&typeof q.pipeThrough=="function"&&typeof q.getReader=="function"&&typeof q.cancel=="function")}function _(q){return!!(q&&!d(q)&&typeof q.getWriter=="function"&&typeof q.abort=="function")}function v(q){return!!(q&&!d(q)&&typeof q.readable=="object"&&typeof q.writable=="object")}function T(q){return b(q)||_(q)||v(q)}function S(q,ee){return q==null?!1:ee===!0?typeof q[e]=="function":ee===!1?typeof q[t]=="function":typeof q[e]=="function"||typeof q[t]=="function"}function I(q){if(!d(q))return null;const ee=q._writableState,le=q._readableState,ne=ee||le;return!!(q.destroyed||q[r]||ne!=null&&ne.destroyed)}function C(q){if(!m(q))return null;if(q.writableEnded===!0)return!0;const ee=q._writableState;return ee!=null&&ee.errored?!1:typeof ee?.ended!="boolean"?null:ee.ended}function D(q,ee){if(!m(q))return null;if(q.writableFinished===!0)return!0;const le=q._writableState;return le!=null&&le.errored?!1:typeof le?.finished!="boolean"?null:!!(le.finished||ee===!1&&le.ended===!0&&le.length===0)}function F(q){if(!u(q))return null;if(q.readableEnded===!0)return!0;const ee=q._readableState;return!ee||ee.errored?!1:typeof ee?.ended!="boolean"?null:ee.ended}function w(q,ee){if(!u(q))return null;const le=q._readableState;return le!=null&&le.errored?!1:typeof le?.endEmitted!="boolean"?null:!!(le.endEmitted||ee===!1&&le.ended===!0&&le.length===0)}function A(q){return q&&q[a]!=null?q[a]:typeof q?.readable!="boolean"?null:I(q)?!1:u(q)&&q.readable&&!w(q)}function Y(q){return q&&q[o]!=null?q[o]:typeof q?.writable!="boolean"?null:I(q)?!1:m(q)&&q.writable&&!C(q)}function L(q,ee){return d(q)?I(q)?!0:!(ee?.readable!==!1&&A(q)||ee?.writable!==!1&&Y(q)):null}function U(q){var ee,le;return d(q)?q.writableErrored?q.writableErrored:(ee=(le=q._writableState)===null||le===void 0?void 0:le.errored)!==null&&ee!==void 0?ee:null:null}function V(q){var ee,le;return d(q)?q.readableErrored?q.readableErrored:(ee=(le=q._readableState)===null||le===void 0?void 0:le.errored)!==null&&ee!==void 0?ee:null:null}function j(q){if(!d(q))return null;if(typeof q.closed=="boolean")return q.closed;const ee=q._writableState,le=q._readableState;return typeof ee?.closed=="boolean"||typeof le?.closed=="boolean"?ee?.closed||le?.closed:typeof q._closed=="boolean"&&oe(q)?q._closed:null}function oe(q){return typeof q._closed=="boolean"&&typeof q._defaultKeepAlive=="boolean"&&typeof q._removedConnection=="boolean"&&typeof q._removedContLen=="boolean"}function ue(q){return typeof q._sent100=="boolean"&&oe(q)}function ce(q){var ee;return typeof q._consuming=="boolean"&&typeof q._dumped=="boolean"&&((ee=q.req)===null||ee===void 0?void 0:ee.upgradeOrConnect)===void 0}function me(q){if(!d(q))return null;const ee=q._writableState,le=q._readableState,ne=ee||le;return!ne&&ue(q)||!!(ne&&ne.autoDestroy&&ne.emitClose&&ne.closed===!1)}function Q(q){var ee;return!!(q&&((ee=q[s])!==null&&ee!==void 0?ee:q.readableDidRead||q.readableAborted))}function pe(q){var ee,le,ne,be,_e,we,Te,te,ae,Z;return!!(q&&((ee=(le=(ne=(be=(_e=(we=q[i])!==null&&we!==void 0?we:q.readableErrored)!==null&&_e!==void 0?_e:q.writableErrored)!==null&&be!==void 0?be:(Te=q._readableState)===null||Te===void 0?void 0:Te.errorEmitted)!==null&&ne!==void 0?ne:(te=q._writableState)===null||te===void 0?void 0:te.errorEmitted)!==null&&le!==void 0?le:(ae=q._readableState)===null||ae===void 0?void 0:ae.errored)!==null&&ee!==void 0?ee:!((Z=q._writableState)===null||Z===void 0)&&Z.errored))}return utils={isDestroyed:I,kIsDestroyed:r,isDisturbed:Q,kIsDisturbed:s,isErrored:pe,kIsErrored:i,isReadable:A,kIsReadable:a,kIsClosedPromise:l,kControllerErrorFunction:c,kIsWritable:o,isClosed:j,isDuplexNodeStream:f,isFinished:L,isIterable:S,isReadableNodeStream:u,isReadableStream:b,isReadableEnded:F,isReadableFinished:w,isReadableErrored:V,isNodeStream:d,isWebStream:T,isWritable:Y,isWritableNodeStream:m,isWritableStream:_,isWritableEnded:C,isWritableFinished:D,isWritableErrored:U,isServerRequest:ce,isServerResponse:ue,willEmitClose:me,isTransformStream:v},utils}var hasRequiredEndOfStream;function requireEndOfStream(){if(hasRequiredEndOfStream)return endOfStream.exports;hasRequiredEndOfStream=1;const e=requireBrowser$1(),{AbortError:t,codes:n}=requireErrors(),{ERR_INVALID_ARG_TYPE:r,ERR_STREAM_PREMATURE_CLOSE:i}=n,{kEmptyObject:a,once:o}=requireUtil(),{validateAbortSignal:s,validateFunction:l,validateObject:c,validateBoolean:u}=requireValidators(),{Promise:m,PromisePrototypeThen:f,SymbolDispose:d}=requirePrimordials(),{isClosed:b,isReadable:_,isReadableNodeStream:v,isReadableStream:T,isReadableFinished:S,isReadableErrored:I,isWritable:C,isWritableNodeStream:D,isWritableStream:F,isWritableFinished:w,isWritableErrored:A,isNodeStream:Y,willEmitClose:L,kIsClosedPromise:U}=requireUtils();let V;function j(Q){return Q.setHeader&&typeof Q.abort=="function"}const oe=()=>{};function ue(Q,pe,q){var ee,le;if(arguments.length===2?(q=pe,pe=a):pe==null?pe=a:c(pe,"options"),l(q,"callback"),s(pe.signal,"options.signal"),q=o(q),T(Q)||F(Q))return ce(Q,pe,q);if(!Y(Q))throw new r("stream",["ReadableStream","WritableStream","Stream"],Q);const ne=(ee=pe.readable)!==null&&ee!==void 0?ee:v(Q),be=(le=pe.writable)!==null&&le!==void 0?le:D(Q),_e=Q._writableState,we=Q._readableState,Te=()=>{Q.writable||Z()};let te=L(Q)&&v(Q)===ne&&D(Q)===be,ae=w(Q,!1);const Z=()=>{ae=!0,Q.destroyed&&(te=!1),!(te&&(!Q.readable||ne))&&(!ne||re)&&q.call(Q)};let re=S(Q,!1);const R=()=>{re=!0,Q.destroyed&&(te=!1),!(te&&(!Q.writable||be))&&(!be||ae)&&q.call(Q)},E=M=>{q.call(Q,M)};let x=b(Q);const O=()=>{x=!0;const M=A(Q)||I(Q);if(M&&typeof M!="boolean")return q.call(Q,M);if(ne&&!re&&v(Q,!0)&&!S(Q,!1))return q.call(Q,new i);if(be&&!ae&&!w(Q,!1))return q.call(Q,new i);q.call(Q)},H=()=>{x=!0;const M=A(Q)||I(Q);if(M&&typeof M!="boolean")return q.call(Q,M);q.call(Q)},W=()=>{Q.req.on("finish",Z)};j(Q)?(Q.on("complete",Z),te||Q.on("abort",O),Q.req?W():Q.on("request",W)):be&&!_e&&(Q.on("end",Te),Q.on("close",Te)),!te&&typeof Q.aborted=="boolean"&&Q.on("aborted",O),Q.on("end",R),Q.on("finish",Z),pe.error!==!1&&Q.on("error",E),Q.on("close",O),x?e.nextTick(O):_e!=null&&_e.errorEmitted||we!=null&&we.errorEmitted?te||e.nextTick(H):(!ne&&(!te||_(Q))&&(ae||C(Q)===!1)||!be&&(!te||C(Q))&&(re||_(Q)===!1)||we&&Q.req&&Q.aborted)&&e.nextTick(H);const K=()=>{q=oe,Q.removeListener("aborted",O),Q.removeListener("complete",Z),Q.removeListener("abort",O),Q.removeListener("request",W),Q.req&&Q.req.removeListener("finish",Z),Q.removeListener("end",Te),Q.removeListener("close",Te),Q.removeListener("finish",Z),Q.removeListener("end",R),Q.removeListener("error",E),Q.removeListener("close",O)};if(pe.signal&&!x){const M=()=>{const z=q;K(),z.call(Q,new t(void 0,{cause:pe.signal.reason}))};if(pe.signal.aborted)e.nextTick(M);else{V=V||requireUtil().addAbortListener;const z=V(pe.signal,M),G=q;q=o((...X)=>{z[d](),G.apply(Q,X)})}}return K}function ce(Q,pe,q){let ee=!1,le=oe;if(pe.signal)if(le=()=>{ee=!0,q.call(Q,new t(void 0,{cause:pe.signal.reason}))},pe.signal.aborted)e.nextTick(le);else{V=V||requireUtil().addAbortListener;const be=V(pe.signal,le),_e=q;q=o((...we)=>{be[d](),_e.apply(Q,we)})}const ne=(...be)=>{ee||e.nextTick(()=>q.apply(Q,be))};return f(Q[U].promise,ne,ne),oe}function me(Q,pe){var q;let ee=!1;return pe===null&&(pe=a),(q=pe)!==null&&q!==void 0&&q.cleanup&&(u(pe.cleanup,"cleanup"),ee=pe.cleanup),new m((le,ne)=>{const be=ue(Q,pe,_e=>{ee&&be(),_e?ne(_e):le()})})}return endOfStream.exports=ue,endOfStream.exports.finished=me,endOfStream.exports}var destroy_1,hasRequiredDestroy;function requireDestroy(){if(hasRequiredDestroy)return destroy_1;hasRequiredDestroy=1;const e=requireBrowser$1(),{aggregateTwoErrors:t,codes:{ERR_MULTIPLE_CALLBACK:n},AbortError:r}=requireErrors(),{Symbol:i}=requirePrimordials(),{kIsDestroyed:a,isDestroyed:o,isFinished:s,isServerRequest:l}=requireUtils(),c=i("kDestroy"),u=i("kConstruct");function m(L,U,V){L&&(L.stack,U&&!U.errored&&(U.errored=L),V&&!V.errored&&(V.errored=L))}function f(L,U){const V=this._readableState,j=this._writableState,oe=j||V;return j!=null&&j.destroyed||V!=null&&V.destroyed?(typeof U=="function"&&U(),this):(m(L,j,V),j&&(j.destroyed=!0),V&&(V.destroyed=!0),oe.constructed?d(this,L,U):this.once(c,function(ue){d(this,t(ue,L),U)}),this)}function d(L,U,V){let j=!1;function oe(ue){if(j)return;j=!0;const ce=L._readableState,me=L._writableState;m(ue,me,ce),me&&(me.closed=!0),ce&&(ce.closed=!0),typeof V=="function"&&V(ue),ue?e.nextTick(b,L,ue):e.nextTick(_,L)}try{L._destroy(U||null,oe)}catch(ue){oe(ue)}}function b(L,U){v(L,U),_(L)}function _(L){const U=L._readableState,V=L._writableState;V&&(V.closeEmitted=!0),U&&(U.closeEmitted=!0),(V!=null&&V.emitClose||U!=null&&U.emitClose)&&L.emit("close")}function v(L,U){const V=L._readableState,j=L._writableState;j!=null&&j.errorEmitted||V!=null&&V.errorEmitted||(j&&(j.errorEmitted=!0),V&&(V.errorEmitted=!0),L.emit("error",U))}function T(){const L=this._readableState,U=this._writableState;L&&(L.constructed=!0,L.closed=!1,L.closeEmitted=!1,L.destroyed=!1,L.errored=null,L.errorEmitted=!1,L.reading=!1,L.ended=L.readable===!1,L.endEmitted=L.readable===!1),U&&(U.constructed=!0,U.destroyed=!1,U.closed=!1,U.closeEmitted=!1,U.errored=null,U.errorEmitted=!1,U.finalCalled=!1,U.prefinished=!1,U.ended=U.writable===!1,U.ending=U.writable===!1,U.finished=U.writable===!1)}function S(L,U,V){const j=L._readableState,oe=L._writableState;if(oe!=null&&oe.destroyed||j!=null&&j.destroyed)return this;j!=null&&j.autoDestroy||oe!=null&&oe.autoDestroy?L.destroy(U):U&&(U.stack,oe&&!oe.errored&&(oe.errored=U),j&&!j.errored&&(j.errored=U),V?e.nextTick(v,L,U):v(L,U))}function I(L,U){if(typeof L._construct!="function")return;const V=L._readableState,j=L._writableState;V&&(V.constructed=!1),j&&(j.constructed=!1),L.once(u,U),!(L.listenerCount(u)>1)&&e.nextTick(C,L)}function C(L){let U=!1;function V(j){if(U){S(L,j??new n);return}U=!0;const oe=L._readableState,ue=L._writableState,ce=ue||oe;oe&&(oe.constructed=!0),ue&&(ue.constructed=!0),ce.destroyed?L.emit(c,j):j?S(L,j,!0):e.nextTick(D,L)}try{L._construct(j=>{e.nextTick(V,j)})}catch(j){e.nextTick(V,j)}}function D(L){L.emit(u)}function F(L){return L?.setHeader&&typeof L.abort=="function"}function w(L){L.emit("close")}function A(L,U){L.emit("error",U),e.nextTick(w,L)}function Y(L,U){!L||o(L)||(!U&&!s(L)&&(U=new r),l(L)?(L.socket=null,L.destroy(U)):F(L)?L.abort():F(L.req)?L.req.abort():typeof L.destroy=="function"?L.destroy(U):typeof L.close=="function"?L.close():U?e.nextTick(A,L,U):e.nextTick(w,L),L.destroyed||(L[a]=!0))}return destroy_1={construct:I,destroyer:Y,destroy:f,undestroy:T,errorOrDestroy:S},destroy_1}var legacy,hasRequiredLegacy;function requireLegacy(){if(hasRequiredLegacy)return legacy;hasRequiredLegacy=1;const{ArrayIsArray:e,ObjectSetPrototypeOf:t}=requirePrimordials(),{EventEmitter:n}=requireEvents();function r(a){n.call(this,a)}t(r.prototype,n.prototype),t(r,n),r.prototype.pipe=function(a,o){const s=this;function l(_){a.writable&&a.write(_)===!1&&s.pause&&s.pause()}s.on("data",l);function c(){s.readable&&s.resume&&s.resume()}a.on("drain",c),!a._isStdio&&(!o||o.end!==!1)&&(s.on("end",m),s.on("close",f));let u=!1;function m(){u||(u=!0,a.end())}function f(){u||(u=!0,typeof a.destroy=="function"&&a.destroy())}function d(_){b(),n.listenerCount(this,"error")===0&&this.emit("error",_)}i(s,"error",d),i(a,"error",d);function b(){s.removeListener("data",l),a.removeListener("drain",c),s.removeListener("end",m),s.removeListener("close",f),s.removeListener("error",d),a.removeListener("error",d),s.removeListener("end",b),s.removeListener("close",b),a.removeListener("close",b)}return s.on("end",b),s.on("close",b),a.on("close",b),a.emit("pipe",s),a};function i(a,o,s){if(typeof a.prependListener=="function")return a.prependListener(o,s);!a._events||!a._events[o]?a.on(o,s):e(a._events[o])?a._events[o].unshift(s):a._events[o]=[s,a._events[o]]}return legacy={Stream:r,prependListener:i},legacy}var addAbortSignal={exports:{}},hasRequiredAddAbortSignal;function requireAddAbortSignal(){return hasRequiredAddAbortSignal||(hasRequiredAddAbortSignal=1,(function(e){const{SymbolDispose:t}=requirePrimordials(),{AbortError:n,codes:r}=requireErrors(),{isNodeStream:i,isWebStream:a,kControllerErrorFunction:o}=requireUtils(),s=requireEndOfStream(),{ERR_INVALID_ARG_TYPE:l}=r;let c;const u=(m,f)=>{if(typeof m!="object"||!("aborted"in m))throw new l(f,"AbortSignal",m)};e.exports.addAbortSignal=function(f,d){if(u(f,"signal"),!i(d)&&!a(d))throw new l("stream",["ReadableStream","WritableStream","Stream"],d);return e.exports.addAbortSignalNoValidate(f,d)},e.exports.addAbortSignalNoValidate=function(m,f){if(typeof m!="object"||!("aborted"in m))return f;const d=i(f)?()=>{f.destroy(new n(void 0,{cause:m.reason}))}:()=>{f[o](new n(void 0,{cause:m.reason}))};if(m.aborted)d();else{c=c||requireUtil().addAbortListener;const b=c(m,d);s(f,b[t])}return f}})(addAbortSignal)),addAbortSignal.exports}var buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;const{StringPrototypeSlice:e,SymbolIterator:t,TypedArrayPrototypeSet:n,Uint8Array:r}=requirePrimordials(),{Buffer:i}=requireBuffer(),{inspect:a}=requireUtil();return buffer_list=class{constructor(){this.head=null,this.tail=null,this.length=0}push(s){const l={data:s,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length}unshift(s){const l={data:s,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length}shift(){if(this.length===0)return;const s=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,s}clear(){this.head=this.tail=null,this.length=0}join(s){if(this.length===0)return"";let l=this.head,c=""+l.data;for(;(l=l.next)!==null;)c+=s+l.data;return c}concat(s){if(this.length===0)return i.alloc(0);const l=i.allocUnsafe(s>>>0);let c=this.head,u=0;for(;c;)n(l,c.data,u),u+=c.data.length,c=c.next;return l}consume(s,l){const c=this.head.data;if(s<c.length){const u=c.slice(0,s);return this.head.data=c.slice(s),u}return s===c.length?this.shift():l?this._getString(s):this._getBuffer(s)}first(){return this.head.data}*[t](){for(let s=this.head;s;s=s.next)yield s.data}_getString(s){let l="",c=this.head,u=0;do{const m=c.data;if(s>m.length)l+=m,s-=m.length;else{s===m.length?(l+=m,++u,c.next?this.head=c.next:this.head=this.tail=null):(l+=e(m,0,s),this.head=c,c.data=e(m,s));break}++u}while((c=c.next)!==null);return this.length-=u,l}_getBuffer(s){const l=i.allocUnsafe(s),c=s;let u=this.head,m=0;do{const f=u.data;if(s>f.length)n(l,f,c-s),s-=f.length;else{s===f.length?(n(l,f,c-s),++m,u.next?this.head=u.next:this.head=this.tail=null):(n(l,new r(f.buffer,f.byteOffset,s),c-s),this.head=u,u.data=f.slice(s));break}++m}while((u=u.next)!==null);return this.length-=m,l}[Symbol.for("nodejs.util.inspect.custom")](s,l){return a(this,{...l,depth:0,customInspect:!1})}},buffer_list}var state,hasRequiredState;function requireState(){if(hasRequiredState)return state;hasRequiredState=1;const{MathFloor:e,NumberIsInteger:t}=requirePrimordials(),{validateInteger:n}=requireValidators(),{ERR_INVALID_ARG_VALUE:r}=requireErrors().codes;let i=16*1024,a=16;function o(u,m,f){return u.highWaterMark!=null?u.highWaterMark:m?u[f]:null}function s(u){return u?a:i}function l(u,m){n(m,"value",0),u?a=m:i=m}function c(u,m,f,d){const b=o(m,d,f);if(b!=null){if(!t(b)||b<0){const _=d?`options.${f}`:"options.highWaterMark";throw new r(_,b)}return e(b)}return s(u.objectMode)}return state={getHighWaterMark:c,getDefaultHighWaterMark:s,setDefaultHighWaterMark:l},state}var string_decoder={},safeBuffer={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,(function(e,t){var n=requireBuffer(),r=n.Buffer;function i(o,s){for(var l in o)s[l]=o[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=a);function a(o,s,l){return r(o,s,l)}a.prototype=Object.create(r.prototype),i(r,a),a.from=function(o,s,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,s,l)},a.alloc=function(o,s,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=r(o);return s!==void 0?typeof l=="string"?c.fill(s,l):c.fill(s):c.fill(0),c},a.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},a.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var hasRequiredString_decoder;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var e=requireSafeBuffer().Buffer,t=e.isEncoding||function(T){switch(T=""+T,T&&T.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(T){if(!T)return"utf8";for(var S;;)switch(T){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return T;default:if(S)return;T=(""+T).toLowerCase(),S=!0}}function r(T){var S=n(T);if(typeof S!="string"&&(e.isEncoding===t||!t(T)))throw new Error("Unknown encoding: "+T);return S||T}string_decoder.StringDecoder=i;function i(T){this.encoding=r(T);var S;switch(this.encoding){case"utf16le":this.text=m,this.end=f,S=4;break;case"utf8":this.fillLast=l,S=4;break;case"base64":this.text=d,this.end=b,S=3;break;default:this.write=_,this.end=v;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(S)}i.prototype.write=function(T){if(T.length===0)return"";var S,I;if(this.lastNeed){if(S=this.fillLast(T),S===void 0)return"";I=this.lastNeed,this.lastNeed=0}else I=0;return I<T.length?S?S+this.text(T,I):this.text(T,I):S||""},i.prototype.end=u,i.prototype.text=c,i.prototype.fillLast=function(T){if(this.lastNeed<=T.length)return T.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);T.copy(this.lastChar,this.lastTotal-this.lastNeed,0,T.length),this.lastNeed-=T.length};function a(T){return T<=127?0:T>>5===6?2:T>>4===14?3:T>>3===30?4:T>>6===2?-1:-2}function o(T,S,I){var C=S.length-1;if(C<I)return 0;var D=a(S[C]);return D>=0?(D>0&&(T.lastNeed=D-1),D):--C<I||D===-2?0:(D=a(S[C]),D>=0?(D>0&&(T.lastNeed=D-2),D):--C<I||D===-2?0:(D=a(S[C]),D>=0?(D>0&&(D===2?D=0:T.lastNeed=D-3),D):0))}function s(T,S,I){if((S[0]&192)!==128)return T.lastNeed=0,"";if(T.lastNeed>1&&S.length>1){if((S[1]&192)!==128)return T.lastNeed=1,"";if(T.lastNeed>2&&S.length>2&&(S[2]&192)!==128)return T.lastNeed=2,""}}function l(T){var S=this.lastTotal-this.lastNeed,I=s(this,T);if(I!==void 0)return I;if(this.lastNeed<=T.length)return T.copy(this.lastChar,S,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);T.copy(this.lastChar,S,0,T.length),this.lastNeed-=T.length}function c(T,S){var I=o(this,T,S);if(!this.lastNeed)return T.toString("utf8",S);this.lastTotal=I;var C=T.length-(I-this.lastNeed);return T.copy(this.lastChar,0,C),T.toString("utf8",S,C)}function u(T){var S=T&&T.length?this.write(T):"";return this.lastNeed?S+"":S}function m(T,S){if((T.length-S)%2===0){var I=T.toString("utf16le",S);if(I){var C=I.charCodeAt(I.length-1);if(C>=55296&&C<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=T[T.length-2],this.lastChar[1]=T[T.length-1],I.slice(0,-1)}return I}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=T[T.length-1],T.toString("utf16le",S,T.length-1)}function f(T){var S=T&&T.length?this.write(T):"";if(this.lastNeed){var I=this.lastTotal-this.lastNeed;return S+this.lastChar.toString("utf16le",0,I)}return S}function d(T,S){var I=(T.length-S)%3;return I===0?T.toString("base64",S):(this.lastNeed=3-I,this.lastTotal=3,I===1?this.lastChar[0]=T[T.length-1]:(this.lastChar[0]=T[T.length-2],this.lastChar[1]=T[T.length-1]),T.toString("base64",S,T.length-I))}function b(T){var S=T&&T.length?this.write(T):"";return this.lastNeed?S+this.lastChar.toString("base64",0,3-this.lastNeed):S}function _(T){return T.toString(this.encoding)}function v(T){return T&&T.length?this.write(T):""}return string_decoder}var from_1,hasRequiredFrom;function requireFrom(){if(hasRequiredFrom)return from_1;hasRequiredFrom=1;const e=requireBrowser$1(),{PromisePrototypeThen:t,SymbolAsyncIterator:n,SymbolIterator:r}=requirePrimordials(),{Buffer:i}=requireBuffer(),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_NULL_VALUES:o}=requireErrors().codes;function s(l,c,u){let m;if(typeof c=="string"||c instanceof i)return new l({objectMode:!0,...u,read(){this.push(c),this.push(null)}});let f;if(c&&c[n])f=!0,m=c[n]();else if(c&&c[r])f=!1,m=c[r]();else throw new a("iterable",["Iterable"],c);const d=new l({objectMode:!0,highWaterMark:1,...u});let b=!1;d._read=function(){b||(b=!0,v())},d._destroy=function(T,S){t(_(T),()=>e.nextTick(S,T),I=>e.nextTick(S,I||T))};async function _(T){const S=T!=null,I=typeof m.throw=="function";if(S&&I){const{value:C,done:D}=await m.throw(T);if(await C,D)return}if(typeof m.return=="function"){const{value:C}=await m.return();await C}}async function v(){for(;;){try{const{value:T,done:S}=f?await m.next():m.next();if(S)d.push(null);else{const I=T&&typeof T.then=="function"?await T:T;if(I===null)throw b=!1,new o;if(d.push(I))continue;b=!1}}catch(T){d.destroy(T)}break}}return d}return from_1=s,from_1}var readable,hasRequiredReadable;function requireReadable(){if(hasRequiredReadable)return readable;hasRequiredReadable=1;const e=requireBrowser$1(),{ArrayPrototypeIndexOf:t,NumberIsInteger:n,NumberIsNaN:r,NumberParseInt:i,ObjectDefineProperties:a,ObjectKeys:o,ObjectSetPrototypeOf:s,Promise:l,SafeSet:c,SymbolAsyncDispose:u,SymbolAsyncIterator:m,Symbol:f}=requirePrimordials();readable=X,X.ReadableState=G;const{EventEmitter:d}=requireEvents(),{Stream:b,prependListener:_}=requireLegacy(),{Buffer:v}=requireBuffer(),{addAbortSignal:T}=requireAddAbortSignal(),S=requireEndOfStream();let I=requireUtil().debuglog("stream",B=>{I=B});const C=requireBuffer_list(),D=requireDestroy(),{getHighWaterMark:F,getDefaultHighWaterMark:w}=requireState(),{aggregateTwoErrors:A,codes:{ERR_INVALID_ARG_TYPE:Y,ERR_METHOD_NOT_IMPLEMENTED:L,ERR_OUT_OF_RANGE:U,ERR_STREAM_PUSH_AFTER_EOF:V,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:j},AbortError:oe}=requireErrors(),{validateObject:ue}=requireValidators(),ce=f("kPaused"),{StringDecoder:me}=requireString_decoder(),Q=requireFrom();s(X.prototype,b.prototype),s(X,b);const pe=()=>{},{errorOrDestroy:q}=D,ee=1,le=2,ne=4,be=8,_e=16,we=32,Te=64,te=128,ae=256,Z=512,re=1024,R=2048,E=4096,x=8192,O=16384,H=32768,W=65536,K=1<<17,M=1<<18;function z(B){return{enumerable:!1,get(){return(this.state&B)!==0},set(N){N?this.state|=B:this.state&=~B}}}a(G.prototype,{objectMode:z(ee),ended:z(le),endEmitted:z(ne),reading:z(be),constructed:z(_e),sync:z(we),needReadable:z(Te),emittedReadable:z(te),readableListening:z(ae),resumeScheduled:z(Z),errorEmitted:z(re),emitClose:z(R),autoDestroy:z(E),destroyed:z(x),closed:z(O),closeEmitted:z(H),multiAwaitDrain:z(W),readingMore:z(K),dataEmitted:z(M)});function G(B,N,fe){typeof fe!="boolean"&&(fe=N instanceof requireDuplex()),this.state=R|E|_e|we,B&&B.objectMode&&(this.state|=ee),fe&&B&&B.readableObjectMode&&(this.state|=ee),this.highWaterMark=B?F(this,B,"readableHighWaterMark",fe):w(!1),this.buffer=new C,this.length=0,this.pipes=[],this.flowing=null,this[ce]=null,B&&B.emitClose===!1&&(this.state&=~R),B&&B.autoDestroy===!1&&(this.state&=~E),this.errored=null,this.defaultEncoding=B&&B.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,B&&B.encoding&&(this.decoder=new me(B.encoding),this.encoding=B.encoding)}function X(B){if(!(this instanceof X))return new X(B);const N=this instanceof requireDuplex();this._readableState=new G(B,this,N),B&&(typeof B.read=="function"&&(this._read=B.read),typeof B.destroy=="function"&&(this._destroy=B.destroy),typeof B.construct=="function"&&(this._construct=B.construct),B.signal&&!N&&T(B.signal,this)),b.call(this,B),D.construct(this,()=>{this._readableState.needReadable&&$(this,this._readableState)})}X.prototype.destroy=D.destroy,X.prototype._undestroy=D.undestroy,X.prototype._destroy=function(B,N){N(B)},X.prototype[d.captureRejectionSymbol]=function(B){this.destroy(B)},X.prototype[u]=function(){let B;return this.destroyed||(B=this.readableEnded?null:new oe,this.destroy(B)),new l((N,fe)=>S(this,he=>he&&he!==B?fe(he):N(null)))},X.prototype.push=function(B,N){return se(this,B,N,!1)},X.prototype.unshift=function(B,N){return se(this,B,N,!0)};function se(B,N,fe,he){I("readableAddChunk",N);const ye=B._readableState;let Ae;if((ye.state&ee)===0&&(typeof N=="string"?(fe=fe||ye.defaultEncoding,ye.encoding!==fe&&(he&&ye.encoding?N=v.from(N,fe).toString(ye.encoding):(N=v.from(N,fe),fe=""))):N instanceof v?fe="":b._isUint8Array(N)?(N=b._uint8ArrayToBuffer(N),fe=""):N!=null&&(Ae=new Y("chunk",["string","Buffer","Uint8Array"],N))),Ae)q(B,Ae);else if(N===null)ye.state&=~be,g(B,ye);else if((ye.state&ee)!==0||N&&N.length>0)if(he)if((ye.state&ne)!==0)q(B,new j);else{if(ye.destroyed||ye.errored)return!1;ge(B,ye,N,!0)}else if(ye.ended)q(B,new V);else{if(ye.destroyed||ye.errored)return!1;ye.state&=~be,ye.decoder&&!fe?(N=ye.decoder.write(N),ye.objectMode||N.length!==0?ge(B,ye,N,!1):$(B,ye)):ge(B,ye,N,!1)}else he||(ye.state&=~be,$(B,ye));return!ye.ended&&(ye.length<ye.highWaterMark||ye.length===0)}function ge(B,N,fe,he){N.flowing&&N.length===0&&!N.sync&&B.listenerCount("data")>0?((N.state&W)!==0?N.awaitDrainWriters.clear():N.awaitDrainWriters=null,N.dataEmitted=!0,B.emit("data",fe)):(N.length+=N.objectMode?1:fe.length,he?N.buffer.unshift(fe):N.buffer.push(fe),(N.state&Te)!==0&&y(B)),$(B,N)}X.prototype.isPaused=function(){const B=this._readableState;return B[ce]===!0||B.flowing===!1},X.prototype.setEncoding=function(B){const N=new me(B);this._readableState.decoder=N,this._readableState.encoding=this._readableState.decoder.encoding;const fe=this._readableState.buffer;let he="";for(const ye of fe)he+=N.write(ye);return fe.clear(),he!==""&&fe.push(he),this._readableState.length=he.length,this};const de=1073741824;function ve(B){if(B>de)throw new U("size","<= 1GiB",B);return B--,B|=B>>>1,B|=B>>>2,B|=B>>>4,B|=B>>>8,B|=B>>>16,B++,B}function k(B,N){return B<=0||N.length===0&&N.ended?0:(N.state&ee)!==0?1:r(B)?N.flowing&&N.length?N.buffer.first().length:N.length:B<=N.length?B:N.ended?N.length:0}X.prototype.read=function(B){I("read",B),B===void 0?B=NaN:n(B)||(B=i(B,10));const N=this._readableState,fe=B;if(B>N.highWaterMark&&(N.highWaterMark=ve(B)),B!==0&&(N.state&=~te),B===0&&N.needReadable&&((N.highWaterMark!==0?N.length>=N.highWaterMark:N.length>0)||N.ended))return I("read: emitReadable",N.length,N.ended),N.length===0&&N.ended?qe(this):y(this),null;if(B=k(B,N),B===0&&N.ended)return N.length===0&&qe(this),null;let he=(N.state&Te)!==0;if(I("need readable",he),(N.length===0||N.length-B<N.highWaterMark)&&(he=!0,I("length less than watermark",he)),N.ended||N.reading||N.destroyed||N.errored||!N.constructed)he=!1,I("reading, ended or constructing",he);else if(he){I("do read"),N.state|=be|we,N.length===0&&(N.state|=Te);try{this._read(N.highWaterMark)}catch(Ae){q(this,Ae)}N.state&=~we,N.reading||(B=k(fe,N))}let ye;return B>0?ye=Ke(B,N):ye=null,ye===null?(N.needReadable=N.length<=N.highWaterMark,B=0):(N.length-=B,N.multiAwaitDrain?N.awaitDrainWriters.clear():N.awaitDrainWriters=null),N.length===0&&(N.ended||(N.needReadable=!0),fe!==B&&N.ended&&qe(this)),ye!==null&&!N.errorEmitted&&!N.closeEmitted&&(N.dataEmitted=!0,this.emit("data",ye)),ye};function g(B,N){if(I("onEofChunk"),!N.ended){if(N.decoder){const fe=N.decoder.end();fe&&fe.length&&(N.buffer.push(fe),N.length+=N.objectMode?1:fe.length)}N.ended=!0,N.sync?y(B):(N.needReadable=!1,N.emittedReadable=!0,P(B))}}function y(B){const N=B._readableState;I("emitReadable",N.needReadable,N.emittedReadable),N.needReadable=!1,N.emittedReadable||(I("emitReadable",N.flowing),N.emittedReadable=!0,e.nextTick(P,B))}function P(B){const N=B._readableState;I("emitReadable_",N.destroyed,N.length,N.ended),!N.destroyed&&!N.errored&&(N.length||N.ended)&&(B.emit("readable"),N.emittedReadable=!1),N.needReadable=!N.flowing&&!N.ended&&N.length<=N.highWaterMark,Ie(B)}function $(B,N){!N.readingMore&&N.constructed&&(N.readingMore=!0,e.nextTick(J,B,N))}function J(B,N){for(;!N.reading&&!N.ended&&(N.length<N.highWaterMark||N.flowing&&N.length===0);){const fe=N.length;if(I("maybeReadMore read 0"),B.read(0),fe===N.length)break}N.readingMore=!1}X.prototype._read=function(B){throw new L("_read()")},X.prototype.pipe=function(B,N){const fe=this,he=this._readableState;he.pipes.length===1&&(he.multiAwaitDrain||(he.multiAwaitDrain=!0,he.awaitDrainWriters=new c(he.awaitDrainWriters?[he.awaitDrainWriters]:[]))),he.pipes.push(B),I("pipe count=%d opts=%j",he.pipes.length,N);const Ae=(!N||N.end!==!1)&&B!==e.stdout&&B!==e.stderr?Je:Ne;he.endEmitted?e.nextTick(Ae):fe.once("end",Ae),B.on("unpipe",Re);function Re(Fe,Ce){I("onunpipe"),Fe===fe&&Ce&&Ce.hasUnpiped===!1&&(Ce.hasUnpiped=!0,lt())}function Je(){I("onend"),B.end()}let De,Ze=!1;function lt(){I("cleanup"),B.removeListener("close",ze),B.removeListener("finish",Ve),De&&B.removeListener("drain",De),B.removeListener("error",$e),B.removeListener("unpipe",Re),fe.removeListener("end",Je),fe.removeListener("end",Ne),fe.removeListener("data",et),Ze=!0,De&&he.awaitDrainWriters&&(!B._writableState||B._writableState.needDrain)&&De()}function Qe(){Ze||(he.pipes.length===1&&he.pipes[0]===B?(I("false write response, pause",0),he.awaitDrainWriters=B,he.multiAwaitDrain=!1):he.pipes.length>1&&he.pipes.includes(B)&&(I("false write response, pause",he.awaitDrainWriters.size),he.awaitDrainWriters.add(B)),fe.pause()),De||(De=ie(fe,B),B.on("drain",De))}fe.on("data",et);function et(Fe){I("ondata");const Ce=B.write(Fe);I("dest.write",Ce),Ce===!1&&Qe()}function $e(Fe){if(I("onerror",Fe),Ne(),B.removeListener("error",$e),B.listenerCount("error")===0){const Ce=B._writableState||B._readableState;Ce&&!Ce.errorEmitted?q(B,Fe):B.emit("error",Fe)}}_(B,"error",$e);function ze(){B.removeListener("finish",Ve),Ne()}B.once("close",ze);function Ve(){I("onfinish"),B.removeListener("close",ze),Ne()}B.once("finish",Ve);function Ne(){I("unpipe"),fe.unpipe(B)}return B.emit("pipe",fe),B.writableNeedDrain===!0?Qe():he.flowing||(I("pipe resume"),fe.resume()),B};function ie(B,N){return function(){const he=B._readableState;he.awaitDrainWriters===N?(I("pipeOnDrain",1),he.awaitDrainWriters=null):he.multiAwaitDrain&&(I("pipeOnDrain",he.awaitDrainWriters.size),he.awaitDrainWriters.delete(N)),(!he.awaitDrainWriters||he.awaitDrainWriters.size===0)&&B.listenerCount("data")&&B.resume()}}X.prototype.unpipe=function(B){const N=this._readableState,fe={hasUnpiped:!1};if(N.pipes.length===0)return this;if(!B){const ye=N.pipes;N.pipes=[],this.pause();for(let Ae=0;Ae<ye.length;Ae++)ye[Ae].emit("unpipe",this,{hasUnpiped:!1});return this}const he=t(N.pipes,B);return he===-1?this:(N.pipes.splice(he,1),N.pipes.length===0&&this.pause(),B.emit("unpipe",this,fe),this)},X.prototype.on=function(B,N){const fe=b.prototype.on.call(this,B,N),he=this._readableState;return B==="data"?(he.readableListening=this.listenerCount("readable")>0,he.flowing!==!1&&this.resume()):B==="readable"&&!he.endEmitted&&!he.readableListening&&(he.readableListening=he.needReadable=!0,he.flowing=!1,he.emittedReadable=!1,I("on readable",he.length,he.reading),he.length?y(this):he.reading||e.nextTick(Ee,this)),fe},X.prototype.addListener=X.prototype.on,X.prototype.removeListener=function(B,N){const fe=b.prototype.removeListener.call(this,B,N);return B==="readable"&&e.nextTick(Se,this),fe},X.prototype.off=X.prototype.removeListener,X.prototype.removeAllListeners=function(B){const N=b.prototype.removeAllListeners.apply(this,arguments);return(B==="readable"||B===void 0)&&e.nextTick(Se,this),N};function Se(B){const N=B._readableState;N.readableListening=B.listenerCount("readable")>0,N.resumeScheduled&&N[ce]===!1?N.flowing=!0:B.listenerCount("data")>0?B.resume():N.readableListening||(N.flowing=null)}function Ee(B){I("readable nexttick read 0"),B.read(0)}X.prototype.resume=function(){const B=this._readableState;return B.flowing||(I("resume"),B.flowing=!B.readableListening,ke(this,B)),B[ce]=!1,this};function ke(B,N){N.resumeScheduled||(N.resumeScheduled=!0,e.nextTick(xe,B,N))}function xe(B,N){I("resume",N.reading),N.reading||B.read(0),N.resumeScheduled=!1,B.emit("resume"),Ie(B),N.flowing&&!N.reading&&B.read(0)}X.prototype.pause=function(){return I("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(I("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[ce]=!0,this};function Ie(B){const N=B._readableState;for(I("flow",N.flowing);N.flowing&&B.read()!==null;);}X.prototype.wrap=function(B){let N=!1;B.on("data",he=>{!this.push(he)&&B.pause&&(N=!0,B.pause())}),B.on("end",()=>{this.push(null)}),B.on("error",he=>{q(this,he)}),B.on("close",()=>{this.destroy()}),B.on("destroy",()=>{this.destroy()}),this._read=()=>{N&&B.resume&&(N=!1,B.resume())};const fe=o(B);for(let he=1;he<fe.length;he++){const ye=fe[he];this[ye]===void 0&&typeof B[ye]=="function"&&(this[ye]=B[ye].bind(B))}return this},X.prototype[m]=function(){return Xe(this)},X.prototype.iterator=function(B){return B!==void 0&&ue(B,"options"),Xe(this,B)};function Xe(B,N){typeof B.read!="function"&&(B=X.wrap(B,{objectMode:!0}));const fe=at(B,N);return fe.stream=B,fe}async function*at(B,N){let fe=pe;function he(Re){this===B?(fe(),fe=pe):fe=Re}B.on("readable",he);let ye;const Ae=S(B,{writable:!1},Re=>{ye=Re?A(ye,Re):null,fe(),fe=pe});try{for(;;){const Re=B.destroyed?null:B.read();if(Re!==null)yield Re;else{if(ye)throw ye;if(ye===null)return;await new l(he)}}}catch(Re){throw ye=A(ye,Re),ye}finally{(ye||N?.destroyOnReturn!==!1)&&(ye===void 0||B._readableState.autoDestroy)?D.destroyer(B,null):(B.off("readable",he),Ae())}}a(X.prototype,{readable:{__proto__:null,get(){const B=this._readableState;return!!B&&B.readable!==!1&&!B.destroyed&&!B.errorEmitted&&!B.endEmitted},set(B){this._readableState&&(this._readableState.readable=!!B)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(B){this._readableState&&(this._readableState.flowing=B)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(B){this._readableState&&(this._readableState.destroyed=B)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),a(G.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[ce]!==!1},set(B){this[ce]=!!B}}}),X._fromList=Ke;function Ke(B,N){if(N.length===0)return null;let fe;return N.objectMode?fe=N.buffer.shift():!B||B>=N.length?(N.decoder?fe=N.buffer.join(""):N.buffer.length===1?fe=N.buffer.first():fe=N.buffer.concat(N.length),N.buffer.clear()):fe=N.buffer.consume(B,N.decoder),fe}function qe(B){const N=B._readableState;I("endReadable",N.endEmitted),N.endEmitted||(N.ended=!0,e.nextTick(st,N,B))}function st(B,N){if(I("endReadableNT",B.endEmitted,B.length),!B.errored&&!B.closeEmitted&&!B.endEmitted&&B.length===0){if(B.endEmitted=!0,N.emit("end"),N.writable&&N.allowHalfOpen===!1)e.nextTick(ot,N);else if(B.autoDestroy){const fe=N._writableState;(!fe||fe.autoDestroy&&(fe.finished||fe.writable===!1))&&N.destroy()}}}function ot(B){B.writable&&!B.writableEnded&&!B.destroyed&&B.end()}X.from=function(B,N){return Q(X,B,N)};let Ue;function Ye(){return Ue===void 0&&(Ue={}),Ue}return X.fromWeb=function(B,N){return Ye().newStreamReadableFromReadableStream(B,N)},X.toWeb=function(B,N){return Ye().newReadableStreamFromStreamReadable(B,N)},X.wrap=function(B,N){var fe,he;return new X({objectMode:(fe=(he=B.readableObjectMode)!==null&&he!==void 0?he:B.objectMode)!==null&&fe!==void 0?fe:!0,...N,destroy(ye,Ae){D.destroyer(B,ye),Ae(ye)}}).wrap(B)},readable}var writable,hasRequiredWritable;function requireWritable(){if(hasRequiredWritable)return writable;hasRequiredWritable=1;const e=requireBrowser$1(),{ArrayPrototypeSlice:t,Error:n,FunctionPrototypeSymbolHasInstance:r,ObjectDefineProperty:i,ObjectDefineProperties:a,ObjectSetPrototypeOf:o,StringPrototypeToLowerCase:s,Symbol:l,SymbolHasInstance:c}=requirePrimordials();writable=ue,ue.WritableState=j;const{EventEmitter:u}=requireEvents(),m=requireLegacy().Stream,{Buffer:f}=requireBuffer(),d=requireDestroy(),{addAbortSignal:b}=requireAddAbortSignal(),{getHighWaterMark:_,getDefaultHighWaterMark:v}=requireState(),{ERR_INVALID_ARG_TYPE:T,ERR_METHOD_NOT_IMPLEMENTED:S,ERR_MULTIPLE_CALLBACK:I,ERR_STREAM_CANNOT_PIPE:C,ERR_STREAM_DESTROYED:D,ERR_STREAM_ALREADY_FINISHED:F,ERR_STREAM_NULL_VALUES:w,ERR_STREAM_WRITE_AFTER_END:A,ERR_UNKNOWN_ENCODING:Y}=requireErrors().codes,{errorOrDestroy:L}=d;o(ue.prototype,m.prototype),o(ue,m);function U(){}const V=l("kOnFinished");function j(E,x,O){typeof O!="boolean"&&(O=x instanceof requireDuplex()),this.objectMode=!!(E&&E.objectMode),O&&(this.objectMode=this.objectMode||!!(E&&E.writableObjectMode)),this.highWaterMark=E?_(this,E,"writableHighWaterMark",O):v(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const H=!!(E&&E.decodeStrings===!1);this.decodeStrings=!H,this.defaultEncoding=E&&E.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=q.bind(void 0,x),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,oe(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!E||E.emitClose!==!1,this.autoDestroy=!E||E.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[V]=[]}function oe(E){E.buffered=[],E.bufferedIndex=0,E.allBuffers=!0,E.allNoop=!0}j.prototype.getBuffer=function(){return t(this.buffered,this.bufferedIndex)},i(j.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function ue(E){const x=this instanceof requireDuplex();if(!x&&!r(ue,this))return new ue(E);this._writableState=new j(E,this,x),E&&(typeof E.write=="function"&&(this._write=E.write),typeof E.writev=="function"&&(this._writev=E.writev),typeof E.destroy=="function"&&(this._destroy=E.destroy),typeof E.final=="function"&&(this._final=E.final),typeof E.construct=="function"&&(this._construct=E.construct),E.signal&&b(E.signal,this)),m.call(this,E),d.construct(this,()=>{const O=this._writableState;O.writing||be(this,O),te(this,O)})}i(ue,c,{__proto__:null,value:function(E){return r(this,E)?!0:this!==ue?!1:E&&E._writableState instanceof j}}),ue.prototype.pipe=function(){L(this,new C)};function ce(E,x,O,H){const W=E._writableState;if(typeof O=="function")H=O,O=W.defaultEncoding;else{if(!O)O=W.defaultEncoding;else if(O!=="buffer"&&!f.isEncoding(O))throw new Y(O);typeof H!="function"&&(H=U)}if(x===null)throw new w;if(!W.objectMode)if(typeof x=="string")W.decodeStrings!==!1&&(x=f.from(x,O),O="buffer");else if(x instanceof f)O="buffer";else if(m._isUint8Array(x))x=m._uint8ArrayToBuffer(x),O="buffer";else throw new T("chunk",["string","Buffer","Uint8Array"],x);let K;return W.ending?K=new A:W.destroyed&&(K=new D("write")),K?(e.nextTick(H,K),L(E,K,!0),K):(W.pendingcb++,me(E,W,x,O,H))}ue.prototype.write=function(E,x,O){return ce(this,E,x,O)===!0},ue.prototype.cork=function(){this._writableState.corked++},ue.prototype.uncork=function(){const E=this._writableState;E.corked&&(E.corked--,E.writing||be(this,E))},ue.prototype.setDefaultEncoding=function(x){if(typeof x=="string"&&(x=s(x)),!f.isEncoding(x))throw new Y(x);return this._writableState.defaultEncoding=x,this};function me(E,x,O,H,W){const K=x.objectMode?1:O.length;x.length+=K;const M=x.length<x.highWaterMark;return M||(x.needDrain=!0),x.writing||x.corked||x.errored||!x.constructed?(x.buffered.push({chunk:O,encoding:H,callback:W}),x.allBuffers&&H!=="buffer"&&(x.allBuffers=!1),x.allNoop&&W!==U&&(x.allNoop=!1)):(x.writelen=K,x.writecb=W,x.writing=!0,x.sync=!0,E._write(O,H,x.onwrite),x.sync=!1),M&&!x.errored&&!x.destroyed}function Q(E,x,O,H,W,K,M){x.writelen=H,x.writecb=M,x.writing=!0,x.sync=!0,x.destroyed?x.onwrite(new D("write")):O?E._writev(W,x.onwrite):E._write(W,K,x.onwrite),x.sync=!1}function pe(E,x,O,H){--x.pendingcb,H(O),ne(x),L(E,O)}function q(E,x){const O=E._writableState,H=O.sync,W=O.writecb;if(typeof W!="function"){L(E,new I);return}O.writing=!1,O.writecb=null,O.length-=O.writelen,O.writelen=0,x?(x.stack,O.errored||(O.errored=x),E._readableState&&!E._readableState.errored&&(E._readableState.errored=x),H?e.nextTick(pe,E,O,x,W):pe(E,O,x,W)):(O.buffered.length>O.bufferedIndex&&be(E,O),H?O.afterWriteTickInfo!==null&&O.afterWriteTickInfo.cb===W?O.afterWriteTickInfo.count++:(O.afterWriteTickInfo={count:1,cb:W,stream:E,state:O},e.nextTick(ee,O.afterWriteTickInfo)):le(E,O,1,W))}function ee({stream:E,state:x,count:O,cb:H}){return x.afterWriteTickInfo=null,le(E,x,O,H)}function le(E,x,O,H){for(!x.ending&&!E.destroyed&&x.length===0&&x.needDrain&&(x.needDrain=!1,E.emit("drain"));O-- >0;)x.pendingcb--,H();x.destroyed&&ne(x),te(E,x)}function ne(E){if(E.writing)return;for(let W=E.bufferedIndex;W<E.buffered.length;++W){var x;const{chunk:K,callback:M}=E.buffered[W],z=E.objectMode?1:K.length;E.length-=z,M((x=E.errored)!==null&&x!==void 0?x:new D("write"))}const O=E[V].splice(0);for(let W=0;W<O.length;W++){var H;O[W]((H=E.errored)!==null&&H!==void 0?H:new D("end"))}oe(E)}function be(E,x){if(x.corked||x.bufferProcessing||x.destroyed||!x.constructed)return;const{buffered:O,bufferedIndex:H,objectMode:W}=x,K=O.length-H;if(!K)return;let M=H;if(x.bufferProcessing=!0,K>1&&E._writev){x.pendingcb-=K-1;const z=x.allNoop?U:X=>{for(let se=M;se<O.length;++se)O[se].callback(X)},G=x.allNoop&&M===0?O:t(O,M);G.allBuffers=x.allBuffers,Q(E,x,!0,x.length,G,"",z),oe(x)}else{do{const{chunk:z,encoding:G,callback:X}=O[M];O[M++]=null;const se=W?1:z.length;Q(E,x,!1,se,z,G,X)}while(M<O.length&&!x.writing);M===O.length?oe(x):M>256?(O.splice(0,M),x.bufferedIndex=0):x.bufferedIndex=M}x.bufferProcessing=!1}ue.prototype._write=function(E,x,O){if(this._writev)this._writev([{chunk:E,encoding:x}],O);else throw new S("_write()")},ue.prototype._writev=null,ue.prototype.end=function(E,x,O){const H=this._writableState;typeof E=="function"?(O=E,E=null,x=null):typeof x=="function"&&(O=x,x=null);let W;if(E!=null){const K=ce(this,E,x);K instanceof n&&(W=K)}return H.corked&&(H.corked=1,this.uncork()),W||(!H.errored&&!H.ending?(H.ending=!0,te(this,H,!0),H.ended=!0):H.finished?W=new F("end"):H.destroyed&&(W=new D("end"))),typeof O=="function"&&(W||H.finished?e.nextTick(O,W):H[V].push(O)),this};function _e(E){return E.ending&&!E.destroyed&&E.constructed&&E.length===0&&!E.errored&&E.buffered.length===0&&!E.finished&&!E.writing&&!E.errorEmitted&&!E.closeEmitted}function we(E,x){let O=!1;function H(W){if(O){L(E,W??I());return}if(O=!0,x.pendingcb--,W){const K=x[V].splice(0);for(let M=0;M<K.length;M++)K[M](W);L(E,W,x.sync)}else _e(x)&&(x.prefinished=!0,E.emit("prefinish"),x.pendingcb++,e.nextTick(ae,E,x))}x.sync=!0,x.pendingcb++;try{E._final(H)}catch(W){H(W)}x.sync=!1}function Te(E,x){!x.prefinished&&!x.finalCalled&&(typeof E._final=="function"&&!x.destroyed?(x.finalCalled=!0,we(E,x)):(x.prefinished=!0,E.emit("prefinish")))}function te(E,x,O){_e(x)&&(Te(E,x),x.pendingcb===0&&(O?(x.pendingcb++,e.nextTick((H,W)=>{_e(W)?ae(H,W):W.pendingcb--},E,x)):_e(x)&&(x.pendingcb++,ae(E,x))))}function ae(E,x){x.pendingcb--,x.finished=!0;const O=x[V].splice(0);for(let H=0;H<O.length;H++)O[H]();if(E.emit("finish"),x.autoDestroy){const H=E._readableState;(!H||H.autoDestroy&&(H.endEmitted||H.readable===!1))&&E.destroy()}}a(ue.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(E){this._writableState&&(this._writableState.destroyed=E)}},writable:{__proto__:null,get(){const E=this._writableState;return!!E&&E.writable!==!1&&!E.destroyed&&!E.errored&&!E.ending&&!E.ended},set(E){this._writableState&&(this._writableState.writable=!!E)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const E=this._writableState;return E?!E.destroyed&&!E.ending&&E.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const Z=d.destroy;ue.prototype.destroy=function(E,x){const O=this._writableState;return!O.destroyed&&(O.bufferedIndex<O.buffered.length||O[V].length)&&e.nextTick(ne,O),Z.call(this,E,x),this},ue.prototype._undestroy=d.undestroy,ue.prototype._destroy=function(E,x){x(E)},ue.prototype[u.captureRejectionSymbol]=function(E){this.destroy(E)};let re;function R(){return re===void 0&&(re={}),re}return ue.fromWeb=function(E,x){return R().newStreamWritableFromWritableStream(E,x)},ue.toWeb=function(E){return R().newWritableStreamFromStreamWritable(E)},writable}var duplexify,hasRequiredDuplexify;function requireDuplexify(){if(hasRequiredDuplexify)return duplexify;hasRequiredDuplexify=1;const e=requireBrowser$1(),t=requireBuffer(),{isReadable:n,isWritable:r,isIterable:i,isNodeStream:a,isReadableNodeStream:o,isWritableNodeStream:s,isDuplexNodeStream:l,isReadableStream:c,isWritableStream:u}=requireUtils(),m=requireEndOfStream(),{AbortError:f,codes:{ERR_INVALID_ARG_TYPE:d,ERR_INVALID_RETURN_VALUE:b}}=requireErrors(),{destroyer:_}=requireDestroy(),v=requireDuplex(),T=requireReadable(),S=requireWritable(),{createDeferredPromise:I}=requireUtil(),C=requireFrom(),D=globalThis.Blob||t.Blob,F=typeof D<"u"?function(j){return j instanceof D}:function(j){return!1},w=globalThis.AbortController||requireBrowser$2().AbortController,{FunctionPrototypeCall:A}=requirePrimordials();class Y extends v{constructor(j){super(j),j?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),j?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}duplexify=function V(j,oe){if(l(j))return j;if(o(j))return U({readable:j});if(s(j))return U({writable:j});if(a(j))return U({writable:!1,readable:!1});if(c(j))return U({readable:T.fromWeb(j)});if(u(j))return U({writable:S.fromWeb(j)});if(typeof j=="function"){const{value:ce,write:me,final:Q,destroy:pe}=L(j);if(i(ce))return C(Y,ce,{objectMode:!0,write:me,final:Q,destroy:pe});const q=ce?.then;if(typeof q=="function"){let ee;const le=A(q,ce,ne=>{if(ne!=null)throw new b("nully","body",ne)},ne=>{_(ee,ne)});return ee=new Y({objectMode:!0,readable:!1,write:me,final(ne){Q(async()=>{try{await le,e.nextTick(ne,null)}catch(be){e.nextTick(ne,be)}})},destroy:pe})}throw new b("Iterable, AsyncIterable or AsyncFunction",oe,ce)}if(F(j))return V(j.arrayBuffer());if(i(j))return C(Y,j,{objectMode:!0,writable:!1});if(c(j?.readable)&&u(j?.writable))return Y.fromWeb(j);if(typeof j?.writable=="object"||typeof j?.readable=="object"){const ce=j!=null&&j.readable?o(j?.readable)?j?.readable:V(j.readable):void 0,me=j!=null&&j.writable?s(j?.writable)?j?.writable:V(j.writable):void 0;return U({readable:ce,writable:me})}const ue=j?.then;if(typeof ue=="function"){let ce;return A(ue,j,me=>{me!=null&&ce.push(me),ce.push(null)},me=>{_(ce,me)}),ce=new Y({objectMode:!0,writable:!1,read(){}})}throw new d(oe,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],j)};function L(V){let{promise:j,resolve:oe}=I();const ue=new w,ce=ue.signal;return{value:V((async function*(){for(;;){const Q=j;j=null;const{chunk:pe,done:q,cb:ee}=await Q;if(e.nextTick(ee),q)return;if(ce.aborted)throw new f(void 0,{cause:ce.reason});({promise:j,resolve:oe}=I()),yield pe}})(),{signal:ce}),write(Q,pe,q){const ee=oe;oe=null,ee({chunk:Q,done:!1,cb:q})},final(Q){const pe=oe;oe=null,pe({done:!0,cb:Q})},destroy(Q,pe){ue.abort(),pe(Q)}}}function U(V){const j=V.readable&&typeof V.readable.read!="function"?T.wrap(V.readable):V.readable,oe=V.writable;let ue=!!n(j),ce=!!r(oe),me,Q,pe,q,ee;function le(ne){const be=q;q=null,be?be(ne):ne&&ee.destroy(ne)}return ee=new Y({readableObjectMode:!!(j!=null&&j.readableObjectMode),writableObjectMode:!!(oe!=null&&oe.writableObjectMode),readable:ue,writable:ce}),ce&&(m(oe,ne=>{ce=!1,ne&&_(j,ne),le(ne)}),ee._write=function(ne,be,_e){oe.write(ne,be)?_e():me=_e},ee._final=function(ne){oe.end(),Q=ne},oe.on("drain",function(){if(me){const ne=me;me=null,ne()}}),oe.on("finish",function(){if(Q){const ne=Q;Q=null,ne()}})),ue&&(m(j,ne=>{ue=!1,ne&&_(j,ne),le(ne)}),j.on("readable",function(){if(pe){const ne=pe;pe=null,ne()}}),j.on("end",function(){ee.push(null)}),ee._read=function(){for(;;){const ne=j.read();if(ne===null){pe=ee._read;return}if(!ee.push(ne))return}}),ee._destroy=function(ne,be){!ne&&q!==null&&(ne=new f),pe=null,me=null,Q=null,q===null?be(ne):(q=be,_(oe,ne),_(j,ne))},ee}return duplexify}var duplex,hasRequiredDuplex;function requireDuplex(){if(hasRequiredDuplex)return duplex;hasRequiredDuplex=1;const{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:t,ObjectKeys:n,ObjectSetPrototypeOf:r}=requirePrimordials();duplex=o;const i=requireReadable(),a=requireWritable();r(o.prototype,i.prototype),r(o,i);{const u=n(a.prototype);for(let m=0;m<u.length;m++){const f=u[m];o.prototype[f]||(o.prototype[f]=a.prototype[f])}}function o(u){if(!(this instanceof o))return new o(u);i.call(this,u),a.call(this,u),u?(this.allowHalfOpen=u.allowHalfOpen!==!1,u.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),u.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(o.prototype,{writable:{__proto__:null,...t(a.prototype,"writable")},writableHighWaterMark:{__proto__:null,...t(a.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...t(a.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...t(a.prototype,"writableBuffer")},writableLength:{__proto__:null,...t(a.prototype,"writableLength")},writableFinished:{__proto__:null,...t(a.prototype,"writableFinished")},writableCorked:{__proto__:null,...t(a.prototype,"writableCorked")},writableEnded:{__proto__:null,...t(a.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...t(a.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(u){this._readableState&&this._writableState&&(this._readableState.destroyed=u,this._writableState.destroyed=u)}}});let s;function l(){return s===void 0&&(s={}),s}o.fromWeb=function(u,m){return l().newStreamDuplexFromReadableWritablePair(u,m)},o.toWeb=function(u){return l().newReadableWritablePairFromDuplex(u)};let c;return o.from=function(u){return c||(c=requireDuplexify()),c(u,"body")},duplex}var transform,hasRequiredTransform;function requireTransform(){if(hasRequiredTransform)return transform;hasRequiredTransform=1;const{ObjectSetPrototypeOf:e,Symbol:t}=requirePrimordials();transform=o;const{ERR_METHOD_NOT_IMPLEMENTED:n}=requireErrors().codes,r=requireDuplex(),{getHighWaterMark:i}=requireState();e(o.prototype,r.prototype),e(o,r);const a=t("kCallback");function o(c){if(!(this instanceof o))return new o(c);const u=c?i(this,c,"readableHighWaterMark",!0):null;u===0&&(c={...c,highWaterMark:null,readableHighWaterMark:u,writableHighWaterMark:c.writableHighWaterMark||0}),r.call(this,c),this._readableState.sync=!1,this[a]=null,c&&(typeof c.transform=="function"&&(this._transform=c.transform),typeof c.flush=="function"&&(this._flush=c.flush)),this.on("prefinish",l)}function s(c){typeof this._flush=="function"&&!this.destroyed?this._flush((u,m)=>{if(u){c?c(u):this.destroy(u);return}m!=null&&this.push(m),this.push(null),c&&c()}):(this.push(null),c&&c())}function l(){this._final!==s&&s.call(this)}return o.prototype._final=s,o.prototype._transform=function(c,u,m){throw new n("_transform()")},o.prototype._write=function(c,u,m){const f=this._readableState,d=this._writableState,b=f.length;this._transform(c,u,(_,v)=>{if(_){m(_);return}v!=null&&this.push(v),d.ended||b===f.length||f.length<f.highWaterMark?m():this[a]=m})},o.prototype._read=function(){if(this[a]){const c=this[a];this[a]=null,c()}},transform}var passthrough,hasRequiredPassthrough;function requirePassthrough(){if(hasRequiredPassthrough)return passthrough;hasRequiredPassthrough=1;const{ObjectSetPrototypeOf:e}=requirePrimordials();passthrough=n;const t=requireTransform();e(n.prototype,t.prototype),e(n,t);function n(r){if(!(this instanceof n))return new n(r);t.call(this,r)}return n.prototype._transform=function(r,i,a){a(null,r)},passthrough}var pipeline_1,hasRequiredPipeline;function requirePipeline(){if(hasRequiredPipeline)return pipeline_1;hasRequiredPipeline=1;const e=requireBrowser$1(),{ArrayIsArray:t,Promise:n,SymbolAsyncIterator:r,SymbolDispose:i}=requirePrimordials(),a=requireEndOfStream(),{once:o}=requireUtil(),s=requireDestroy(),l=requireDuplex(),{aggregateTwoErrors:c,codes:{ERR_INVALID_ARG_TYPE:u,ERR_INVALID_RETURN_VALUE:m,ERR_MISSING_ARGS:f,ERR_STREAM_DESTROYED:d,ERR_STREAM_PREMATURE_CLOSE:b},AbortError:_}=requireErrors(),{validateFunction:v,validateAbortSignal:T}=requireValidators(),{isIterable:S,isReadable:I,isReadableNodeStream:C,isNodeStream:D,isTransformStream:F,isWebStream:w,isReadableStream:A,isReadableFinished:Y}=requireUtils(),L=globalThis.AbortController||requireBrowser$2().AbortController;let U,V,j;function oe(ne,be,_e){let we=!1;ne.on("close",()=>{we=!0});const Te=a(ne,{readable:be,writable:_e},te=>{we=!te});return{destroy:te=>{we||(we=!0,s.destroyer(ne,te||new d("pipe")))},cleanup:Te}}function ue(ne){return v(ne[ne.length-1],"streams[stream.length - 1]"),ne.pop()}function ce(ne){if(S(ne))return ne;if(C(ne))return me(ne);throw new u("val",["Readable","Iterable","AsyncIterable"],ne)}async function*me(ne){V||(V=requireReadable()),yield*V.prototype[r].call(ne)}async function Q(ne,be,_e,{end:we}){let Te,te=null;const ae=R=>{if(R&&(Te=R),te){const E=te;te=null,E()}},Z=()=>new n((R,E)=>{Te?E(Te):te=()=>{Te?E(Te):R()}});be.on("drain",ae);const re=a(be,{readable:!1},ae);try{be.writableNeedDrain&&await Z();for await(const R of ne)be.write(R)||await Z();we&&(be.end(),await Z()),_e()}catch(R){_e(Te!==R?c(Te,R):R)}finally{re(),be.off("drain",ae)}}async function pe(ne,be,_e,{end:we}){F(be)&&(be=be.writable);const Te=be.getWriter();try{for await(const te of ne)await Te.ready,Te.write(te).catch(()=>{});await Te.ready,we&&await Te.close(),_e()}catch(te){try{await Te.abort(te),_e(te)}catch(ae){_e(ae)}}}function q(...ne){return ee(ne,o(ue(ne)))}function ee(ne,be,_e){if(ne.length===1&&t(ne[0])&&(ne=ne[0]),ne.length<2)throw new f("streams");const we=new L,Te=we.signal,te=_e?.signal,ae=[];T(te,"options.signal");function Z(){W(new _)}j=j||requireUtil().addAbortListener;let re;te&&(re=j(te,Z));let R,E;const x=[];let O=0;function H(G){W(G,--O===0)}function W(G,X){var se;if(G&&(!R||R.code==="ERR_STREAM_PREMATURE_CLOSE")&&(R=G),!(!R&&!X)){for(;x.length;)x.shift()(R);(se=re)===null||se===void 0||se[i](),we.abort(),X&&(R||ae.forEach(ge=>ge()),e.nextTick(be,R,E))}}let K;for(let G=0;G<ne.length;G++){const X=ne[G],se=G<ne.length-1,ge=G>0,de=se||_e?.end!==!1,ve=G===ne.length-1;if(D(X)){let k=function(g){g&&g.name!=="AbortError"&&g.code!=="ERR_STREAM_PREMATURE_CLOSE"&&H(g)};if(de){const{destroy:g,cleanup:y}=oe(X,se,ge);x.push(g),I(X)&&ve&&ae.push(y)}X.on("error",k),I(X)&&ve&&ae.push(()=>{X.removeListener("error",k)})}if(G===0)if(typeof X=="function"){if(K=X({signal:Te}),!S(K))throw new m("Iterable, AsyncIterable or Stream","source",K)}else S(X)||C(X)||F(X)?K=X:K=l.from(X);else if(typeof X=="function"){if(F(K)){var M;K=ce((M=K)===null||M===void 0?void 0:M.readable)}else K=ce(K);if(K=X(K,{signal:Te}),se){if(!S(K,!0))throw new m("AsyncIterable",`transform[${G-1}]`,K)}else{var z;U||(U=requirePassthrough());const k=new U({objectMode:!0}),g=(z=K)===null||z===void 0?void 0:z.then;if(typeof g=="function")O++,g.call(K,$=>{E=$,$!=null&&k.write($),de&&k.end(),e.nextTick(H)},$=>{k.destroy($),e.nextTick(H,$)});else if(S(K,!0))O++,Q(K,k,H,{end:de});else if(A(K)||F(K)){const $=K.readable||K;O++,Q($,k,H,{end:de})}else throw new m("AsyncIterable or Promise","destination",K);K=k;const{destroy:y,cleanup:P}=oe(K,!1,!0);x.push(y),ve&&ae.push(P)}}else if(D(X)){if(C(K)){O+=2;const k=le(K,X,H,{end:de});I(X)&&ve&&ae.push(k)}else if(F(K)||A(K)){const k=K.readable||K;O++,Q(k,X,H,{end:de})}else if(S(K))O++,Q(K,X,H,{end:de});else throw new u("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],K);K=X}else if(w(X)){if(C(K))O++,pe(ce(K),X,H,{end:de});else if(A(K)||S(K))O++,pe(K,X,H,{end:de});else if(F(K))O++,pe(K.readable,X,H,{end:de});else throw new u("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],K);K=X}else K=l.from(X)}return(Te!=null&&Te.aborted||te!=null&&te.aborted)&&e.nextTick(Z),K}function le(ne,be,_e,{end:we}){let Te=!1;if(be.on("close",()=>{Te||_e(new b)}),ne.pipe(be,{end:!1}),we){let te=function(){Te=!0,be.end()};Y(ne)?e.nextTick(te):ne.once("end",te)}else _e();return a(ne,{readable:!0,writable:!1},te=>{const ae=ne._readableState;te&&te.code==="ERR_STREAM_PREMATURE_CLOSE"&&ae&&ae.ended&&!ae.errored&&!ae.errorEmitted?ne.once("end",_e).once("error",_e):_e(te)}),a(be,{readable:!1,writable:!0},_e)}return pipeline_1={pipelineImpl:ee,pipeline:q},pipeline_1}var compose,hasRequiredCompose;function requireCompose(){if(hasRequiredCompose)return compose;hasRequiredCompose=1;const{pipeline:e}=requirePipeline(),t=requireDuplex(),{destroyer:n}=requireDestroy(),{isNodeStream:r,isReadable:i,isWritable:a,isWebStream:o,isTransformStream:s,isWritableStream:l,isReadableStream:c}=requireUtils(),{AbortError:u,codes:{ERR_INVALID_ARG_VALUE:m,ERR_MISSING_ARGS:f}}=requireErrors(),d=requireEndOfStream();return compose=function(..._){if(_.length===0)throw new f("streams");if(_.length===1)return t.from(_[0]);const v=[..._];if(typeof _[0]=="function"&&(_[0]=t.from(_[0])),typeof _[_.length-1]=="function"){const U=_.length-1;_[U]=t.from(_[U])}for(let U=0;U<_.length;++U)if(!(!r(_[U])&&!o(_[U]))){if(U<_.length-1&&!(i(_[U])||c(_[U])||s(_[U])))throw new m(`streams[${U}]`,v[U],"must be readable");if(U>0&&!(a(_[U])||l(_[U])||s(_[U])))throw new m(`streams[${U}]`,v[U],"must be writable")}let T,S,I,C,D;function F(U){const V=C;C=null,V?V(U):U?D.destroy(U):!L&&!Y&&D.destroy()}const w=_[0],A=e(_,F),Y=!!(a(w)||l(w)||s(w)),L=!!(i(A)||c(A)||s(A));if(D=new t({writableObjectMode:!!(w!=null&&w.writableObjectMode),readableObjectMode:!!(A!=null&&A.readableObjectMode),writable:Y,readable:L}),Y){if(r(w))D._write=function(V,j,oe){w.write(V,j)?oe():T=oe},D._final=function(V){w.end(),S=V},w.on("drain",function(){if(T){const V=T;T=null,V()}});else if(o(w)){const j=(s(w)?w.writable:w).getWriter();D._write=async function(oe,ue,ce){try{await j.ready,j.write(oe).catch(()=>{}),ce()}catch(me){ce(me)}},D._final=async function(oe){try{await j.ready,j.close().catch(()=>{}),S=oe}catch(ue){oe(ue)}}}const U=s(A)?A.readable:A;d(U,()=>{if(S){const V=S;S=null,V()}})}if(L){if(r(A))A.on("readable",function(){if(I){const U=I;I=null,U()}}),A.on("end",function(){D.push(null)}),D._read=function(){for(;;){const U=A.read();if(U===null){I=D._read;return}if(!D.push(U))return}};else if(o(A)){const V=(s(A)?A.readable:A).getReader();D._read=async function(){for(;;)try{const{value:j,done:oe}=await V.read();if(!D.push(j))return;if(oe){D.push(null);return}}catch{return}}}}return D._destroy=function(U,V){!U&&C!==null&&(U=new u),I=null,T=null,S=null,C===null?V(U):(C=V,r(A)&&n(A,U))},D},compose}var hasRequiredOperators;function requireOperators(){if(hasRequiredOperators)return operators;hasRequiredOperators=1;const e=globalThis.AbortController||requireBrowser$2().AbortController,{codes:{ERR_INVALID_ARG_VALUE:t,ERR_INVALID_ARG_TYPE:n,ERR_MISSING_ARGS:r,ERR_OUT_OF_RANGE:i},AbortError:a}=requireErrors(),{validateAbortSignal:o,validateInteger:s,validateObject:l}=requireValidators(),c=requirePrimordials().Symbol("kWeak"),u=requirePrimordials().Symbol("kResistStopPropagation"),{finished:m}=requireEndOfStream(),f=requireCompose(),{addAbortSignalNoValidate:d}=requireAddAbortSignal(),{isWritable:b,isNodeStream:_}=requireUtils(),{deprecate:v}=requireUtil(),{ArrayPrototypePush:T,Boolean:S,MathFloor:I,Number:C,NumberIsNaN:D,Promise:F,PromiseReject:w,PromiseResolve:A,PromisePrototypeThen:Y,Symbol:L}=requirePrimordials(),U=L("kEmpty"),V=L("kEof");function j(te,ae){if(ae!=null&&l(ae,"options"),ae?.signal!=null&&o(ae.signal,"options.signal"),_(te)&&!b(te))throw new t("stream",te,"must be writable");const Z=f(this,te);return ae!=null&&ae.signal&&d(ae.signal,Z),Z}function oe(te,ae){if(typeof te!="function")throw new n("fn",["Function","AsyncFunction"],te);ae!=null&&l(ae,"options"),ae?.signal!=null&&o(ae.signal,"options.signal");let Z=1;ae?.concurrency!=null&&(Z=I(ae.concurrency));let re=Z-1;return ae?.highWaterMark!=null&&(re=I(ae.highWaterMark)),s(Z,"options.concurrency",1),s(re,"options.highWaterMark",0),re+=Z,(async function*(){const E=requireUtil().AbortSignalAny([ae?.signal].filter(S)),x=this,O=[],H={signal:E};let W,K,M=!1,z=0;function G(){M=!0,X()}function X(){z-=1,se()}function se(){K&&!M&&z<Z&&O.length<re&&(K(),K=null)}async function ge(){try{for await(let de of x){if(M)return;if(E.aborted)throw new a;try{if(de=te(de,H),de===U)continue;de=A(de)}catch(ve){de=w(ve)}z+=1,Y(de,X,G),O.push(de),W&&(W(),W=null),!M&&(O.length>=re||z>=Z)&&await new F(ve=>{K=ve})}O.push(V)}catch(de){const ve=w(de);Y(ve,X,G),O.push(ve)}finally{M=!0,W&&(W(),W=null)}}ge();try{for(;;){for(;O.length>0;){const de=await O[0];if(de===V)return;if(E.aborted)throw new a;de!==U&&(yield de),O.shift(),se()}await new F(de=>{W=de})}}finally{M=!0,K&&(K(),K=null)}}).call(this)}function ue(te=void 0){return te!=null&&l(te,"options"),te?.signal!=null&&o(te.signal,"options.signal"),(async function*(){let Z=0;for await(const R of this){var re;if(te!=null&&(re=te.signal)!==null&&re!==void 0&&re.aborted)throw new a({cause:te.signal.reason});yield[Z++,R]}}).call(this)}async function ce(te,ae=void 0){for await(const Z of q.call(this,te,ae))return!0;return!1}async function me(te,ae=void 0){if(typeof te!="function")throw new n("fn",["Function","AsyncFunction"],te);return!await ce.call(this,async(...Z)=>!await te(...Z),ae)}async function Q(te,ae){for await(const Z of q.call(this,te,ae))return Z}async function pe(te,ae){if(typeof te!="function")throw new n("fn",["Function","AsyncFunction"],te);async function Z(re,R){return await te(re,R),U}for await(const re of oe.call(this,Z,ae));}function q(te,ae){if(typeof te!="function")throw new n("fn",["Function","AsyncFunction"],te);async function Z(re,R){return await te(re,R)?re:U}return oe.call(this,Z,ae)}class ee extends r{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function le(te,ae,Z){var re;if(typeof te!="function")throw new n("reducer",["Function","AsyncFunction"],te);Z!=null&&l(Z,"options"),Z?.signal!=null&&o(Z.signal,"options.signal");let R=arguments.length>1;if(Z!=null&&(re=Z.signal)!==null&&re!==void 0&&re.aborted){const W=new a(void 0,{cause:Z.signal.reason});throw this.once("error",()=>{}),await m(this.destroy(W)),W}const E=new e,x=E.signal;if(Z!=null&&Z.signal){const W={once:!0,[c]:this,[u]:!0};Z.signal.addEventListener("abort",()=>E.abort(),W)}let O=!1;try{for await(const W of this){var H;if(O=!0,Z!=null&&(H=Z.signal)!==null&&H!==void 0&&H.aborted)throw new a;R?ae=await te(ae,W,{signal:x}):(ae=W,R=!0)}if(!O&&!R)throw new ee}finally{E.abort()}return ae}async function ne(te){te!=null&&l(te,"options"),te?.signal!=null&&o(te.signal,"options.signal");const ae=[];for await(const re of this){var Z;if(te!=null&&(Z=te.signal)!==null&&Z!==void 0&&Z.aborted)throw new a(void 0,{cause:te.signal.reason});T(ae,re)}return ae}function be(te,ae){const Z=oe.call(this,te,ae);return(async function*(){for await(const R of Z)yield*R}).call(this)}function _e(te){if(te=C(te),D(te))return 0;if(te<0)throw new i("number",">= 0",te);return te}function we(te,ae=void 0){return ae!=null&&l(ae,"options"),ae?.signal!=null&&o(ae.signal,"options.signal"),te=_e(te),(async function*(){var re;if(ae!=null&&(re=ae.signal)!==null&&re!==void 0&&re.aborted)throw new a;for await(const E of this){var R;if(ae!=null&&(R=ae.signal)!==null&&R!==void 0&&R.aborted)throw new a;te--<=0&&(yield E)}}).call(this)}function Te(te,ae=void 0){return ae!=null&&l(ae,"options"),ae?.signal!=null&&o(ae.signal,"options.signal"),te=_e(te),(async function*(){var re;if(ae!=null&&(re=ae.signal)!==null&&re!==void 0&&re.aborted)throw new a;for await(const E of this){var R;if(ae!=null&&(R=ae.signal)!==null&&R!==void 0&&R.aborted)throw new a;if(te-- >0&&(yield E),te<=0)return}}).call(this)}return operators.streamReturningOperators={asIndexedPairs:v(ue,"readable.asIndexedPairs will be removed in a future version."),drop:we,filter:q,flatMap:be,map:oe,take:Te,compose:j},operators.promiseReturningOperators={every:me,forEach:pe,reduce:le,toArray:ne,some:ce,find:Q},operators}var promises,hasRequiredPromises;function requirePromises(){if(hasRequiredPromises)return promises;hasRequiredPromises=1;const{ArrayPrototypePop:e,Promise:t}=requirePrimordials(),{isIterable:n,isNodeStream:r,isWebStream:i}=requireUtils(),{pipelineImpl:a}=requirePipeline(),{finished:o}=requireEndOfStream();requireStream();function s(...l){return new t((c,u)=>{let m,f;const d=l[l.length-1];if(d&&typeof d=="object"&&!r(d)&&!n(d)&&!i(d)){const b=e(l);m=b.signal,f=b.end}a(l,(b,_)=>{b?u(b):c(_)},{signal:m,end:f})})}return promises={finished:o,pipeline:s},promises}var hasRequiredStream;function requireStream(){if(hasRequiredStream)return stream.exports;hasRequiredStream=1;const{Buffer:e}=requireBuffer(),{ObjectDefineProperty:t,ObjectKeys:n,ReflectApply:r}=requirePrimordials(),{promisify:{custom:i}}=requireUtil(),{streamReturningOperators:a,promiseReturningOperators:o}=requireOperators(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:s}}=requireErrors(),l=requireCompose(),{setDefaultHighWaterMark:c,getDefaultHighWaterMark:u}=requireState(),{pipeline:m}=requirePipeline(),{destroyer:f}=requireDestroy(),d=requireEndOfStream(),b=requirePromises(),_=requireUtils(),v=stream.exports=requireLegacy().Stream;v.isDestroyed=_.isDestroyed,v.isDisturbed=_.isDisturbed,v.isErrored=_.isErrored,v.isReadable=_.isReadable,v.isWritable=_.isWritable,v.Readable=requireReadable();for(const S of n(a)){let C=function(...D){if(new.target)throw s();return v.Readable.from(r(I,this,D))};const I=a[S];t(C,"name",{__proto__:null,value:I.name}),t(C,"length",{__proto__:null,value:I.length}),t(v.Readable.prototype,S,{__proto__:null,value:C,enumerable:!1,configurable:!0,writable:!0})}for(const S of n(o)){let C=function(...D){if(new.target)throw s();return r(I,this,D)};const I=o[S];t(C,"name",{__proto__:null,value:I.name}),t(C,"length",{__proto__:null,value:I.length}),t(v.Readable.prototype,S,{__proto__:null,value:C,enumerable:!1,configurable:!0,writable:!0})}v.Writable=requireWritable(),v.Duplex=requireDuplex(),v.Transform=requireTransform(),v.PassThrough=requirePassthrough(),v.pipeline=m;const{addAbortSignal:T}=requireAddAbortSignal();return v.addAbortSignal=T,v.finished=d,v.destroy=f,v.compose=l,v.setDefaultHighWaterMark=c,v.getDefaultHighWaterMark=u,t(v,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return b}}),t(m,i,{__proto__:null,enumerable:!0,get(){return b.pipeline}}),t(d,i,{__proto__:null,enumerable:!0,get(){return b.finished}}),v.Stream=v,v._isUint8Array=function(I){return I instanceof Uint8Array},v._uint8ArrayToBuffer=function(I){return e.from(I.buffer,I.byteOffset,I.byteLength)},stream.exports}var hasRequiredBrowser;function requireBrowser(){return hasRequiredBrowser||(hasRequiredBrowser=1,(function(e){const t=requireStream(),n=requirePromises(),r=t.Readable.destroy;e.exports=t.Readable,e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.destroy=r,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return n}}),e.exports.Stream=t.Stream,e.exports.default=e.exports})(browser$2)),browser$2.exports}var hasRequiredLib$1;function requireLib$1(){if(hasRequiredLib$1)return lib;hasRequiredLib$1=1,Object.defineProperty(lib,"__esModule",{value:!0}),lib.ReadableWebToNodeStream=void 0;const e=requireBrowser();class t extends e.Readable{constructor(r){super(),this.bytesRead=0,this.released=!1,this.reader=r.getReader()}_read(){if(this.released){this.push(null);return}this.pendingRead=this.reader.read().then(r=>{delete this.pendingRead,r.done||this.released?this.push(null):(this.bytesRead+=r.value.length,this.push(r.value))}).catch(r=>{this.destroy(r)})}async waitForReadToComplete(){this.pendingRead&&await this.pendingRead}async close(){await this.syncAndRelease()}async syncAndRelease(){this.released=!0,await this.waitForReadToComplete(),await this.reader.releaseLock()}}return lib.ReadableWebToNodeStream=t,lib}var hasRequiredLib;function requireLib(){return hasRequiredLib||(hasRequiredLib=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchFromUrl=e.parseBlob=e.parseReadableStream=e.parseNodeStream=e.selectCover=e.ratingToStars=e.orderTags=e.parseFromTokenizer=e.parseBuffer=void 0;const t=requireBrowser$3(),n=requireCore(),r=requireLib$1(),i=t("music-metadata-browser:main");var a=requireCore();Object.defineProperty(e,"parseBuffer",{enumerable:!0,get:function(){return a.parseBuffer}}),Object.defineProperty(e,"parseFromTokenizer",{enumerable:!0,get:function(){return a.parseFromTokenizer}}),Object.defineProperty(e,"orderTags",{enumerable:!0,get:function(){return a.orderTags}}),Object.defineProperty(e,"ratingToStars",{enumerable:!0,get:function(){return a.ratingToStars}}),Object.defineProperty(e,"selectCover",{enumerable:!0,get:function(){return a.selectCover}}),e.parseNodeStream=n.parseStream;async function o(u,m,f){const d=new r.ReadableWebToNodeStream(u),b=await(0,e.parseNodeStream)(d,typeof m=="string"?{mimeType:m}:m,f);return await d.close(),b}e.parseReadableStream=o;async function s(u,m){u.type,u.size,u instanceof File&&u.name;const f=u.stream?u.stream():l(u);return o(f,{mimeType:u.type,size:u.size},m)}e.parseBlob=s;function l(u){const m=new FileReader;return new ReadableStream({start(f){m.onloadend=d=>{let b=d.target.result;b instanceof ArrayBuffer&&(b=new Uint8Array(b)),f.enqueue(b),f.close()},m.onerror=d=>{f.close()},m.onabort=d=>{f.close()},m.readAsArrayBuffer(u)}})}async function c(u,m){const f=await fetch(u),d={size:parseInt(f.headers.get("Content-Length"),10),mimeType:f.headers.get("Content-Type")};if(f.ok)if(f.body){const b=await o(f.body,d,m);return i("Closing HTTP-readable-stream..."),f.body.locked||await f.body.cancel(),i("HTTP-readable-stream closed."),b}else return s(await f.blob(),m);else throw new Error(`HTTP error status=${f.status}: ${f.statusText}`)}e.fetchFromUrl=c})(lib$3)),lib$3}var libExports=requireLib();const _hoisted_1$8={class:"music-player-container"},_hoisted_2$8={class:"player-header"},_hoisted_3$7=["title"],_hoisted_4$7={key:0,viewBox:"0 0 24 24",width:"18",height:"18"},_hoisted_5$7={key:1,viewBox:"0 0 24 24",width:"18",height:"18"},_hoisted_6$7={class:"player-body"},_hoisted_7$7={key:0,class:"now-playing"},_hoisted_8$5={class:"track-cover"},_hoisted_9$4=["src"],_hoisted_10$4={key:1,viewBox:"0 0 24 24",width:"28",height:"28","aria-hidden":"true"},_hoisted_11$3={class:"track-info"},_hoisted_12$2={class:"track-name"},_hoisted_13$2={class:"track-artist"},_hoisted_14$2={key:0,class:"track-album"},_hoisted_15$1={class:"player-controls"},_hoisted_16={class:"progress-section"},_hoisted_17={class:"time-current"},_hoisted_18={class:"time-duration"},_hoisted_19={class:"control-buttons"},_hoisted_20=["title"],_hoisted_21={key:0,viewBox:"0 0 24 24",width:"18",height:"18"},_hoisted_22={key:1,viewBox:"0 0 24 24",width:"18",height:"18"},_hoisted_23=["title"],_hoisted_24={key:0,viewBox:"0 0 24 24",width:"18",height:"18"},_hoisted_25={key:1,viewBox:"0 0 24 24",width:"18",height:"18"},_hoisted_26={class:"volume-control"},_hoisted_27={key:0,viewBox:"0 0 24 24",width:"18",height:"18"},_hoisted_28={key:1,viewBox:"0 0 24 24",width:"18",height:"18"},_hoisted_29={key:2,viewBox:"0 0 24 24",width:"18",height:"18"},_hoisted_30={class:"volume-slider"},_hoisted_31={key:1,class:"lyrics-display"},_hoisted_32=["data-index"],_hoisted_33={key:2,class:"no-lyrics"},_hoisted_34={class:"playlist"},_hoisted_35={key:0,viewBox:"0 0 24 24",width:"16",height:"16"},_hoisted_36={key:1,viewBox:"0 0 24 24",width:"16",height:"16"},_hoisted_37={class:"playlist-items"},_hoisted_38=["onClick"],_hoisted_39={class:"item-index"},_hoisted_40={class:"item-info"},_hoisted_41={class:"item-title"},_hoisted_42={class:"item-artist"},_hoisted_43={key:0,class:"item-playing",viewBox:"0 0 24 24",width:"16",height:"16"},_sfc_main$8={__name:"MusicPlayer",setup(e){async function t(){if(typeof window<"u"&&!window.Buffer){const{Buffer:Z}=await __vitePreload(async()=>{const{Buffer:re}=await import("./index-vLQ7ZUWZ.js").then(R=>R.i);return{Buffer:re}},[]);window.Buffer=Z}}const n=ref(null),r=ref(null),i=ref(!1),a=ref(!1),o=ref(0),s=ref(0),l=ref(0),c=ref([]),u=ref(null),m=ref([]),f=ref(-1),d=ref(!1),b=ref("all"),_=ref(70),v=ref(!1),T=ref(0),S=[],I=Object.assign({"../assets/mp3/ARForest - Journey.mp3":()=>__vitePreload(()=>import("./ARForest - Journey-6WTyEH0e.js"),[]),"../assets/mp3/ARForest - White Noise.mp3":()=>__vitePreload(()=>import("./ARForest - White Noise-j9djBIAH.js"),[]),"../assets/mp3/CLOUD_; Reichuu; Flay! - Awaken (feat. Reichuu) [Flay! Remix].flac":()=>__vitePreload(()=>import("./CLOUD__ Reichuu_ Flay! - Awaken (feat. Reichuu) _Flay! Remix_-DjhZKpcU.js"),[]),"../assets/mp3/Chill Satellite - For You.flac":()=>__vitePreload(()=>import("./Chill Satellite - For You-Du5xd2u0.js"),[]),"../assets/mp3/Cloudier - Our Story [+ Vocal Stem].mp3":()=>__vitePreload(()=>import("./Cloudier - Our Story __ Vocal Stem_-DabHpxjk.js"),[]),"../assets/mp3/Feint; Elizaveta - Drifters.flac":()=>__vitePreload(()=>import("./Feint_ Elizaveta - Drifters-B4uEaOCh.js"),[]),"../assets/mp3/Last Heroes; Woodlock - In My Head.mp3":()=>__vitePreload(()=>import("./Last Heroes_ Woodlock - In My Head-BhmpfLVh.js"),[]),"../assets/mp3/MitiS; Crystal Skies; Monika Santucci - Wait.flac":()=>__vitePreload(()=>import("./MitiS_ Crystal Skies_ Monika Santucci - Wait-Bx81jF7Y.js"),[]),"../assets/mp3/Moon Jelly - Missing.flac":()=>__vitePreload(()=>import("./Moon Jelly - Missing-CGah8x5R.js"),[]),"../assets/mp3/NGC 3.14,Jun Kuroda - Polaris (NGC 3.14 Remix).mp3":()=>__vitePreload(()=>import("./NGC 3.14_Jun Kuroda - Polaris (NGC 3.14 Remix)-D1i5KCWX.js"),[]),"../assets/mp3/Outwild,Virtual Self - Key (Inukshuk Remix).mp3":()=>__vitePreload(()=>import("./Outwild_Virtual Self - Key (Inukshuk Remix)-D18kmlD0.js"),[]),"../assets/mp3/Porter Robinson - Sad Machine.flac":()=>__vitePreload(()=>import("./Porter Robinson - Sad Machine-C7yTYguN.js"),[]),"../assets/mp3/SHIKI - Pure Ruby.flac":()=>__vitePreload(()=>import("./SHIKI - Pure Ruby-Crg9mUoi.js"),[])}),C=Object.assign({"../assets/mp3/CLOUD_; Reichuu; Flay! - Awaken (feat. Reichuu) [Flay! Remix].lrc":()=>__vitePreload(()=>import("./CLOUD__ Reichuu_ Flay! - Awaken (feat. Reichuu) _Flay! Remix_-aLPsHIag.js"),[]).then(Z=>Z.default),"../assets/mp3/Chill Satellite - For You.lrc":()=>__vitePreload(()=>import("./Chill Satellite - For You-C9GJGlVs.js"),[]).then(Z=>Z.default),"../assets/mp3/Cloudier - Our Story [+ Vocal Stem].lrc":()=>__vitePreload(()=>import("./Cloudier - Our Story __ Vocal Stem_-CQx37woE.js"),[]).then(Z=>Z.default),"../assets/mp3/Feint; Elizaveta - Drifters.lrc":()=>__vitePreload(()=>import("./Feint_ Elizaveta - Drifters-DQ7U2b0_.js"),[]).then(Z=>Z.default),"../assets/mp3/Last Heroes; Woodlock - In My Head.lrc":()=>__vitePreload(()=>import("./Last Heroes_ Woodlock - In My Head-MxoLbleX.js"),[]).then(Z=>Z.default),"../assets/mp3/MitiS; Crystal Skies; Monika Santucci - Wait.lrc":()=>__vitePreload(()=>import("./MitiS_ Crystal Skies_ Monika Santucci - Wait-CB2pLsSQ.js"),[]).then(Z=>Z.default),"../assets/mp3/Moon Jelly - Missing.lrc":()=>__vitePreload(()=>import("./Moon Jelly - Missing-BfuDGsDN.js"),[]).then(Z=>Z.default),"../assets/mp3/Porter Robinson - Sad Machine.lrc":()=>__vitePreload(()=>import("./Porter Robinson - Sad Machine-DLXsrZ10.js"),[]).then(Z=>Z.default)}),D=computed(()=>s.value>0?o.value/s.value*100:0),F=computed(()=>({none:"",all:"",one:""})[b.value]);function w(Z){if(!Z||isNaN(Z))return"00:00";const re=Math.floor(Z/60),R=Math.floor(Z%60);return`${String(re).padStart(2,"0")}:${String(R).padStart(2,"0")}`}function A(Z){if(!Z)return[];const re=Z.split(`
`),R=[],E=/\[(\d{2}):(\d{2})(?:\.(\d{2,3}))?\]/g;for(const x of re){if(!x.trim())continue;const O=[...x.matchAll(E)];if(!O.length)continue;const H=x.replace(E,"").trim()||"";for(const W of O){const K=parseInt(W[1]),M=parseInt(W[2]),z=W[3]?parseInt(W[3].padEnd(3,"0")):0;R.push({time:K*60+M+z/1e3,text:H})}}return R.sort((x,O)=>x.time-O.time)}function Y(Z){if(!m.value.length)return;let re=-1;for(let R=0;R<m.value.length&&Z>=m.value[R].time;R++)re=R;re!==f.value&&(f.value=re,L())}function L(){if(!r.value||f.value<0)return;const Z=r.value.querySelector(`[data-index="${f.value}"]`);Z&&Z.scrollIntoView({behavior:"smooth",block:"center"})}async function U(Z){const re=Z.replace(/\.(mp3|flac|wav|ogg)$/i,".lrc");try{if(C[re]){const R=await C[re]();m.value=A(R)}else m.value=[];f.value=-1}catch(R){console.error(":",R),m.value=[]}}async function V(Z,re){const R=re.split("/").pop().replace(/\.(mp3|flac|wav|ogg)$/i,"");let E=R,x="",O="",H="";try{await t();const K=await(await fetch(Z,{headers:{Range:"bytes=0-512143"}})).blob(),M=await libExports.parseBlob(K),{common:z}=M||{};if(z&&(E=z.title||R,x=z.artist||"",O=z.album||"",z.picture?.length)){const G=z.picture[0],X=new Blob([G.data],{type:G.format||"image/jpeg"});H=URL.createObjectURL(X),S.push(H)}}catch(W){console.warn(":",W);const K=R.split(" - ");K.length>=2&&(x=K[0].trim(),E=K.slice(1).join(" - ").trim())}return{title:E,artist:x,album:O,cover:H}}async function j(){const Z=Object.keys(I);if(!Z.length){console.warn("");return}c.value=Z.map(re=>{const E=(re.split("/").pop()||"").replace(/\.(mp3|flac|wav|ogg)$/i,"");let x=E,O="";const H=E.split(" - ");return H.length>=2&&(O=H[0].trim(),x=H.slice(1).join(" - ").trim()),{url:"",path:re,title:x,artist:O,album:"",duration:0,cover:""}}),c.value.length>0&&await oe(0)}async function oe(Z){if(Z<0||Z>=c.value.length)return;l.value=Z;const re=c.value[Z];if(!re.url&&I[re.path]){const R=await I[re.path]();re.url=R.default}if(u.value=re,n.value&&re.url&&(n.value.preload="metadata",n.value.src=re.url,n.value.load(),a.value=!1,o.value=0,s.value=re.duration||0),re.url){const R=await V(re.url,re.path);Object.assign(re,R),l.value===Z&&(u.value={...re})}await U(re.path)}async function ue(Z){l.value!==Z&&await oe(Z),ce()}function ce(){n.value?.play(),a.value=!0}function me(){n.value?.pause(),a.value=!1}function Q(){a.value?me():ce()}function pe(){let Z=l.value-1;Z<0&&(Z=c.value.length-1),ue(Z)}function q(){let Z=l.value+1;Z>=c.value.length&&(Z=0),ue(Z)}function ee(){const Z=["all","one","none"];b.value=Z[(Z.indexOf(b.value)+1)%Z.length]}function le(){v.value=!v.value,n.value&&(n.value.muted=v.value)}function ne(){n.value&&(n.value.volume=(_.value??0)/100,v.value=!1)}function be(Z){const re=Z.currentTarget.getBoundingClientRect(),E=Math.min(1,Math.max(0,(Z.clientX-re.left)/re.width))*(s.value||0);n.value&&(n.value.currentTime=E)}function _e(){if(n.value&&(o.value=n.value.currentTime,Y(o.value),n.value.buffered.length>0&&s.value>0)){const Z=n.value.buffered.end(n.value.buffered.length-1);T.value=Math.min(100,Z/s.value*100)}}function we(){if(n.value){s.value=n.value.duration||s.value;const Z=l.value;c.value[Z]&&(c.value[Z].duration=s.value||0)}}function Te(){b.value==="one"?(n.value.currentTime=0,ce()):b.value==="all"||l.value<c.value.length-1?q():a.value=!1}function te(){i.value=!i.value}function ae(){d.value=!d.value}return onMounted(()=>{j(),n.value&&(n.value.volume=(_.value??70)/100)}),onUnmounted(()=>{n.value?.pause(),S.forEach(Z=>URL.revokeObjectURL(Z))}),(Z,re)=>(openBlock(),createElementBlock("div",_hoisted_1$8,[createBaseVNode("div",_hoisted_2$8,[re[3]||(re[3]=createBaseVNode("svg",{viewBox:"0 0 24 24",width:"18",height:"18","aria-hidden":"true"},[createBaseVNode("path",{fill:"currentColor",d:"M12 3v10.55A4 4 0 1 0 14 17V7h4V3h-6z"})],-1)),re[4]||(re[4]=createBaseVNode("span",null,"",-1)),createBaseVNode("button",{onClick:te,class:"minimize-btn",title:i.value?"":""},[i.value?(openBlock(),createElementBlock("svg",_hoisted_4$7,[...re[1]||(re[1]=[createBaseVNode("path",{fill:"currentColor",d:"M7 14l5-5 5 5z"},null,-1)])])):(openBlock(),createElementBlock("svg",_hoisted_5$7,[...re[2]||(re[2]=[createBaseVNode("path",{fill:"currentColor",d:"M7 10l5 5 5-5z"},null,-1)])]))],8,_hoisted_3$7)]),withDirectives(createBaseVNode("div",_hoisted_6$7,[u.value?(openBlock(),createElementBlock("div",_hoisted_7$7,[createBaseVNode("div",_hoisted_8$5,[u.value.cover?(openBlock(),createElementBlock("img",{key:0,src:u.value.cover,alt:""},null,8,_hoisted_9$4)):(openBlock(),createElementBlock("svg",_hoisted_10$4,[...re[5]||(re[5]=[createBaseVNode("path",{fill:"currentColor",d:"M12 3v10.55A4 4 0 1 0 14 17V7h4V3h-6z"},null,-1)])]))]),createBaseVNode("div",_hoisted_11$3,[createBaseVNode("div",_hoisted_12$2,toDisplayString(u.value.title),1),createBaseVNode("div",_hoisted_13$2,toDisplayString(u.value.artist),1),u.value.album?(openBlock(),createElementBlock("div",_hoisted_14$2,toDisplayString(u.value.album),1)):createCommentVNode("",!0)])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_15$1,[createBaseVNode("div",_hoisted_16,[createBaseVNode("span",_hoisted_17,toDisplayString(w(o.value)),1),createBaseVNode("div",{class:"progress-bar",onClick:be},[createBaseVNode("div",{class:"progress-loaded",style:normalizeStyle({width:T.value+"%"})},null,4),createBaseVNode("div",{class:"progress-played",style:normalizeStyle({width:D.value+"%"})},[...re[6]||(re[6]=[createBaseVNode("span",{class:"progress-thumb"},null,-1)])],4)]),createBaseVNode("span",_hoisted_18,toDisplayString(w(s.value)),1)]),createBaseVNode("div",_hoisted_19,[createBaseVNode("button",{onClick:pe,class:"control-btn",title:""},[...re[7]||(re[7]=[createBaseVNode("svg",{viewBox:"0 0 24 24",width:"18",height:"18"},[createBaseVNode("path",{fill:"currentColor",d:"M6 6h2v12H6V6zm3.5 6l8.5 6V6l-8.5 6z"})],-1)])]),createBaseVNode("button",{onClick:Q,class:"control-btn play-btn",title:a.value?"":""},[a.value?(openBlock(),createElementBlock("svg",_hoisted_22,[...re[9]||(re[9]=[createBaseVNode("path",{fill:"currentColor",d:"M6 5h4v14H6zM14 5h4v14h-4z"},null,-1)])])):(openBlock(),createElementBlock("svg",_hoisted_21,[...re[8]||(re[8]=[createBaseVNode("path",{fill:"currentColor",d:"M8 5v14l11-7z"},null,-1)])]))],8,_hoisted_20),createBaseVNode("button",{onClick:q,class:"control-btn",title:""},[...re[10]||(re[10]=[createBaseVNode("svg",{viewBox:"0 0 24 24",width:"18",height:"18"},[createBaseVNode("path",{fill:"currentColor",d:"M16 6h2v12h-2V6zM6 6l8.5 6L6 18V6z"})],-1)])]),createBaseVNode("button",{onClick:ee,class:normalizeClass(["control-btn",{active:b.value!=="none"}]),title:F.value},[b.value==="one"?(openBlock(),createElementBlock("svg",_hoisted_24,[...re[11]||(re[11]=[createBaseVNode("path",{fill:"currentColor",d:"M7 7h7v3l4-4-4-4v3H5v6h2V7zm10 10H10v-3l-4 4 4 4v-3h9v-6h-2v4zM12 9h2v6h-2z"},null,-1)])])):(openBlock(),createElementBlock("svg",_hoisted_25,[...re[12]||(re[12]=[createBaseVNode("path",{fill:"currentColor",d:"M7 7h7v3l4-4-4-4v3H5v6h2V7zm10 10H10v-3l-4 4 4 4v-3h9v-6h-2v4z"},null,-1)])]))],10,_hoisted_23),createBaseVNode("div",_hoisted_26,[createBaseVNode("button",{onClick:le,class:"control-btn",title:""},[v.value||_.value===0?(openBlock(),createElementBlock("svg",_hoisted_27,[...re[13]||(re[13]=[createBaseVNode("path",{fill:"currentColor",d:"M4 9v6h4l5 5V4L8 9H4zm12.5 3l2.5 2.5 1.5-1.5L18 10.5 20.5 8 19 6.5 16.5 9 14 6.5 12.5 8 15 10.5 12.5 13 14 14.5 16.5 12z"},null,-1)])])):_.value<50?(openBlock(),createElementBlock("svg",_hoisted_28,[...re[14]||(re[14]=[createBaseVNode("path",{fill:"currentColor",d:"M4 9v6h4l5 5V4L8 9H4zm9 3a4 4 0 0 0-2-3.46v6.92A4 4 0 0 0 13 12z"},null,-1)])])):(openBlock(),createElementBlock("svg",_hoisted_29,[...re[15]||(re[15]=[createBaseVNode("path",{fill:"currentColor",d:"M4 9v6h4l5 5V4L8 9H4zm9 3a4 4 0 0 0-2-3.46v6.92A4 4 0 0 0 13 12zm0-8v2a8 8 0 0 1 0 12v2a10 10 0 0 0 0-16z"},null,-1)])]))]),createBaseVNode("div",_hoisted_30,[withDirectives(createBaseVNode("input",{type:"range",min:"0",max:"100","onUpdate:modelValue":re[0]||(re[0]=R=>_.value=R),onInput:ne},null,544),[[vModelText,_.value,void 0,{number:!0}]])])])])]),m.value.length>0?(openBlock(),createElementBlock("div",_hoisted_31,[createBaseVNode("div",{class:"lyrics-scroll",ref_key:"lyricsRef",ref:r},[(openBlock(!0),createElementBlock(Fragment,null,renderList(m.value,(R,E)=>(openBlock(),createElementBlock("div",{key:E,class:normalizeClass(["lyric-line",{active:f.value===E}]),"data-index":E},toDisplayString(R.text),11,_hoisted_32))),128))],512)])):u.value?(openBlock(),createElementBlock("div",_hoisted_33,[...re[16]||(re[16]=[createBaseVNode("svg",{viewBox:"0 0 24 24",width:"28",height:"28","aria-hidden":"true"},[createBaseVNode("path",{fill:"currentColor",d:"M12 3v10.55A4 4 0 1 0 14 17V7h4V3h-6z"})],-1),createBaseVNode("p",null,"",-1)])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_34,[createBaseVNode("div",{class:"playlist-header",onClick:ae},[createBaseVNode("span",null," ("+toDisplayString(c.value.length)+")",1),d.value?(openBlock(),createElementBlock("svg",_hoisted_35,[...re[17]||(re[17]=[createBaseVNode("path",{fill:"currentColor",d:"M7 14l5-5 5 5z"},null,-1)])])):(openBlock(),createElementBlock("svg",_hoisted_36,[...re[18]||(re[18]=[createBaseVNode("path",{fill:"currentColor",d:"M7 10l5 5 5-5z"},null,-1)])]))]),withDirectives(createBaseVNode("div",_hoisted_37,[(openBlock(!0),createElementBlock(Fragment,null,renderList(c.value,(R,E)=>(openBlock(),createElementBlock("div",{key:E,class:normalizeClass(["playlist-item",{active:l.value===E}]),onClick:x=>ue(E)},[createBaseVNode("div",_hoisted_39,toDisplayString(E+1),1),createBaseVNode("div",_hoisted_40,[createBaseVNode("div",_hoisted_41,toDisplayString(R.title),1),createBaseVNode("div",_hoisted_42,toDisplayString(R.artist),1)]),re[20]||(re[20]=createBaseVNode("div",{class:"item-duration","aria-hidden":"true",title:""},[createBaseVNode("svg",{viewBox:"0 0 24 24",width:"16",height:"16"},[createBaseVNode("path",{fill:"currentColor",d:"M9 6l6 6-6 6z"})])],-1)),l.value===E&&a.value?(openBlock(),createElementBlock("svg",_hoisted_43,[...re[19]||(re[19]=[createBaseVNode("path",{fill:"currentColor",d:"M4 10h2v4H4v-4zm4-3h2v10H8V7zm4 5h2v4h-2v-4zm4-8h2v18h-2V4z"},null,-1)])])):createCommentVNode("",!0)],10,_hoisted_38))),128))],512),[[vShow,d.value]])])],512),[[vShow,!i.value]]),createBaseVNode("audio",{ref_key:"audioRef",ref:n,preload:"none",onTimeupdate:_e,onLoadedmetadata:we,onEnded:Te},null,544)]))}},MusicPlayer=_export_sfc(_sfc_main$8,[["__scopeId","data-v-a0585a4d"]]),_hoisted_1$7={class:"article-list-container"},_hoisted_2$7={class:"article-header"},_hoisted_3$6=["title"],_hoisted_4$6={key:0,viewBox:"0 0 24 24",width:"18",height:"18"},_hoisted_5$6={key:1,viewBox:"0 0 24 24",width:"18",height:"18"},_hoisted_6$6={class:"article-body"},_hoisted_7$6={key:0,class:"articles-scroll"},_hoisted_8$4=["onClick"],_hoisted_9$3={class:"article-content"},_hoisted_10$3={class:"article-title"},_hoisted_11$2={key:0,class:"article-description"},_hoisted_12$1={class:"article-meta"},_hoisted_13$1={key:0,class:"article-date"},_hoisted_14$1={key:1,class:"article-category"},_hoisted_15={key:1,class:"no-articles"},_sfc_main$7={__name:"ArticleList",setup(e){const t=ref(!1),n=ref([]);function r(){t.value=!t.value}function i(a){a.href&&(/^https?:\/\//i.test(a.href)?window.open(a.href,"_blank","noopener,noreferrer"):window.location.href=a.href)}return onMounted(async()=>{try{const a=await fetch("/links.json");if(a.ok){const s=(await a.json()).sections?.find(l=>l.id==="articles");s&&s.links&&(n.value=s.links)}}catch(a){console.error("Failed to load articles:",a)}}),(a,o)=>(openBlock(),createElementBlock("div",_hoisted_1$7,[createBaseVNode("div",_hoisted_2$7,[o[2]||(o[2]=createBaseVNode("svg",{viewBox:"0 0 24 24",width:"18",height:"18","aria-hidden":"true"},[createBaseVNode("path",{fill:"currentColor",d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"})],-1)),o[3]||(o[3]=createBaseVNode("span",null,"",-1)),createBaseVNode("button",{onClick:r,class:"minimize-btn",title:t.value?"":""},[t.value?(openBlock(),createElementBlock("svg",_hoisted_4$6,[...o[0]||(o[0]=[createBaseVNode("path",{fill:"currentColor",d:"M7 14l5-5 5 5z"},null,-1)])])):(openBlock(),createElementBlock("svg",_hoisted_5$6,[...o[1]||(o[1]=[createBaseVNode("path",{fill:"currentColor",d:"M7 10l5 5 5-5z"},null,-1)])]))],8,_hoisted_3$6)]),withDirectives(createBaseVNode("div",_hoisted_6$6,[n.value.length>0?(openBlock(),createElementBlock("div",_hoisted_7$6,[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.value,(s,l)=>(openBlock(),createElementBlock("div",{key:l,class:"article-item",onClick:c=>i(s)},[createBaseVNode("div",_hoisted_9$3,[createBaseVNode("h3",_hoisted_10$3,toDisplayString(s.title),1),s.description?(openBlock(),createElementBlock("p",_hoisted_11$2,toDisplayString(s.description),1)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_12$1,[s.date?(openBlock(),createElementBlock("span",_hoisted_13$1,toDisplayString(s.date),1)):createCommentVNode("",!0),s.category?(openBlock(),createElementBlock("span",_hoisted_14$1,toDisplayString(s.category),1)):createCommentVNode("",!0)])]),o[4]||(o[4]=createBaseVNode("div",{class:"article-arrow"},[createBaseVNode("svg",{viewBox:"0 0 24 24",width:"16",height:"16"},[createBaseVNode("path",{fill:"currentColor",d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})])],-1))],8,_hoisted_8$4))),128))])):(openBlock(),createElementBlock("div",_hoisted_15,[...o[5]||(o[5]=[createBaseVNode("svg",{viewBox:"0 0 24 24",width:"32",height:"32","aria-hidden":"true"},[createBaseVNode("path",{fill:"currentColor",d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"})],-1),createBaseVNode("p",null,"",-1)])]))],512),[[vShow,!t.value]])]))}},ArticleList=_export_sfc(_sfc_main$7,[["__scopeId","data-v-4ea40b29"]]),_hoisted_1$6={class:"weather-time"},_hoisted_2$6={class:"time-display"},_hoisted_3$5={class:"date-line"},_hoisted_4$5={class:"weekday"},_hoisted_5$5={class:"clock-line"},_hoisted_6$5={key:0,class:"weather-display"},_hoisted_7$5={class:"weather-main"},_hoisted_8$3={class:"weather-text"},_hoisted_9$2={class:"temperature"},_hoisted_10$2={class:"weather-details"},_hoisted_11$1={class:"location"},_hoisted_12={class:"wind"},_hoisted_13={class:"humidity"},_hoisted_14={key:1,class:"weather-loading"},AMAP_KEY="19a90f1c901dec314ac2c40ced3031a0",_sfc_main$6={__name:"WeatherTime",setup(e){const t=ref(new Date),n=ref(null),r=ref(!0),i=ref(""),a=ref(""),o=computed(()=>{const S=t.value.getFullYear(),I=t.value.getMonth()+1,C=t.value.getDate();return`${S}  ${I}  ${C<10?"0"+C:C} `}),s=computed(()=>["","","","","","",""][t.value.getDay()]),l=computed(()=>{const S=String(t.value.getHours()).padStart(2,"0"),I=String(t.value.getMinutes()).padStart(2,"0"),C=String(t.value.getSeconds()).padStart(2,"0");return`${S}:${I}:${C}`}),c=computed(()=>{if(!n.value)return"fa-solid fa-cloud";const S=n.value.weather;return S.includes("")?"fa-solid fa-sun":S.includes("")?"fa-solid fa-cloud-sun":S.includes("")?"fa-solid fa-cloud":S.includes("")?"fa-solid fa-cloud-rain":S.includes("")?"fa-solid fa-snowflake":S.includes("")||S.includes("")?"fa-solid fa-smog":S.includes("")?"fa-solid fa-cloud-bolt":"fa-solid fa-cloud"});let u=null;function m(){t.value=new Date}async function f(){try{const I=await(await fetch(`https://restapi.amap.com/v3/ip?key=${AMAP_KEY}`)).json();if(I.status==="1"&&I.adcode)return a.value=I.adcode,I.adcode;throw new Error(I.info||"")}catch(S){throw console.error("IP :",S),S}}async function d(S){try{const C=await(await fetch(`https://restapi.amap.com/v3/weather/weatherInfo?key=${AMAP_KEY}&city=${S}`)).json();if(C.status==="1"&&C.lives&&C.lives.length>0)n.value=C.lives[0],i.value="";else throw new Error(C.info||"")}catch(I){console.error(":",I),i.value=I.message||""}}async function b(){r.value=!0,i.value="";try{const S=await f();await d(S)}catch(S){i.value=S.message||""}finally{r.value=!1}}function _(){b()}let v=null;function T(){v=setInterval(()=>{a.value&&d(a.value)},1800*1e3)}return onMounted(()=>{m(),u=setInterval(m,1e3),b(),T()}),onUnmounted(()=>{u&&clearInterval(u),v&&clearInterval(v)}),(S,I)=>(openBlock(),createElementBlock("div",_hoisted_1$6,[createBaseVNode("div",_hoisted_2$6,[createBaseVNode("div",_hoisted_3$5,[createTextVNode(toDisplayString(o.value)+" ",1),createBaseVNode("span",_hoisted_4$5,toDisplayString(s.value),1)]),createBaseVNode("div",_hoisted_5$5,toDisplayString(l.value),1)]),n.value?(openBlock(),createElementBlock("div",_hoisted_6$5,[createBaseVNode("div",_hoisted_7$5,[createBaseVNode("i",{class:normalizeClass([c.value,"weather-icon"])},null,2),createBaseVNode("span",_hoisted_8$3,toDisplayString(n.value.weather),1),createBaseVNode("span",_hoisted_9$2,toDisplayString(n.value.temperature)+"C",1)]),createBaseVNode("div",_hoisted_10$2,[createBaseVNode("span",_hoisted_11$1,toDisplayString(n.value.city),1),createBaseVNode("span",_hoisted_12,toDisplayString(n.value.winddirection)+" "+toDisplayString(n.value.windpower)+"",1),createBaseVNode("span",_hoisted_13," "+toDisplayString(n.value.humidity)+"%",1)])])):r.value?(openBlock(),createElementBlock("div",_hoisted_14,[...I[0]||(I[0]=[createBaseVNode("span",{class:"loader-dot"},null,-1),createBaseVNode("span",null,"...",-1)])])):i.value?(openBlock(),createElementBlock("div",{key:2,class:"weather-error",onClick:_},[I[1]||(I[1]=createBaseVNode("i",{class:"fa-solid fa-circle-exclamation"},null,-1)),createBaseVNode("span",null,toDisplayString(i.value),1),I[2]||(I[2]=createBaseVNode("span",{class:"retry-hint"},"()",-1))])):createCommentVNode("",!0)]))}},WeatherTime=_export_sfc(_sfc_main$6,[["__scopeId","data-v-8862fd8b"]]),_hoisted_1$5={class:"hero","aria-labelledby":"hero-heading"},_hoisted_2$5={class:"hero__content"},_hoisted_3$4={key:0,class:"hero__badge"},_hoisted_4$4={id:"hero-heading"},_hoisted_5$4={class:"hero__tagline"},_hoisted_6$4={key:1,class:"hero__intro"},_hoisted_7$4={key:2,class:"hero__actions"},_hoisted_8$2=["href","target"],_sfc_main$5={__name:"HeroPanel",props:{title:{type:String,required:!0},tagline:{type:String,required:!0},intro:{type:String,default:""},badge:{type:String,default:""},actions:{type:Array,default:()=>[]}},setup(e){return(t,n)=>(openBlock(),createElementBlock("section",_hoisted_1$5,[createBaseVNode("div",_hoisted_2$5,[e.badge?(openBlock(),createElementBlock("div",_hoisted_3$4,[createBaseVNode("span",null,toDisplayString(e.badge),1)])):createCommentVNode("",!0),createBaseVNode("h1",_hoisted_4$4,toDisplayString(e.title),1),createBaseVNode("p",_hoisted_5$4,toDisplayString(e.tagline),1),e.intro?(openBlock(),createElementBlock("p",_hoisted_6$4,toDisplayString(e.intro),1)):createCommentVNode("",!0),e.actions&&e.actions.length?(openBlock(),createElementBlock("div",_hoisted_7$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.actions,r=>(openBlock(),createElementBlock("a",{key:r.label,class:"hero__action",href:r.href,target:r.external?"_blank":"_self",rel:"noreferrer"},[createBaseVNode("span",null,toDisplayString(r.label),1)],8,_hoisted_8$2))),128))])):createCommentVNode("",!0)])]))}},HeroPanel=_export_sfc(_sfc_main$5,[["__scopeId","data-v-0eaeb21f"]]),_hoisted_1$4=["href","target"],_hoisted_2$4={class:"link-card__inner"},_hoisted_3$3={class:"link-card__emoji","aria-hidden":"true"},_hoisted_4$3=["src"],_hoisted_5$3={class:"link-card__content"},_hoisted_6$3={class:"link-card__title"},_hoisted_7$3={key:0,class:"link-card__desc"},_sfc_main$4={__name:"LinkCard",props:{label:{type:String,required:!0},href:{type:String,required:!0},emoji:{type:String,default:""},image:{type:String,default:""},description:{type:String,default:""},highlight:{type:Boolean,default:!1},intercept:{type:Boolean,default:!1}},emits:["open"],setup(e,{emit:t}){const n=e,r=computed(()=>/^(http|https):\/\//i.test(n.href)),i=t,a=computed(()=>n.image?/^https?:\/\//i.test(n.image)||n.image.startsWith("/")?n.image:`/${n.image}`:"");function o(s){n.intercept&&(s.preventDefault(),i("open"))}return(s,l)=>(openBlock(),createElementBlock("a",{class:normalizeClass(["link-card",{"link-card--highlight":e.highlight}]),href:e.href,target:r.value?"_blank":"_self",rel:"noreferrer noopener",onClick:o},[createBaseVNode("div",_hoisted_2$4,[createBaseVNode("div",_hoisted_3$3,[a.value?(openBlock(),createElementBlock("img",{key:0,class:"link-card__img",src:a.value,alt:""},null,8,_hoisted_4$3)):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(e.emoji),1)],64))]),createBaseVNode("div",_hoisted_5$3,[createBaseVNode("div",_hoisted_6$3,toDisplayString(e.label),1),e.description?(openBlock(),createElementBlock("div",_hoisted_7$3,toDisplayString(e.description),1)):createCommentVNode("",!0)]),l[0]||(l[0]=createBaseVNode("svg",{class:"link-card__icon",viewBox:"0 0 24 24","aria-hidden":"true"},[createBaseVNode("path",{fill:"currentColor",d:"M13.172 11l-4.95-4.95 1.414-1.414L16 11.414l-6.364 6.364-1.414-1.414L13.172 13H4v-2h9.172z"})],-1))])],10,_hoisted_1$4))}},LinkCard=_export_sfc(_sfc_main$4,[["__scopeId","data-v-22cd78aa"]]),_hoisted_1$3=["aria-labelledby"],_hoisted_2$3={class:"link-section__header"},_hoisted_3$2={class:"link-section__title-group"},_hoisted_4$2={key:0,class:"link-section__badge"},_hoisted_5$2=["id"],_hoisted_6$2={key:0,class:"link-section__description"},_hoisted_7$2={class:"link-section__grid"},_sfc_main$3={__name:"LinkSection",props:{id:{type:String,default:""},title:{type:String,required:!0},description:{type:String,default:""},badge:{type:String,default:""},links:{type:Array,default:()=>[]}},emits:["link-click"],setup(e,{emit:t}){const n=e,r=computed(()=>n.id?`${n.id}-heading`:`${n.title.replace(/\s+/g,"-").toLowerCase()}-heading`),i=t;function a(s){i("link-click",s)}function o(s){return/^\/components\//.test(s)||s.startsWith("./components/")||s.startsWith("/components/")}return(s,l)=>(openBlock(),createElementBlock("section",{class:"link-section","aria-labelledby":r.value},[createBaseVNode("header",_hoisted_2$3,[createBaseVNode("div",_hoisted_3$2,[e.badge?(openBlock(),createElementBlock("span",_hoisted_4$2,toDisplayString(e.badge),1)):createCommentVNode("",!0),createBaseVNode("h2",{id:r.value},toDisplayString(e.title),9,_hoisted_5$2)]),e.description?(openBlock(),createElementBlock("p",_hoisted_6$2,toDisplayString(e.description),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_7$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.links,c=>(openBlock(),createBlock(LinkCard,{key:c.href,label:c.label,href:c.href,emoji:c.emoji,image:c.image,description:c.description,highlight:c.highlight,intercept:o(c.href),onOpen:u=>a(c)},null,8,["label","href","emoji","image","description","highlight","intercept","onOpen"]))),128))])],8,_hoisted_1$3))}},LinkSection=_export_sfc(_sfc_main$3,[["__scopeId","data-v-401c9a1b"]]),_hoisted_1$2={class:"titlebar"},_hoisted_2$2={class:"address"},_hoisted_3$1={class:"addr-text"},_hoisted_4$1={class:"actions"},_hoisted_5$1=["href"],_hoisted_6$1=["aria-busy"],_hoisted_7$1={key:0,class:"overlay","aria-live":"polite"},_hoisted_8$1={key:0,class:"blocked"},_hoisted_9$1=["href"],_hoisted_10$1=["src"],_sfc_main$2={__name:"ModalFrame",props:{src:{type:String,required:!0},width:{type:[Number,String],default:"90vw"},height:{type:[Number,String],default:"85vh"}},emits:["close"],setup(e,{emit:t}){const n=e,r=t,i=ref(null),a=()=>r("close"),o=computed(()=>({width:typeof n.width=="number"?n.width+"px":n.width,height:typeof n.height=="number"?n.height+"px":n.height})),s=computed(()=>n.src.replace(/^https?:\/\/|\/$/g,"")),l=ref(!0),c=ref(!1);let u;function m(){l.value=!1,clearTimeout(u)}return onMounted(()=>{u=setTimeout(()=>{l.value&&(c.value=!0)},2500)}),onMounted(()=>{i.value?.focus?.()}),(f,d)=>(openBlock(),createElementBlock("div",{class:"modal-root",role:"dialog","aria-modal":"true",onKeydown:withKeys(a,["esc"])},[createBaseVNode("div",{class:"backdrop",onClick:a}),createBaseVNode("div",{class:"window",ref_key:"win",ref:i,style:normalizeStyle(o.value)},[createBaseVNode("header",_hoisted_1$2,[d[0]||(d[0]=createBaseVNode("div",{class:"dots","aria-hidden":"true"},[createBaseVNode("span",{class:"dot dot--red"}),createBaseVNode("span",{class:"dot dot--yellow"}),createBaseVNode("span",{class:"dot dot--green"})],-1)),createBaseVNode("div",_hoisted_2$2,[createBaseVNode("span",_hoisted_3$1,toDisplayString(s.value),1)]),createBaseVNode("div",_hoisted_4$1,[createBaseVNode("a",{href:e.src,target:"_blank",rel:"noreferrer",title:""},"",8,_hoisted_5$1),createBaseVNode("button",{class:"close-btn",type:"button",onClick:a,"aria-label":""},"")])]),createBaseVNode("div",{class:"content","aria-busy":l.value},[l.value?(openBlock(),createElementBlock("div",_hoisted_7$1,[d[2]||(d[2]=createBaseVNode("div",{class:"loader"},[createBaseVNode("div",{class:"spinner"}),createBaseVNode("div",{class:"tip"},"")],-1)),c.value?(openBlock(),createElementBlock("div",_hoisted_8$1,[d[1]||(d[1]=createBaseVNode("p",null," iframe ",-1)),createBaseVNode("a",{class:"open-tab",href:e.src,target:"_blank",rel:"noreferrer"}," ",8,_hoisted_9$1)])):createCommentVNode("",!0)])):createCommentVNode("",!0),createBaseVNode("iframe",{src:e.src,title:"Embedded page",frameborder:"0",onLoad:m},null,40,_hoisted_10$1)],8,_hoisted_6$1)],4)],32))}},ModalFrame=_export_sfc(_sfc_main$2,[["__scopeId","data-v-c597b825"]]),site={wallpaper:{image:"",blur:6,overlay:"rgba(6, 10, 26, 0.62)"},hero:{badge:"Welcome",title:"Severj.top",tagline:"A Place No One Has Found",intro:"I am here",actions:[{label:"GitHub",href:"https://github.com/RealSeverj",external:!0},{label:"",href:"/",external:!1}]},sections:[{id:"site",badge:"Site",title:"",description:"",links:[{label:"",href:"/",emoji:"",description:"",highlight:!0},{label:"",href:"/music/",emoji:"",description:"Music App",highlight:!1},{label:"",href:"/sourcecode/",emoji:"",description:" Vue ",highlight:!1},{label:"",href:"/components/Navfore/",emoji:"",description:"Navfore",highlight:!1},{label:"",href:"/components/TransToWhat/",emoji:"",description:"TransToWhat",highlight:!1},{label:"",href:"https://www.cnblogs.com/Severj",emoji:"",description:"",highlight:!1},{label:"",href:"https://mp.weixin.qq.com/s/KeUQrukPCCm_neH55cQb9A?token=466519641&lang=zh_CN",emoji:"",description:"",highlight:!1}]},{id:"friends",badge:"Friends",title:"",description:"",links:[{label:"Lemon",href:"/components/friends/lemon/",emoji:"",description:"",highlight:!1},{label:"Nightstart",href:"/components/friends/nightstart/",emoji:"",description:"",highlight:!1},{label:"Shire",href:"/components/friends/shire/",emoji:"",description:"",highlight:!1}]}]},_hoisted_1$1={class:"home-view"},_hoisted_2$1={class:"sections"},_sfc_main$1={__name:"HomeView",setup(e){const t=site.hero||{},n=ref(site.sections||[]),r=ref("");function i(l){return/^\/components\//.test(l)||l.startsWith("./components/")||l.startsWith("/components/")}function a(l){return/^https?:\/\//i.test(l)}function o(l=[]){return l.map(c=>({...c,intercept:i(c.href)}))}function s(l){const c=l.href||"";if(i(c)){const u=c.replace(/^\.\//,"/").replace(/^(?!https?:|\/)/,"/");r.value=u;return}if(a(c)){window.open(c,"_blank","noopener");return}window.location.href=c}return onMounted(()=>{fetch("/links.json").then(l=>l.ok?l.json():null).then(l=>{l&&Array.isArray(l.sections)&&(n.value=l.sections)}).catch(()=>{})}),(l,c)=>(openBlock(),createElementBlock("div",_hoisted_1$1,[createVNode(HeroPanel,{badge:unref(t).badge,title:unref(t).title,tagline:unref(t).tagline,intro:unref(t).intro,actions:unref(t).actions},null,8,["badge","title","tagline","intro","actions"]),createBaseVNode("section",_hoisted_2$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.value,u=>(openBlock(),createBlock(LinkSection,{key:u.id||u.title,id:u.id,badge:u.badge,title:u.title,description:u.description,links:o(u.links),onLinkClick:s},null,8,["id","badge","title","description","links"]))),128))]),r.value?(openBlock(),createBlock(ModalFrame,{key:0,src:r.value,onClose:c[0]||(c[0]=u=>r.value="")},null,8,["src"])):createCommentVNode("",!0)]))}},HomeView=_export_sfc(_sfc_main$1,[["__scopeId","data-v-e0ea6bbe"]]),_hoisted_1={class:"header"},_hoisted_2={class:"header__inner"},_hoisted_3={class:"controls"},_hoisted_4={key:0,viewBox:"0 0 24 24",width:"16",height:"16","aria-hidden":"true"},_hoisted_5={key:1,viewBox:"0 0 24 24",width:"16",height:"16","aria-hidden":"true"},_hoisted_6={class:"ctrl-label"},_hoisted_7={class:"main"},_hoisted_8={class:"sidebar"},_hoisted_9={class:"sidebar__content"},_hoisted_10={class:"footer","aria-label":"Footer"},_hoisted_11={class:"footer__inner"},_sfc_main={__name:"App",setup(e){const t=site.wallpaper||{},n=ref(null),r=ref(null),i=ref(null),a=T=>{const S=T.target?.closest?.(".link-card");if(!S)return;const I=S.getBoundingClientRect(),C=(T.clientX-I.left)/I.width*100,D=(T.clientY-I.top)/I.height*100;S.style.setProperty("--mxi",`${C}%`),S.style.setProperty("--myi",`${D}%`)},o=Array.from({length:10},(T,S)=>`/img/background${S+1}.webp`),s=ref(0),l=ref("");async function c(){if(!o.length){l.value=t.image||"";return}const T=o[s.value%o.length];l.value=T}function u(){if(!o.length)return 0;const T=Math.floor(Math.random()*o.length);s.value=T,c()}function m(){if(!o.length)return;const T=Number.isInteger(s.value)?s.value:0;s.value=(T+1)%o.length,c()}const f=ref(!1);function d(){f.value=!f.value}const b=ref(!1);let _;function v(T){b.value=T.matches,T.matches&&(f.value=!0)}return onMounted(()=>{n.value?.addEventListener("mousemove",a),c(),u(),_=window.matchMedia("(max-width: 1200px)"),v(_),_.addEventListener?_.addEventListener("change",v):_.addListener&&_.addListener(v)}),onUnmounted(()=>{n.value?.removeEventListener("mousemove",a),_&&(_.removeEventListener?_.removeEventListener("change",v):_.removeListener&&_.removeListener(v))}),(T,S)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:n,class:"page"},[createVNode(BackgroundStage,{image:l.value,blur:unref(t).blur,overlay:unref(t).overlay},null,8,["image","blur","overlay"]),createBaseVNode("header",_hoisted_1,[createBaseVNode("div",_hoisted_2,[S[3]||(S[3]=createBaseVNode("div",{class:"brand"},[createBaseVNode("span",{class:"brand__dot","aria-hidden":"true"}),createBaseVNode("span",{class:"brand__name"},"Severj.top")],-1)),createBaseVNode("div",_hoisted_3,[createBaseVNode("button",{class:"ctrl-btn",type:"button",onClick:m,"aria-label":""},[...S[0]||(S[0]=[createBaseVNode("svg",{viewBox:"0 0 24 24",width:"18",height:"18","aria-hidden":"true"},[createBaseVNode("path",{fill:"currentColor",d:"M7 6h11v11h-2V9.414l-9.293 9.293-1.414-1.414L14.586 8H7V6z"})],-1),createBaseVNode("span",{class:"ctrl-label"},"",-1)])]),createBaseVNode("button",{class:"ctrl-btn sidebar-toggle",type:"button",onClick:d,"aria-label":""},[f.value?(openBlock(),createElementBlock("svg",_hoisted_4,[...S[1]||(S[1]=[createBaseVNode("path",{fill:"currentColor",d:"M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"},null,-1)])])):(openBlock(),createElementBlock("svg",_hoisted_5,[...S[2]||(S[2]=[createBaseVNode("path",{fill:"currentColor",d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"},null,-1)])])),createBaseVNode("span",_hoisted_6,toDisplayString(f.value?"":"")+"",1)])])])]),createBaseVNode("div",{class:normalizeClass(["content-wrapper",{"sidebar-hidden":f.value}])},[createBaseVNode("div",{ref_key:"mainScrollRef",ref:r,class:"main-scroll-container"},[createBaseVNode("main",_hoisted_7,[createVNode(HomeView)])],512),createBaseVNode("div",{ref_key:"sidebarScrollRef",ref:i,class:normalizeClass(["sidebar-scroll-container",{collapsed:f.value}])},[createBaseVNode("aside",_hoisted_8,[createBaseVNode("div",_hoisted_9,[createVNode(WeatherTime),createVNode(MusicPlayer),createVNode(ArticleList)])])],2)],2),createBaseVNode("footer",_hoisted_10,[createBaseVNode("div",_hoisted_11,[createBaseVNode("span",null," "+toDisplayString(new Date().getFullYear())+" Severj.top",1),S[4]||(S[4]=createBaseVNode("a",{href:"/",class:"footer__link"},"",-1))])])],512))}},App=_export_sfc(_sfc_main,[["__scopeId","data-v-58cc494a"]]);createApp(App).mount("#app");export{requireBuffer as r};
